;/*FB_PKG_DELIM*/

__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return s.createElement(r("CometAccessibilityAnnouncement.react"),babelHelpers.extends({},e,{key:t}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n,a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,h=t.ariaMultiline,y=t.ariaOwneeID,C=t.ariaRequired,b=t.autoCapitalize,v=t.autoComplete,S=t.autoCorrect,R=t.contentEditableRef,L=t.isInitiallyFocused,E=L===void 0?!1:L,k=t.role,I=k===void 0?"textbox":k,T=t.spellCheck,D=T===void 0?!1:T,x=t.tabIndex,$=t.webDriverTestID,P=t.xstyle,N=babelHelpers.objectWithoutPropertiesLoose(t,e),M=o("LexicalComposerContext").useLexicalComposerContext(),w=M[0],A=f(void 0),F=A[0],O=A[1],B=f(void 0),W=B[0],q=B[1],U=r("useCometLexicalSubscription")(_(function(){return r("mlcEditableSubscription")(w)},[w]));return p(function(){return w.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&O(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&q(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},[w]),m(function(){E&&w.focus(function(){var e=document.activeElement,t=w.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},[w,E]),c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:F!=null?F:void 0,ariaAutoComplete:a,ariaControls:W!=null?W:void 0,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:(n=u==null?void 0:u.toString())!=null?n:void 0,ariaLabelledBy:d,ariaMultiline:h,ariaOwns:y,ariaRequired:C!=null?C:void 0,autoCapitalize:b,autoComplete:v,autoCorrect:S,className:(s||(s=r("stylex")))(g.editor,P)+" "+(U?"notranslate":""),"data-testid":void 0,ref:R,role:I,spellCheck:D,suppressContentEditableWarning:!0,tabIndex:x},N))}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=t.children,o=t.xstyle;return u.jsx("div",babelHelpers.extends({children:n},(e||(e=r("stylex"))).props(c.placeholder,o)))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("DirectRequestsDeclineButtonConfirmFalcoEventDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("DirectRequestsDeclineButtonConfirmFalcoEvent").__setRef("DirectRequestsDeclineButtonConfirmFalcoEventDeferred");function s(t){var n=t.all_used,r=t.e_counter_channel,o=t.is_interop,a=t.is_spam,i=t.is_unread,l=t.num_requests_visible,s=t.num_selected,u=t.thread_id;e.onReady(function(e){return e.log(function(){return{all_used:n,e_counter_channel:r,is_interop:o,is_spam:a,is_unread:i,num_requests_visible:l,num_selected:s,thread_id:u}})})}l.logDirectRequestsDeclineButtonConfirmFalcoEvent=s}),98);
__d("DirectRequestsThreadAllowFalcoEventDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("DirectRequestsThreadAllowFalcoEvent").__setRef("DirectRequestsThreadAllowFalcoEventDeferred");function s(t){var n=t.folder,r=t.is_interop,o=t.is_spam,a=t.is_unread;e.onReady(function(e){return e.log(function(){return{folder:n,is_interop:r,is_spam:o,is_unread:a}})})}l.logDirectRequestsThreadAllowFalcoEvent=s}),98);
__d("DirectRequestsThreadDeclineFalcoEventDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("DirectRequestsThreadDeclineFalcoEvent").__setRef("DirectRequestsThreadDeclineFalcoEventDeferred");function s(t){var n=t.e_counter_channel,r=t.is_interop,o=t.is_unread;e.onReady(function(e){return e.log(function(){return{e_counter_channel:n,is_interop:r,is_unread:o}})})}l.logDirectRequestsThreadDeclineFalcoEvent=s}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});i.default=e}),66);
__d("IGDAWAdminWriteMsgTxn",["I64","LSAuthorityLevel","LSIntEnum","LSMessageSendStatus","LSMessageUnsendabilityStatus","WAGlobals","WAJids","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i,l=r("uuidv4")(),u="admin:"+(e||(e=o("I64"))).to_string(n.threadKey)+":"+l,c=(a=n.timestampMs)!=null?a:(e||(e=o("I64"))).of_float(Date.now());yield t.messages.put({adminMsgCtaType:n.ctaType,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:s.ofNumber(r("LSMessageUnsendabilityStatus").DENY_LOG_MESSAGE),displayedContentTypes:s.ofNumber(32),isAdminMessage:!0,messageId:u,offlineThreadingId:l,primarySortKey:c,secondarySortKey:void 0,senderId:(i=n.senderId)!=null?i:(e||(e=o("I64"))).of_string(o("WAJids").extractUserId(o("WAGlobals").getMyUserJid())),sendStatus:s.ofNumber(r("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:s.ofNumber(2),text:n.text,threadKey:n.threadKey,timestampMs:c,transportKey:"FBBroker"})}),c.apply(this,arguments)}l.writeAdminMessageTxn=u}),98);
__d("IGDAcceptOpenMessageRequestLogger",["DirectRequestsThreadAllowFalcoEventDeferred","I64","LSIntEnum","MWPIsThreadUnread","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(a));n!=null&&o("DirectRequestsThreadAllowFalcoEventDeferred").logDirectRequestsThreadAllowFalcoEvent({folder:n.igFolder!=null?(e||(e=o("I64"))).to_string(n.igFolder):void 0,is_interop:!1,is_spam:(e||(e=o("I64"))).equal(n.parentThreadKey,(s||(s=o("LSIntEnum"))).ofNumber(-3)),is_unread:o("MWPIsThreadUnread").isThreadUnread(n)})})())}l.logAcceptOpenMessageRequest=u}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,l){o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&r("promiseDone")(a.runInTransaction((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var i,s=(i=yield o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(t){var n=t[0],r=t[1];return!(e||(e=o("I64"))).equal(r.id,l)})))!=null?i:[void 0,void 0],u=s[0],c=s[1];if(c!=null){var d=babelHelpers.extends({},c,{contactViewerRelationship:(e||(e=o("I64"))).of_string("2")});yield n.contacts.upsert([c.id],d),o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType)&&(yield r("LSAddMessengerContactStoredProcedure")(r("LSFactory")(n),{contactId:c.id}))}});return function(e){return i.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":39"))}l.call=s}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=r("useReStore")))();return o("Int64Hooks").useCallbackInt64(function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":25"))},[n,t])}l.default=s}),98);
__d("IGDAcceptOpenMessageRequestComposerBannerButton.react",["fbt","I64","IGDAcceptOpenMessageRequestLogger","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWPActor.react","MessengerWebUXLogger","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWLSAcceptMessageRequest"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(11),a=e.thread,i=r("useAsyncReStore")(),l=o("MWPActor.react").useActor(),d=a.threadKey,m=r("useMWLSAcceptMessageRequest")(d),p=r("MessengerWebUXLogger").useInteractionLogger(),_=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),f,g;t[0]!==m||t[1]!==l||t[2]!==i||t[3]!==_||t[4]!==p||t[5]!==a?(f=function(){m();var e=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(a);p==null||p({eventName:"accept_chat_request",extraData:{is_request:String(e),target_id:(u||(u=o("I64"))).to_string(a.threadKey)},flowInstanceId:_});var t=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield i;o("IGDAcceptOpenMessageRequestLogger").logAcceptOpenMessageRequest(e,a.threadKey),o("MAWOptimisticUpdateContactRelationship").call(a,e,l)});return function(){return e.apply(this,arguments)}})();r("promiseDone")(t())},g=[m,l,i,_,p,a],t[0]=m,t[1]=l,t[2]=i,t[3]=_,t[4]=p,t[5]=a,t[6]=f,t[7]=g):(f=t[6],g=t[7]);var h=o("Int64Hooks").useCallbackInt64(f,g),y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Accept"),t[8]=y):y=t[8];var C;return t[9]!==h?(C=c.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:y,onClick:h,role:"button",variant:"secondary_link"}),t[9]=h,t[10]=C):C=t[10],C}l.default=d}),226);
__d("IGDBaseNullState.react",["CometColumn.react","CometColumnItem.react","IGDSText.react","cr:19743","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(16),a=e.children,i=e.descriptionText,l=e.icon,u=e.titleText,c;t[0]!==l?(c=l!=null?l:s.jsx(n("cr:19743"),{alt:"",color:"ig-primary-icon",size:96}),t[0]=l,t[1]=c):c=t[1];var d;t[2]!==c?(d=s.jsx(r("CometColumnItem.react"),{children:c}),t[2]=c,t[3]=d):d=t[3];var m;t[4]!==u?(m=s.jsx(r("CometColumnItem.react"),{paddingTop:20,children:s.jsx(r("IGDSText.react"),{elementType:"h2",size:"title",textAlign:"center",children:u})}),t[4]=u,t[5]=m):m=t[5];var p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x17fpy1y"},t[6]=p):p=t[6];var _;t[7]!==i?(_=s.jsx(r("CometColumnItem.react"),{paddingTop:16,children:s.jsx("div",babelHelpers.extends({},p,{children:s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",weight:"normal",children:i})}))}),t[7]=i,t[8]=_):_=t[8];var f;t[9]!==a?(f=a!=null&&s.jsx(r("CometColumnItem.react"),{paddingTop:20,children:a}),t[9]=a,t[10]=f):f=t[10];var g;return t[11]!==d||t[12]!==m||t[13]!==_||t[14]!==f?(g=s.jsxs(r("CometColumn.react"),{align:"center",expanding:!0,paddingHorizontal:16,verticalAlign:"center",children:[d,m,_,f]}),t[11]=d,t[12]=m,t[13]=_,t[14]=f,t[15]=g):g=t[15],g}l.default=u}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),c=s("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),d=s("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=s("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),p=s("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),_=s("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),f=s("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),g=s("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function h(e){switch(e.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function y(t,n,a){m.onReady(function(i){i.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:a,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:a!=null?a:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function C(t,n){f.onReady(function(a){a.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function b(t,n,a,i){_.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function v(t,n,a,i){p.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function S(e,t){g.onReady(function(n){n.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:t,request_id:void 0}})})}function R(e,t,n,r,o){d.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function L(e,t,n,r,o){u.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function E(e,t,n){c.onReady(function(r){r.log(function(){return{action:t,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:n,request_id:void 0}})})}l.logMessageRequestInfoShown=y,l.logDenialOptionsTapped=C,l.logActionTapped=b,l.logActionConfirmed=v,l.logMessageRequestsView=S,l.logMessageRequestsBulkActionTapped=R,l.logMessageRequestsBulkActionConfirmed=L,l.logMessageRequestsBulkActionEdit=E}),98);
__d("IGDBlockUserComposerBannerButton.react",["fbt","FBLogger","I64","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MessageRequestsLog","MessengerWebUXLogger","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useAsyncReStore","useIGDSLazyDialog","useMWBShouldReportThreadAsInstamadillo"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(14),a=e.contact,i=e.thread,l=r("useAsyncReStore")(),d=r("useMWBShouldReportThreadAsInstamadillo")(i),p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=r("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDBlockUserComposerBannerButton.react"),t[0]=p):p=t[0];var _=r("useIGDSLazyDialog")(p),f=_[0],g=r("MessengerWebUXLogger").useInteractionLogger(),h=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),y,C;t[1]!==a.id||t[2]!==a.name||t[3]!==l||t[4]!==h||t[5]!==g||t[6]!==d||t[7]!==f||t[8]!==i?(y=function(){var e=o("LSMessagingThreadTypeUtil").isGroup(i.threadType),t=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(i);f({clickPoint:"composer_banner",contactID:(u||(u=o("I64"))).to_string(a.id),isBlocked:!1,isGroup:e,onBlock:function(){d&&r("promiseDone")(l.then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("MWLSThread").getThreadAsync(e,i.threadKey);t?o("MessageRequestsLog").logActionConfirmed(t,2,(u||(u=o("I64"))).to_string(a.id)):r("FBLogger")("igd_web").warn("thread is empty to log")});return function(t){return e.apply(this,arguments)}})()))},shouldReportAsInstamadillo:d,threadKey:u.to_string(i.threadKey),userName:a.name},m),d&&r("promiseDone")(l.then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("MWLSThread").getThreadAsync(e,i.threadKey);t?o("MessageRequestsLog").logActionTapped(t,2,(u||(u=o("I64"))).to_string(a.id)):r("FBLogger")("igd_web").warn("thread is empty to log")});return function(t){return e.apply(this,arguments)}})())),g==null||g({eventName:"block_profile_attempt",extraData:{is_request:String(t),target_id:(u||(u=o("I64"))).to_string(a.id)},flowInstanceId:h})},C=[a.id,a.name,l,h,g,d,f,i],t[1]=a.id,t[2]=a.name,t[3]=l,t[4]=h,t[5]=g,t[6]=d,t[7]=f,t[8]=i,t[9]=y,t[10]=C):(y=t[9],C=t[10]);var b=o("Int64Hooks").useCallbackInt64(y,C),v;t[11]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Block"),t[11]=v):v=t[11];var S;return t[12]!==b?(S=c.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:v,onClick:b,role:"button",variant:"destructive_link_deprecated"}),t[12]=b,t[13]=S):S=t[13],S}function m(){}l.default=d}),226);
__d("IGDBlockedBroadcastThreadDetail.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","LSVerificationBadge.react","MWPThreadContextBanner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.descriptionText,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"xz9dl7a"},t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx("div",babelHelpers.extends({},a,{children:u.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:n})})),t[1]=n,t[2]=i):i=t[2],i}function d(e){var t=o("react-compiler-runtime").c(9),n=e.thread,a=e.threadTitle,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x9f619 x1onr9mi x1pic42t xh8yej3"},t[0]=l):l=t[0];var s;t[1]!==a?(s=u.jsx(r("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),t[1]=a,t[2]=s):s=t[2];var c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(r("IGDSVerifiedBadge.react"),{size:"small"}),t[3]=c):c=t[3];var d;t[4]!==n.threadKey?(d=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(r("LSVerificationBadge.react"),{icon:c,threadKey:n.threadKey})}),t[4]=n.threadKey,t[5]=d):d=t[5];var m;return t[6]!==s||t[7]!==d?(m=u.jsx("div",babelHelpers.extends({},l,{children:u.jsxs(r("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[s,d]})})),t[6]=s,t[7]=d,t[8]=m):m=t[8],m}function m(e){var t=o("react-compiler-runtime").c(5),n=e.thread,a;t[0]!==n?(a=function(t){return u.jsx(d,{thread:n,threadTitle:t})},t[0]=n,t[1]=a):a=t[1];var i;return t[2]!==a||t[3]!==n?(i=u.jsx(r("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",margin:"auto",maxWidth:"415px",padding:12,position:"relative",children:u.jsx(r("MWPThreadContextBanner.react"),{renderNullStateDescription:_,renderThreadPicture:p,renderThreadTitle:a,thread:n})}),t[2]=a,t[3]=n,t[4]=i):i=t[4],i}function p(e){return u.jsx("div",{className:"xyamay9 x1l90r2v",children:u.jsx(r("IGDAvatar.react"),{size:"XXL",thread:e})})}p.displayName=p.name+" [from "+i.id+"]";function _(){return u.jsx(c,{descriptionText:s._(/*BTDS*/"Use the Instagram app on your mobile device to join this channel").toString()})}_.displayName=_.name+" [from "+i.id+"]",l.default=m}),226);
__d("IGDComposerEmojiButton.react",["IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","Promise","cr:8230","cr:8238","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("IGDAddEmojiToComposerForLexical").__setRef("IGDComposerEmojiButton.react");function d(t){var a=o("react-compiler-runtime").c(11),i=t.editor,l;a[0]!==i?(l=function(o){r("promiseDone")(c.load().then(function(t){return t(o,i),(e||(e=n("Promise"))).resolve()}))},a[0]=i,a[1]=l):l=a[1];var s=l,d=r("MessengerWebUXLogger").useInteractionLogger(),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p;a[2]!==m?(p={eventName:"composer_emoji_picker_button_rendered",flowInstanceId:m},a[2]=m,a[3]=p):p=a[3];var _=r("MessengerWebUXLogger").useImpressionLoggerRef(p),f;a[4]!==m||a[5]!==d?(f=function(){d==null||d({eventName:"composer_open_emoji_picker",flowInstanceId:m})},a[4]=m,a[5]=d,a[6]=f):f=a[6];var g=f,h;return a[7]!==g||a[8]!==_||a[9]!==s?(h=n("cr:8230")?u.jsx(n("cr:8230"),{logClickEvent:g,logImpressionEventRef:_,onSelect:s}):n("cr:8238")?u.jsx(n("cr:8238"),{logClickEvent:g,logImpressionEventRef:_,onSelect:s}):null,a[7]=g,a[8]=_,a[9]=s,a[10]=h):h=a[10],h}l.default=d}),98);
__d("IGDComposerIconSendButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMessagesFilledIcon.react","PolarisUA","qex","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={chatTabSendButtonDesktop:{marginInlineEnd:"x1mpyi22",$$css:!0},sendButton:{alignSelf:"x7fd4wk",backgroundColor:"x1tu34mt",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x90ne7k",marginBottom:"xu06os2",width:"xvni27",$$css:!0},sendButtonDesktop:{marginBottom:"xjpr12u",marginInlineEnd:"xnnr8r",$$css:!0},sendButtonDisabled:{cursor:"x1h6gzvc",opacity:"xuzhngd",$$css:!0},sendButtonIcon:{marginTop:"x1gslohp",$$css:!0},sendButtonOnHover:{":hover_filter":"x1spsku0",$$css:!0},sendButtonPrismIcon:{marginTop:"xdj266r",$$css:!0},sendEditButtonMobile:{marginBottom:"xat24cr",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.hidden,a=e.isDisabled,i=e.isEdit,l=e.onClick,d=e.ref,m=e.testid,p=r("useIsChatTabsDisplay")(),_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=r("qex")._("3938"),t[0]=_):_=t[0];var f=_,g;return t[1]!==n||t[2]!==p||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==d||t[7]!==m?(g=n!==!0&&u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:d,isDisabled:a,label:s._(/*BTDS*/"Send"),onClick:l,xstyle:[c.sendButton,a?c.sendButtonDisabled:c.sendButtonOnHover,i===!0&&(o("PolarisUA").isMobile()?c.sendEditButtonMobile:[c.sendButtonDesktop,p&&c.chatTabSendButtonDesktop])],children:u.jsx(r("IGDSBox.react"),{xstyle:[c.sendButtonIcon,f===!0&&c.sendButtonPrismIcon],children:u.jsx(r("IGDSMessagesFilledIcon.react"),{alt:s._(/*BTDS*/"Send"),color:"web-always-white",size:18})})}),t[1]=n,t[2]=p,t[3]=a,t[4]=i,t[5]=l,t[6]=d,t[7]=m,t[8]=g):g=t[8],g}l.default=d}),226);
__d("IGDGetMessageForLSOptimisticEdit",["LSDatabaseSingleton","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.messageId,r=t.threadKey,a=t.timestampMs,i=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(r,a,n));return l}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDRevertOptimisticMessage",["LSDatabaseSingleton","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();return r.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(t)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":20")}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDWriteOptimisticLSEditMessage",["I64","LSDatabaseSingleton","LSIntEnum","LSMessageSendStatus","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.message,l=t.text,c=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),d=a.editCount!=null?(s||(s=o("I64"))).to_float(a.editCount):0,m=d+1,p=babelHelpers.extends({},a,{editCount:(s||(s=o("I64"))).of_float(m),sendStatus:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:u.ofNumber(1),text:l});return c.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(p)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":42")}),d.apply(this,arguments)}l.default=c}),98);
__d("IGDMAPIEditMessage",["IGDGetMessageForLSOptimisticEdit","IGDMAPIQPLPoints","IGDMessageSendService","IGDRevertOptimisticMessage","IGDWriteOptimisticLSEditMessage","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","getSafeQplErrorMessage","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e,t.messageId,t.offlineThreadingId),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{string:{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.EDIT_MESSAGE}},instanceKey:a.instanceKey}),l=n!=null?yield r("IGDGetMessageForLSOptimisticEdit")({messageId:t.messageId,threadKey:n.threadKey,timestampMs:n.timestampMs}):null;try{var s={body:{sensitive_string_value:t.text},offline_threading_id:t.offlineThreadingId,target_message_id:t.messageId,thread_id:t.threadId},u={variables:s};n!=null&&l!=null&&(i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START),yield r("IGDWriteOptimisticLSEditMessage")({message:l,text:t.text}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var c=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START),yield c.publish({commitMutationConfig:u,type:"edit_message"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){n!=null&&l!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDRevertOptimisticMessage")(l),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPIEditMessage=e}),98);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:22296","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22296")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22434")),r("gkx")("23219"));l.default=e}),98);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=e.onError,n=e.onLoad,o=e.videoRef;return s(function(){var e=o==null?void 0:o.current;function a(){n==null||n()}function i(e){var n=e.currentTarget,o=n.error,a=r("getErrorNameFromMediaErrorCode")(o==null?void 0:o.code);t==null||t(a)}if((e==null?void 0:e.readyState)!=null&&e.readyState>=2){a();return}return e==null||e.addEventListener("canplay",a),e==null||e.addEventListener("error",i),function(){e==null||e.removeEventListener("canplay",a),e==null||e.removeEventListener("error",i)}},[t,n,o]),null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function _(e){var t=e.hasError,n=t===void 0?!1:t,r=e.progress;if(r===1||r==null)return null;var o=4,a=n?"var(--negative)":"var(--chat-composer-button-color, var(--accent))",i=Math.ceil(r*100),l=(o/2).toString(),s="M 0,"+l+" L 100,"+l;return u.jsxs("svg",{"aria-hidden":!0,className:"x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:o.toString()},viewBox:"0 0 100 "+o.toString(),children:[u.jsx("path",{d:s,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:o.toString()}),u.jsx("path",{d:s,stroke:a,strokeLinecap:"round",strokeWidth:(i===0?0:o).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-i).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.children,n=e.hasError,a=n===void 0?!1:n,i=e.onCancel,l=e.progress,c=e.testid;return u.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:p.card,children:[u.jsxs(o("react-strict-dom").html.div,{style:p.contentWrapper,children:[t,u.jsx(_,{hasError:a,progress:l})]}),i!=null&&u.jsx(o("react-strict-dom").html.div,{style:p.cancelButton,children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Cancel"),icon:r("MWXIconCross"),onPress:i,size:24,type:"overlay"})})]})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.hasError,n=t===void 0?!1:t,o=e.onCancel,a=e.onError,i=e.onLoad,l=e.progress,s=e.src;return u.jsx(f,{hasError:n,onCancel:o,progress:l,testid:void 0,children:u.jsx(r("MWXImage.react"),{objectFit:"contain",onError:a,onLoad:i,src:s,xstyle:p.imagePreview})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=m(null);return u.jsxs(f,{hasError:n,onCancel:a,progress:s,testid:void 0,children:[u.jsx(r("MWXVideoStatusListener.react"),{onError:i,onLoad:l,videoRef:d}),u.jsx("video",{className:"xl1xv1r",height:"48",ref:d,src:c,width:"48"}),u.jsx(o("react-strict-dom").html.div,{style:p.playIcon,children:u.jsx(r("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onLoad,l=e.progress,s=e.title;return d(function(){i==null||i()},[i]),u.jsx(f,{hasError:n,onCancel:a,progress:l,testid:void 0,children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:s,children:u.jsxs(o("react-strict-dom").html.div,{style:p.filePreview,children:[u.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconDocument"),isDecorative:!0,size:20}),u.jsx(r("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:s})]})})})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.isDisabled,n=e.onPress,o=s._(/*BTDS*/"Upload another file");return u.jsx(f,{children:u.jsx(r("MWXPressable.react"),{"aria-label":o,disabled:t,onPress:n,testid:void 0,xstyle:p.imagePreview,children:u.jsx(r("MWXIconStrict.react"),{color:t?"disabled":"primary",icon:r("MWXIconPhotoPlus"),size:24})})})}C.displayName=C.name+" [from "+i.id+"]",l.MWXComposerImageAttachmentPreview=g,l.MWXComposerVideoAttachmentPreview=h,l.MWXComposerFileAttachmentPreview=y,l.MWXComposerAddAttachmentButton=C}),226);
__d("MWXComposerButtonContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({});l.default=u}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function c(e){var t=e.children,n=e["data-testid"],r=e.padding,a=r===void 0?0:r,i=e.scrollable,l=e.xStyle;return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.row,a===12&&u.padding12,a===4&&u.padding4,a===6&&u.padding6,i===!0&&u.scrollable,l],children:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},c={color:"secondary",size:24};function d(e){var t=e.bodyText,n=e.bodyTextColor,a=e.bodyTextType,i=e["data-testid"],l=e.hasTopBorder,d=l===void 0?!1:l,m=e.headlineText,p=e.headlineTextType,_=e.leftAddon,f=e.level,g=f===void 0?3:f,h=e.loadingIndicator,y=e.rightAddon,C=e.subtext,b=e.xstyle;return h!=null?s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body],children:h}):s.jsxs(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body,d&&u.border,b],children:[_!=null&&_,(t!=null||C!=null||m!=null)&&s.jsx(r("MWXTextPairing.react"),{body:t!=null&&a!=null?s.jsx(r("MWXText.react"),{color:n,type:a,children:t}):t!=null?s.jsx(r("MWXText.react"),{color:n,type:"body4",children:t}):void 0,headline:m!=null&&p!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:p,children:m}):m!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:g,meta:C}),y!=null&&s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsx(o("react-strict-dom").html.div,{style:u.rightAddon,children:y})})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","disableTooltip","isShown","label","size","type","wrapperStyle","wrapperXStyle"],u,c=u||(u=o("react")),d=u.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function p(t){var n,a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.color,u=i.disableTooltip,p=i.isShown,f=i.label,g=i.size,h=i.type,y=h===void 0?"deemphasized":h,C=i.wrapperStyle,b=i.wrapperXStyle,v=babelHelpers.objectWithoutPropertiesLoose(i,s),S=d(r("MWXComposerButtonContext.react")),R=S.color,L=S.iconRatio,E=L===void 0?"medium":L,k=S.paddingHorizontal,I=k===void 0?"none":k,T=S.size,D=T===void 0?36:T;return c.jsx(o("react-strict-dom").html.div,{style:[I==="small"&&m.horizontalPaddingSmall,m.layoutWrapper,[b,C],p===!0&&m.shown],children:c.jsx(_,{disableTooltip:u,label:f,children:c.jsx(r("MWXCircleButton.react"),babelHelpers.extends({},v,{"aria-label":f,color:(n=l!=null?l:R)!=null?n:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:E,ref:a,size:g!=null?g:D,type:y}))})})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.children,n=e.disableTooltip,o=e.label;return n===!0?t:c.jsx(r("MWXTooltip.react"),{position:"above",tooltip:o,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},c={iconRatio:"large",paddingHorizontal:"none",size:28};function d(e){var t=e.children,n=e.composerRowXStyle,a=e.header,i=e.xstyle;return s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsxs(o("react-strict-dom").html.div,{style:[u.colors,u.flexLayout,i],children:[a,s.jsx(r("MWXComposerRow.react"),{padding:4,xStyle:n,children:t})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],s,u=s||(s=o("react")),c=s.useContext,d={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function m(t){var n=t.color,a=n===void 0?"blue":n,i=t.label,l=t.size,s=t.spinnerSize,m=s===void 0?20:s,p=t.wrapperStyle,_=t.wrapperXStyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e);r("vulture")("KlrXhW9hvp38Mnhm0K63c87LFnQ=");var g=c(r("MWXComposerButtonContext.react")),h=g.paddingHorizontal,y=h===void 0?"none":h,C=g.size,b=C===void 0?36:C,v=(l!=null?l:b)+"px";return u.jsx(o("react-strict-dom").html.div,{style:[y==="small"&&d.horizontalPaddingSmall,d.layoutWrapper,[_,p],[{height:v,width:v}]],children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:i,children:u.jsx(r("MWXSpinner.react"),babelHelpers.extends({color:a,size:m},f))})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=e.children,n=e.contentEditableProps,a=e.placeholderText,i=e.testid,l=a==null?{}:{"aria-placeholder":a,placeholder:s.jsx(r("CometLexicalPlaceholder.react"),{children:a})},c=s.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({tabIndex:0,webDriverTestID:i},l,n));return s.jsxs(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:u.padding,children:[s.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:c}),t]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function d(e){var t=e.children,n=e.editor,a=e.header,i=e.testid,l=e.xstyle,d=o("LexicalComposerContext").createLexicalComposerContext(),m=u(function(){return[n,d]},[n,d]);return s.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:m,children:[s.jsxs(o("react-strict-dom").html.div,{style:[c.composer,c.flexLayout],children:[a,s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[c.padding,l],children:t})]}),s.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]})}d.displayName=d.name+" [from "+i.id+"]";var m={Add:o("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:o("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:o("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:o("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};l.Composer=d,l.Button=r("MWXComposerIconButton.react"),l.TextEditor=r("MWXComposerTextEditor.react"),l.InputArea=r("MWXComposerInputArea.react"),l.Header=r("MWXComposerHeader.react"),l.Row=r("MWXComposerRow.react"),l.Spinner=r("MWXComposerSpinner.react"),l.Attachments=m}),98);
__d("issueEditInstamadilloMessage",["IGDBridgedAPI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("IGDBridgedAPI").sendEditMessage(e)}l.default=e}),98);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[2]=a.editCount,r[1]=t.i64.of_float(Date.now()),t.i64.lt(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,5]))&&t.i64.le(r[1],t.i64.add(a.timestampMs,t.i64.cast([0,9e5])))?t.sequence([function(o){return t.storedProcedure(n("LSEditMessage"),a.messageId,t.i64.cast([0,20]),e[1],t.i64.add(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,1])))},function(o){return r[3]=new t.Map,r[3].set("message_id",e[0]),r[3].set("text",e[1]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[7]=t.i64.of_float(Date.now()),r[4]=t.i64.add(r[7],t.i64.cast([0,0]))):r[4]=t.i64.cast([0,0]),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"edit_message",t.i64.cast([0,742]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[4],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(e){return t.resolve()}]):t.resolve(0))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure",e.__tables__=["messages","pending_tasks"],a.exports=e}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticEditMessage"),a.messageId,a.text);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=(e||(e=r("useReStore")))();return u(function(e,n){return r("promiseDone")(t.runInTransaction(function(t){return r("LSOptimisticEditMessageStoredProcedure")(r("LSFactory")(t),{messageId:e,text:n})},"readwrite",void 0,void 0,i.id+":27"))},[t])}l.default=c}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useInsertionEffect,d=s.useLayoutEffect,m=s.useRef,p=250;function _(e,t){var n=e.clearReplyState,a=e.editor,i=e.onSend,l=m(null),s=m(t);c(function(){s.current=t},[t]);var _=u(function(){var e=i(s.current);n==null||n(),e&&a.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND)},[i,n,a]);return d(function(){return a.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(e!=null&&!e.shiftKey&&!e.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();var t=l.current;return t!=null&&e.timeStamp-t<=p&&r("gkx")("15485")?(l.current=e.timeStamp,!0):(_(),l.current=e.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[a,_]),{onSend:_}}l.default=_}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t){t===void 0&&(t=!1),s(function(){return e.registerCommand(o("Lexical").CLEAR_EDITOR_COMMAND,function(){return e.update(function(){var e=o("Lexical").$getRoot(),n=o("Lexical").$getSelection(),r=o("Lexical").$createParagraphNode();e.clear(),e.append(r),n!==null&&(r.select(),t===!0&&o("Lexical").$isRangeSelection(n)&&(n.format=0))}),!0},o("Lexical").COMMAND_PRIORITY_EDITOR)},[t,e])}l.default=u}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode,o("CometLexicalEmojiNode").EmojiNode];function s(){var t=r("useStable")(function(){return o("Lexical").createEditor({namespace:"MWPEditor",nodes:e.filter(Boolean),onError:function(){},theme:babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});return r("useMWPLexicalClearEditor")(t),r("useLexicalInitializeEditor__DEPRECATED")(t),{editor:t}}l.useMWXLexicalEditor=s}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t,n){s(function(){t!=null&&e.update(function(){if(t!=null){var e=o("Lexical").$getRoot(),r=e.getFirstChild();o("Lexical").$isParagraphNode(r)||(r=o("Lexical").$createParagraphNode(),e.append(r));var a=o("Lexical").$createTextNode(t);r.clear(),r.append(a),n===!0&&r.selectEnd()}})},[e])}l.default=u}),98);
__d("useShowNotEditableMessageToast",["fbt","IGDSErrorPanoOutlineIcon.react","PolarisToastConstants","react","react-compiler-runtime","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=o("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function m(){var e=o("react-compiler-runtime").c(2),t=r("useIGDSToaster")(),n;return e[0]!==t?(n=function(){t.add({icon:u.jsx(r("IGDSErrorPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Error Icon")}),message:s._(/*BTDS*/"Message not edited, sent messages can only be edited for 15 minutes"),target:"bottom-left"},{duration:d})},e[0]=t,e[1]=n):n=e[1],n}l.default=m}),226);
__d("IGDComposerEditContainer.react",["fbt","FBLogger","I64","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDInstamadilloUtils","IGDMAPIEditMessage","IGDMAPIInterfaceTypes","IGDOffMsysComposerUtils","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MAWEditMessageContext.react","MWXComposer.react","MessengerWebUXLogger","PolarisUA","ReQL","ReQLSuspense","RelayHooks","getErrorSafe","getIsMessageTimeBelowEditThreshold","isStringNullOrEmpty","issueEditInstamadilloMessage","promiseDone","react","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useEffect,g=p.useMemo,h=p.useState,y={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}},C=o("IGDOffMsysComposerUtils").enableIGDOffMsysComposer();function b(t){var n=t.editMessageData,a=t.headerText,l=t.onEditCancelCallback,d=l===void 0?null:l,p=t.onEditTriggerCallback,b=p===void 0?null:p,v=t.threadFbid,S=o("RelayHooks").useRelayEnvironment(),R=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"composer_edit_message"}),L=r("MessengerWebUXLogger").useInteractionLogger(),E=_(o("MAWEditMessageContext.react").Context),k=E.setEditMessageData,I=o("useMWXLexicalEditor").useMWXLexicalEditor(),T=I.editor,D=r("useIsChatTabsDisplay")(),x=(u||(u=r("useReStore")))(),$=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(x.tables.messages).getKeyRange(n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs,n==null?void 0:n.messageId)},[x,n==null?void 0:n.messageId,n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs],i.id+":120"),P=g(function(){var e;return((e=$==null?void 0:$.text)!=null?e:"").trim()},[$==null?void 0:$.text]),N=r("useMAWGetSendEditActionforOpen")(),M=r("useServerTime")(),w=o("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((c||(c=o("I64"))).of_float(M.getTime()),n.timestampMs),A=function(){if(w){var t=T.getEditorState().read(o("LexicalText").$rootTextContent).trim();if(r("isStringNullOrEmpty")(t)||t===P)return!1;if(C&&$!=null&&v!=null){var a;o("IGDMAPIEditMessage").IGDMAPIEditMessage(S,{messageId:(a=o("IGDMAPIInterfaceTypes")).toMessageId(n.messageId),offlineThreadingId:a.toOfflineThreadingId($.offlineThreadingId),text:a.toMessage(t),threadId:a.toThreadId(v)},{threadKey:n.threadKey,timestampMs:n.timestampMs}).catch(function(t){var n=r("getErrorSafe")(t);r("FBLogger")("igd_web").tags(["OffMSYSComposer"]).catching(t).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to edit message: ",""])),n.message)})}else if(o("IGDInstamadilloUtils").isInstamadilloMessage($)){var i={messageId:n.messageId,text:t,threadKey:n.threadKey};r("promiseDone")(r("issueEditInstamadilloMessage")(i))}else N(n.messageId,t);return k(null),b&&b(),L==null||L({eventName:"edit_message"}),!0}else return F(),!1},F=r("useShowNotEditableMessageToast")(),O=function(){k(null),L==null||L({eventName:"edit_message_cancel"}),d&&d()};r("useMWXComposerClearAndSendOnEnter")({clearReplyState:null,editor:T,onSend:A});var B=h(!1),W=B[0],q=B[1];return f(function(){return T.registerTextContentListener(function(e){var t=e.trim();q(!r("isStringNullOrEmpty")(t)&&t!==P)})},[T,P]),r("usePrepopulateLexicalEditor")(T,P,!0),m.jsx(r("IGDSBox.react"),{containerRef:R,children:m.jsx(o("MWXComposer.react").Composer,{editor:T,header:m.jsx(o("MWXComposer.react").Header,{bodyText:a!=null?a:s._(/*BTDS*/"Editing message"),bodyTextColor:D?"secondary":"primary","data-testid":void 0,hasTopBorder:!0,rightAddon:m.jsx(r("IGDSIconButton.react"),{label:s._(/*BTDS*/"Cancel edit"),onClick:O,xstyle:y.cancelButton,children:m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15})}),xstyle:D&&y.chatTabComposerHeader},0),children:m.jsx(o("MWXComposer.react").Row,{children:m.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:D&&y.chatTabInnerComposerContainer,children:m.jsxs(o("MWXComposer.react").InputArea,{xstyle:[y.innerComposer,D&&y.chatTabInnerComposer,o("PolarisUA").isMobile()&&y.mobileInnerComposerContainer],children:[o("PolarisUA").isMobile()?null:m.jsx(r("IGDSBox.react"),{xstyle:[y.emojiButton,D&&y.chatTabEmojiButton],children:m.jsx(r("IGDComposerEmojiButton.react"),{editor:T})}),m.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),m.jsx(r("IGDSBox.react"),{children:m.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:!W,isEdit:!0,onClick:function(){A()},testid:void 0})})]})})})})})}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("IGDComposerEditContainerOffMsys_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerEditContainerOffMsys_SlideMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDComposerEditContainerOffMsys.react",["fbt","CometRelay","IGDComposerEditContainerOffMsys_SlideMessage.graphql","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDEditMessageContext.react","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MWXComposer.react","MessengerWebUXLogger","PolarisUA","getIsMessageTimeBelowEditThresholdOffMsys","isStringNullOrEmpty","react","react-compiler-runtime","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=d.useState,f={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}};function g(t){var a,i,l,u=o("react-compiler-runtime").c(54),d=t.editMessageData,p=t.headerText,g=t.onEditCancelCallback,h=t.onEditTriggerCallback,y=g===void 0?null:g,C=h===void 0?null:h,b;u[0]===Symbol.for("react.memo_cache_sentinel")?(b={eventName:"composer_edit_message"},u[0]=b):b=u[0];var v=r("MessengerWebUXLogger").useImpressionLoggerRef(b),S=r("MessengerWebUXLogger").useInteractionLogger(),R=o("IGDEditMessageContext.react").useIGDEditSetterContext(),L=R.clearEditMessageData,E=o("useMWXLexicalEditor").useMWXLexicalEditor(),k=E.editor,I=r("useIsChatTabsDisplay")(),T=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerEditContainerOffMsys_SlideMessage.graphql"),d.message);(a=T.content)==null||a.text_body;var D=(i=(l=T.content)==null?void 0:l.text_body)!=null?i:"",x;u[1]!==D?(x=D.trim(),u[1]=D,u[2]=x):x=u[2];var $=x,P=r("useMAWGetSendEditActionforOpen")(),N=r("useServerTime")(),M;u[3]!==T.timestamp_ms||u[4]!==N?(M=r("getIsMessageTimeBelowEditThresholdOffMsys")(N.getTime(),Number(T.timestamp_ms)),u[3]=T.timestamp_ms,u[4]=N,u[5]=M):M=u[5];var w=M,A=function(){if(w){var e=k.getEditorState().read(o("LexicalText").$rootTextContent).trim();return r("isStringNullOrEmpty")(e)||e===$?!1:(P(T.message_id,e),L(),C&&C(),S==null||S({eventName:"edit_message"}),!0)}else return F(),!1},F=r("useShowNotEditableMessageToast")(),O;u[6]!==L||u[7]!==S||u[8]!==y?(O=function(){L(),S==null||S({eventName:"edit_message_cancel"}),y&&y()},u[6]=L,u[7]=S,u[8]=y,u[9]=O):O=u[9];var B=O,W;u[10]!==k||u[11]!==A?(W={clearReplyState:null,editor:k,onSend:A},u[10]=k,u[11]=A,u[12]=W):W=u[12],r("useMWXComposerClearAndSendOnEnter")(W);var q=_(!1),U=q[0],V=q[1],H,G;u[13]!==k||u[14]!==$?(G=function(){return k.registerTextContentListener(function(e){var t=e.trim();V(!r("isStringNullOrEmpty")(t)&&t!==$)})},H=[k,$],u[13]=k,u[14]=$,u[15]=H,u[16]=G):(H=u[15],G=u[16]),m(G,H),r("usePrepopulateLexicalEditor")(k,$,!0);var z;u[17]!==p?(z=p!=null?p:s._(/*BTDS*/"Editing message"),u[17]=p,u[18]=z):z=u[18];var j=I?"secondary":"primary",K;u[19]===Symbol.for("react.memo_cache_sentinel")?(K=s._(/*BTDS*/"Cancel edit"),u[19]=K):K=u[19];var Q;u[20]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15}),u[20]=Q):Q=u[20];var X;u[21]!==B?(X=c.jsx(r("IGDSIconButton.react"),{label:K,onClick:B,xstyle:f.cancelButton,children:Q}),u[21]=B,u[22]=X):X=u[22];var Y=I&&f.chatTabComposerHeader,J;u[23]!==z||u[24]!==j||u[25]!==X||u[26]!==Y?(J=c.jsx(o("MWXComposer.react").Header,{bodyText:z,bodyTextColor:j,"data-testid":void 0,hasTopBorder:!0,rightAddon:X,xstyle:Y},0),u[23]=z,u[24]=j,u[25]=X,u[26]=Y,u[27]=J):J=u[27];var Z=I&&f.chatTabInnerComposerContainer,ee=I&&f.chatTabInnerComposer,te;u[28]===Symbol.for("react.memo_cache_sentinel")?(te=o("PolarisUA").isMobile()&&f.mobileInnerComposerContainer,u[28]=te):te=u[28];var ne;u[29]!==ee?(ne=[f.innerComposer,ee,te],u[29]=ee,u[30]=ne):ne=u[30];var re;u[31]!==k||u[32]!==I?(re=o("PolarisUA").isMobile()?null:c.jsx(r("IGDSBox.react"),{xstyle:[f.emojiButton,I&&f.chatTabEmojiButton],children:c.jsx(r("IGDComposerEmojiButton.react"),{editor:k})}),u[31]=k,u[32]=I,u[33]=re):re=u[33];var oe;u[34]===Symbol.for("react.memo_cache_sentinel")?(oe=c.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),u[34]=oe):oe=u[34];var ae=!U,ie;u[35]!==A?(ie=function(){A()},u[35]=A,u[36]=ie):ie=u[36];var le;u[37]!==ae||u[38]!==ie?(le=c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:ae,isEdit:!0,onClick:ie,testid:void 0})}),u[37]=ae,u[38]=ie,u[39]=le):le=u[39];var se;u[40]!==ne||u[41]!==re||u[42]!==le?(se=c.jsxs(o("MWXComposer.react").InputArea,{xstyle:ne,children:[re,oe,le]}),u[40]=ne,u[41]=re,u[42]=le,u[43]=se):se=u[43];var ue;u[44]!==Z||u[45]!==se?(ue=c.jsx(o("MWXComposer.react").Row,{children:c.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:Z,children:se})}),u[44]=Z,u[45]=se,u[46]=ue):ue=u[46];var ce;u[47]!==k||u[48]!==J||u[49]!==ue?(ce=c.jsx(o("MWXComposer.react").Composer,{editor:k,header:J,children:ue}),u[47]=k,u[48]=J,u[49]=ue,u[50]=ce):ce=u[50];var de;return u[51]!==v||u[52]!==ce?(de=c.jsx(r("IGDSBox.react"),{containerRef:v,children:ce}),u[51]=v,u[52]=ce,u[53]=de):de=u[53],de}l.default=g}),226);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743878"),s=o("FalcoLoggerInternal").create("ls_reply_rendered",e),u=s;l.default=u}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t,a,i,l=e.isBumpMessage,d=l===void 0?!1:l,m=e.isHotLike,p=m===void 0?!1:m,_=e.mentionIds,f=e.ranges,g=e.text,h=e.threadKey,y=e.transformEmoticons,C=y===void 0?!0:y,b=c(function(){var e;return new Set((e=_==null||_.split==null?void 0:_.split(","))!=null?e:[])},[_]),v=n("cr:2472")==null?g:n("cr:2472").unvault(g),S=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(v,[],b,h))==null?void 0:a.textWithSubstitutions)!=null?t:v,R=(i=o("useStringWithSubstitutions").useStringWithSubstitutions(v,h))!=null?i:v,L=s._(/*BTDS*/"Sticker").toString(),E=p?L:d?R:S;return u.jsx("div",{className:"xi81zsa",dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:f,renderers:{MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},text:E,transforms:C?o("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useContext,f=p.useEffect,g={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function h(e,t,n){var a=e.isUnsent,i=e.text,l=t||{},u=l.attachmentType,p=!r("isStringNullOrEmpty")(i);return a?s._(/*BTDS*/"Removed message"):p?m.jsx(r("MWChatReplyText.react"),{isHotLike:n,mentionIds:null,text:i!=null?i:s._(/*BTDS*/"Message").toString(),transformEmoticons:!1}):u?(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?s._(/*BTDS*/"Image"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?s._(/*BTDS*/"Video"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF"):s._(/*BTDS*/"Attachment"):s._(/*BTDS*/"Message")}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){if(t)return s._(/*BTDS*/"Replying to yourself");if(e){var n;return s._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[s._param("name",m.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",children:(n=e.firstName)!=null?n:e.name}),[1,r("getFBTSafeGenderFromGenderConst")(r("LSContactGenderToGenderConst")(e.gender))])])}else return s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")])}function C(t){var n=o("react-compiler-runtime").c(34),a=t.isArmadilloSecureThread,l=t.message,s=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),p=l.hotEmojiSize,_=l.messageId,g=l.senderId,C=l.text,v=l.threadKey,S=(c||(c=o("I64"))).equal(g,u),R;n[0]!==s.tables.contacts||n[1]!==g?(R=function(){return o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(g)},n[0]=s.tables.contacts,n[1]=g,n[2]=R):R=n[2];var L;n[3]!==s||n[4]!==g?(L=[s,g],n[3]=s,n[4]=g,n[5]=L):L=n[5];var E=o("ReQLSuspense").useFirst(R,L,i.id+":206"),k;n[6]!==s.tables.attachments||n[7]!==_||n[8]!==v?(k=function(){return o("ReQL").fromTableAscending(s.tables.attachments).getKeyRange(v,_)},n[6]=s.tables.attachments,n[7]=_,n[8]=v,n[9]=k):k=n[9];var I;n[10]!==s||n[11]!==_||n[12]!==v?(I=[s,_,v],n[10]=s,n[11]=_,n[12]=v,n[13]=I):I=n[13];var T=o("ReQLSuspense").useFirst(k,I,i.id+":211"),D;n[14]===Symbol.for("react.memo_cache_sentinel")?(D=[],n[14]=D):D=n[14],f(b,D);var x;n[15]!==p||n[16]!==a||n[17]!==C?(x=p!=null?C!=null&&C==="\uD83D\uDC4D"&&((c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))&&a:!1,n[15]=p,n[16]=a,n[17]=C,n[18]=x):x=n[18];var $=x,P;n[19]===Symbol.for("react.memo_cache_sentinel")?(P={className:"x1sa5p1d"},n[19]=P):P=n[19];var N=r("MDSTextPairing.react"),M=r("IGDSText.react"),w="body",A=y(E,S),F;n[20]!==M||n[21]!==A?(F=m.jsxs(M,{size:w,children:[A," "]}),n[20]=M,n[21]=A,n[22]=F):F=n[22];var O;n[23]!==T||n[24]!==$||n[25]!==l?(O=h(l,T,$),n[23]=T,n[24]=$,n[25]=l,n[26]=O):O=n[26];var B;n[27]!==N||n[28]!==F||n[29]!==O?(B=m.jsx(N,{body:F,level:3,meta:O}),n[27]=N,n[28]=F,n[29]=O,n[30]=B):B=n[30];var W;return n[31]!==B||n[32]!==P?(W=m.jsx("div",babelHelpers.extends({},P,{children:B})),n[31]=B,n[32]=P,n[33]=W):W=n[33],W}function b(){r("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:o("LsFalcoEventEntryPoint").messageActions}}}function S(e){var t=o("react-compiler-runtime").c(15),n=e.isArmadilloSecureThread,a=e.message,i=a.threadKey,l=_(o("MWPReplyContext.react").MWPReplyContext),u=l.clearReply,c=_(r("CometTriggerAccessibilityAlertContext")),d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},t[0]=d):d=t[0];var p;t[1]!==n||t[2]!==a?(p=m.jsx(r("CometErrorBoundary.react"),{fallback:R,children:m.jsx(C,{isArmadilloSecureThread:n,message:a})}),t[1]=n,t[2]=a,t[3]=p):p=t[3];var f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Cancel reply"),t[4]=f):f=t[4];var h;t[5]!==u||t[6]!==i||t[7]!==c?(h=function(){u(i,!0),c(s._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},t[5]=u,t[6]=i,t[7]=c,t[8]=h):h=t[8];var y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),t[9]=y):y=t[9];var b;t[10]!==h?(b=m.jsx(r("IGDSIconButton.react"),{label:f,onClick:h,xstyle:g.cancelButton,children:y}),t[10]=h,t[11]=b):b=t[11];var v;return t[12]!==p||t[13]!==b?(v=m.jsxs("div",babelHelpers.extends({},d,{"data-testid":void 0,children:[p,b]})),t[12]=p,t[13]=b,t[14]=v):v=t[14],v}function R(){return m.jsx(r("IGDSText.react"),{size:"body",children:s._(/*BTDS*/"Replying to message")})}R.displayName=R.name+" [from "+i.id+"]";function L(t){var n=o("react-compiler-runtime").c(15),a=t.messageId,l=t.messageTimestamp,s=t.thread,u=(e||(e=r("useReStore")))(),c=s.threadKey,d=s.threadType,p;n[0]!==d?(p=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),n[0]=d,n[1]=p):p=n[1];var _=p,f;n[2]!==u.tables.messages||n[3]!==a||n[4]!==l||n[5]!==c?(f=function(){return o("ReQL").fromTableAscending(u.tables.messages).getKeyRange(c,l,a)},n[2]=u.tables.messages,n[3]=a,n[4]=l,n[5]=c,n[6]=f):f=n[6];var g;n[7]!==u||n[8]!==a||n[9]!==l||n[10]!==c?(g=[u,c,a,l],n[7]=u,n[8]=a,n[9]=l,n[10]=c,n[11]=g):g=n[11];var h=o("ReQLSuspense").useFirst(f,g,i.id+":325"),y;return n[12]!==_||n[13]!==h?(y=h?m.jsx(S,{isArmadilloSecureThread:_,message:h}):null,n[12]=_,n[13]=h,n[14]=y):y=n[14],y}l.default=L}),226);
__d("IGDComposerAttachmentButton.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function p(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);if(t.length>0)return e(t)},t[0]=e,t[1]=n):n=t[1],n}function _(t){var n=o("react-compiler-runtime").c(11),a=t.multiple,i=t.onAttachmentsAdded,l=t.supportedFileTypes,u=t.threadKey,d=a===void 0?!0:a,_=(e||(e=r("useReStore")))(),f=o("MWPActor.react").useActor(),g=p(i),h=r("MessengerWebUXLogger").useInteractionLogger(),y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C;n[0]!==f||n[1]!==_||n[2]!==y||n[3]!==h||n[4]!==u?(C=function(t){return c.jsx(r("IGDSIconButton.react"),{onClick:function(){h==null||h({eventName:"composer_open_file_picker",flowInstanceId:y}),t(),m.onReady(function(e){return r("promiseDone")(e.log(_,void 0,u,"composer","attach",void 0,void 0,void 0,void 0,"image",f))})},children:c.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:s._(/*BTDS*/"Add Photo or Video"),color:"ig-primary-text"})})},n[0]=f,n[1]=_,n[2]=y,n[3]=h,n[4]=u,n[5]=C):C=n[5];var b;return n[6]!==d||n[7]!==g||n[8]!==l||n[9]!==C?(b=c.jsx(r("BaseFileSelector.react"),{accept:l,multiple:d,onFilesSelected:g,children:C}),n[6]=d,n[7]=g,n[8]=l,n[9]=C,n[10]=b):b=n[10],b}l.default=_}),226);
__d("IGDSMediaOutlineIcon.react",["IGDSMediaPanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSMediaPanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDComposerMediaStaging.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","cr:105","react","react-compiler-runtime","useCurrentDisplayMode","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState,g={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},h=s._(/*BTDS*/"Remove attachment"),y=s._(/*BTDS*/"Upload another photo\/video"),C=s._(/*BTDS*/"Image cover for attached media"),b=s._(/*BTDS*/"File Icon for non photo\/video file");function v(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);t.length>0&&e(t)},t[0]=e,t[1]=n):n=t[1],n}function S(e){var t=o("react-compiler-runtime").c(16),n=e.isStacking,a=e.multiple,i=e.onAttachmentsAdded,l=e.supportedFileTypes,s=a===void 0?!0:a,u=v(i),c=f(!1),m=c[0],p=c[1],_=r("useCurrentDisplayMode")()==="dark",h;t[0]!==n?(h={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(n===!0)<<0],t[0]=n,t[1]=h):h=t[1];var C=_?"primary":"black",b;t[2]!==n?(b=function(t){return d.jsx(r("IGDSIconButton.react"),{label:y,onClick:t,onHoverEnd:function(){return p(!1)},onHoverStart:function(){return p(!0)},xstyle:[g.uploadButton,n===!0&&g.stackingUploadButton],children:d.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:y,color:"ig-primary-text"})})},t[2]=n,t[3]=b):b=t[3];var S;t[4]!==s||t[5]!==u||t[6]!==l||t[7]!==b?(S=d.jsx(r("BaseFileSelector.react"),{accept:l,multiple:s,onFilesSelected:u,children:b}),t[4]=s,t[5]=u,t[6]=l,t[7]=b,t[8]=S):S=t[8];var R;t[9]!==C||t[10]!==S||t[11]!==m?(R=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:C,isVisible:m,position:"above",tooltip:y,children:S}),t[9]=C,t[10]=S,t[11]=m,t[12]=R):R=t[12];var L;return t[13]!==h||t[14]!==R?(L=d.jsx("div",babelHelpers.extends({},h,{children:R})),t[13]=h,t[14]=R,t[15]=L):L=t[15],L}function R(e){var t=o("react-compiler-runtime").c(17),n=e.isStacking,a=e.mediaStagingItem,i=e.onPress,l=r("useCurrentDisplayMode")()==="dark",u=f(!1),c=u[0],m=u[1],p;t[0]!==n?(p={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[(n===!0)<<0],t[0]=n,t[1]=p):p=t[1];var _=l?"primary":"black",g;t[2]!==a.filename?(g=s._(/*BTDS*/"Remove attachment: {file-name}",[s._param("file-name",a.filename)]),t[2]=a.filename,t[3]=g):g=t[3];var y,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=function(){return m(!1)},C=function(){return m(!0)},t[4]=y,t[5]=C):(y=t[4],C=t[5]);var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:d.jsx(r("IGDSXPanoFilledIcon.react"),{alt:h,size:9})}),t[6]=b):b=t[6];var v;t[7]!==i||t[8]!==g?(v=d.jsx(r("IGDSIconButton.react"),{label:g,onClick:i,onHoverEnd:y,onHoverStart:C,padding:0,children:b}),t[7]=i,t[8]=g,t[9]=v):v=t[9];var S;t[10]!==_||t[11]!==v||t[12]!==c?(S=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:_,isVisible:c,position:"above",tooltip:h,children:v}),t[10]=_,t[11]=v,t[12]=c,t[13]=S):S=t[13];var R;return t[14]!==p||t[15]!==S?(R=d.jsx("div",babelHelpers.extends({},p,{children:S})),t[14]=p,t[15]=S,t[16]=R):R=t[16],R}var L=function(t){return t.mimeType==="image/gif"||t.mimeType==="image/webp"};function E(e){var t=o("react-compiler-runtime").c(30),n=e.mediaStagingItem,a=n.attachmentType,i=n.previewUrl||"",l=o("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(n),s,m;t[0]!==l?(s=function(){l==null||l.addPoint("staging-item-render")},m=[l],t[0]=l,t[1]=s,t[2]=m):(s=t[1],m=t[2]),_(s,m);var p;t[3]!==l?(p=function(t,n){l==null||l.endFailAfterDelay(t,n)},t[3]=l,t[4]=p):p=t[4];var f=p,g;t[5]!==l?(g=function(){l==null||l.endSuccessAfterDelay()},t[5]=l,t[6]=g):g=t[6];var h=g;if(L(n)){if(i!==""){var y;return t[7]!==i?(y=d.jsx(r("FDSImageCover.react"),{alt:C,src:i}),t[7]=i,t[8]=y):y=t[8],y}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){if(i!==""){var b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xl1xv1r"},t[9]=b):b=t[9];var v;t[10]!==f?(v=function(t){return f("load-video-error",{string:{video_error_name:t.type}})},t[10]=f,t[11]=v):v=t[11];var S;t[12]===Symbol.for("react.memo_cache_sentinel")?(S=d.jsx("track",{kind:"captions"}),t[12]=S):S=t[12];var R;t[13]!==h||t[14]!==i||t[15]!==v?(R=d.jsx("video",babelHelpers.extends({},b,{height:"70",onError:v,onLoadedData:h,src:i,width:"70",children:S})),t[13]=h,t[14]=i,t[15]=v,t[16]=R):R=t[16];var E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=d.jsx("div",{className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl",children:d.jsx(r("CometImage.react"),{src:"/images/video/play_24dp.png"})}),t[17]=E):E=t[17];var k;return t[18]!==R?(k=d.jsxs(d.Fragment,{children:[R,E]}),t[18]=R,t[19]=k):k=t[19],k}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&i!==""){var T;t[20]!==f?(T=function(){return f("load-image-error")},t[20]=f,t[21]=T):T=t[21];var D;t[22]===Symbol.for("react.memo_cache_sentinel")?(D={userSelect:"none"},t[22]=D):D=t[22];var x;return t[23]!==h||t[24]!==i||t[25]!==T?(x=d.jsx(r("FDSImageCover.react"),{alt:"",onError:T,onLoad:h,src:i,style:D}),t[23]=h,t[24]=i,t[25]=T,t[26]=x):x=t[26],x}var $;return t[27]!==l||t[28]!==n?($=d.jsx(I,{mediaRenderQpl:l,mediaStagingItem:n}),t[27]=l,t[28]=n,t[29]=$):$=t[29],$}function k(e){var t=o("react-compiler-runtime").c(24),n=e.isStacking,a=e.mediaStagingItem,i=e.onAttachmentRemoved,l;t[0]!==a.offlineAttachmentId||t[1]!==i?(l=function(){i(a.offlineAttachmentId)},t[0]=a.offlineAttachmentId,t[1]=i,t[2]=l):l=t[2];var s=l,m;t[3]!==a?(m=!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&!L(a),t[3]=a,t[4]=m):m=t[4];var p=m,_;t[5]!==p||t[6]!==n?(_={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!p<<1|(n===!0)<<0],t[5]=p,t[6]=n,t[7]=_):_=t[7];var f;t[8]!==p||t[9]!==n?(f={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!p<<1|(n===!0)<<0],t[8]=p,t[9]=n,t[10]=f):f=t[10];var g;t[11]!==a?(g=d.jsx(E,{mediaStagingItem:a}),t[11]=a,t[12]=g):g=t[12];var h;t[13]!==f||t[14]!==g?(h=d.jsx("div",babelHelpers.extends({},f,{children:g})),t[13]=f,t[14]=g,t[15]=h):h=t[15];var y;t[16]!==n||t[17]!==a||t[18]!==s?(y=d.jsx(R,{isStacking:n,mediaStagingItem:a,onPress:s}),t[16]=n,t[17]=a,t[18]=s,t[19]=y):y=t[19];var C;return t[20]!==_||t[21]!==h||t[22]!==y?(C=d.jsxs("div",babelHelpers.extends({},_,{children:[h,y]})),t[20]=_,t[21]=h,t[22]=y,t[23]=C):C=t[23],C}function I(e){var t=o("react-compiler-runtime").c(8),n=e.mediaRenderQpl,a=e.mediaStagingItem,i,l;t[0]!==n?(i=function(){n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),_(i,l);var s,u,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},u=d.jsx(r("IGDSMediaOutlineIcon.react"),{alt:b}),c={className:"x1iyjqo2"},t[3]=s,t[4]=u,t[5]=c):(s=t[3],u=t[4],c=t[5]);var m;return t[6]!==a.filename?(m=d.jsxs("div",babelHelpers.extends({},s,{children:[u,d.jsx("div",babelHelpers.extends({},c,{children:d.jsxs(r("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",a.filename," "]})}))]})),t[6]=a.filename,t[7]=m):m=t[7],m}function T(e){var t=o("react-compiler-runtime").c(28),a=e.hideUploadPlaceholder,i=e.isStacking,l=e.metaMediaCloudEnabled,s=e.multiple,u=e.supportedFileTypes,c=e.thread,m=a===void 0?!1:a,p=l===void 0?!1:l,_=s===void 0?!0:s,f=r("useIGDMediaMangerUploadFailedToast")(),g;t[0]!==f||t[1]!==c?(g={showUploadFailureToast:f,thread:c},t[0]=f,t[1]=c,t[2]=g):g=t[2];var h=o("MWMediaManager").useMediaManager(g),y=h.handleFileRemove,C=h.handleFileSelect,b=h.mediaStaging;if(b.length===0){var v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(d.Fragment,{}),t[3]=v):v=t[3],v}else{var R;t[4]!==i?(R={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[(i===!0)<<0],t[4]=i,t[5]=R):R=t[5];var L;t[6]!==C||t[7]!==m||t[8]!==i||t[9]!==_||t[10]!==u?(L=m?null:d.jsx(S,{isStacking:i,multiple:_,onAttachmentsAdded:C,supportedFileTypes:u}),t[6]=C,t[7]=m,t[8]=i,t[9]=_,t[10]=u,t[11]=L):L=t[11];var E;t[12]!==C||t[13]!==i||t[14]!==p||t[15]!==c?(E=p&&n("cr:105")!=null?d.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(i===!0)<<0],{children:d.jsx(n("cr:105"),{onAttachmentsAdded:C,threadKey:c.threadKey})})):null,t[12]=C,t[13]=i,t[14]=p,t[15]=c,t[16]=E):E=t[16];var I;t[17]!==b?(I=Array.from(b),t[17]=b,t[18]=I):I=t[18];var T;t[19]!==y||t[20]!==i||t[21]!==I?(T=I.map(function(e){return d.jsx(k,{isStacking:i,mediaStagingItem:e,onAttachmentRemoved:y},e.offlineAttachmentId)}),t[19]=y,t[20]=i,t[21]=I,t[22]=T):T=t[22];var D;return t[23]!==R||t[24]!==L||t[25]!==E||t[26]!==T?(D=d.jsxs("div",babelHelpers.extends({},R,{children:[L,E,T]})),t[23]=R,t[24]=L,t[25]=E,t[26]=T,t[27]=D):D=t[27],D}}l.default=T}),226);
__d("IGDComposerSavedReplyTrayQuery$Parameters",["IGDComposerSavedReplyTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDComposerSavedReplyTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplyTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplyTray.entrypoint",["IGDComposerSavedReplyTrayQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{SavedReplyQueryRef:{parameters:r("IGDComposerSavedReplyTrayQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("IGDComposerSavedReplyTray.react").__setRef("IGDComposerSavedReplyTray.entrypoint")};l.default=e}),98);
__d("IGDComposerSavedReplyButton.react",["fbt","FDSPopoverLoadingState.react","IGDComposerSavedReplyTray.entrypoint","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSIconButton.react","IGDSSmsPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m={button:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function p(t){var a,i,l,u,d=o("react-compiler-runtime").c(14),p=t.editor,_=t.thread,f;d[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Choose a saved reply").toString(),d[0]=f):f=d[0];var g=f,h=(e||(e=r("useReStore")))(),y=o("useContactReachabilityStatus").useOtherUser(h,_.threadKey,_.threadType),C=(a=y==null||(i=y[1])==null?void 0:i.firstName)!=null?a:null,b=(l=y==null||(u=y[1])==null?void 0:u.name)!=null?l:null,v;d[1]!==p||d[2]!==C||d[3]!==b?(v=function(t){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t,C,b);p&&e&&p.update(function(){var t=n("Lexical"),r=t.$createParagraphNode,o=t.$createTextNode,a=t.$getRoot,i=t.$getSelection,l=r(),s=o(e);l.append(s);var u=a();u.clear(),u.append(l);var c=i();c!=null&&l.selectEnd(),p.focus()})},d[1]=p,d[2]=C,d[3]=b,d[4]=v):v=d[4];var S=v,R,L;d[5]===Symbol.for("react.memo_cache_sentinel")?(R={},L=c.jsx(r("FDSPopoverLoadingState.react"),{withArrow:!0}),d[5]=R,d[6]=L):(R=d[5],L=d[6]);var E;d[7]!==S||d[8]!==C||d[9]!==b?(E={onClick:S,otherUserFirstName:C,otherUserFullName:b},d[7]=S,d[8]=C,d[9]=b,d[10]=E):E=d[10];var k;d[11]===Symbol.for("react.memo_cache_sentinel")?(k=function(t,n,o,a,i,l){return c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:t,onClick:function(){n()},onHoverEnd:i,onHoverStart:a,onPressStart:l,xstyle:m.button,children:c.jsx(r("IGDSSmsPanoOutlineIcon.react"),{alt:g,color:"ig-primary-text"})})})},d[11]=k):k=d[11];var I;return d[12]!==E?(I=c.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:R,fallback:L,otherProps:E,popoverEntryPoint:r("IGDComposerSavedReplyTray.entrypoint"),position:"above",preloadTrigger:"button",children:k}),d[12]=E,d[13]=I):I=d[13],I}l.default=p}),226);
__d("IGDComposerSavedReplyLocalStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="igd_saved_reply_suggestion_opt_out";function u(){try{var t,n=(t=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(s);return n==="true"}catch(e){return!1}}function c(t){try{var n;(n=(e||(e=r("WebStorage"))).getLocalStorage())==null||n.setItem(s,t.toString())}catch(e){}}l.getIsOptedOut=u,l.setIsOptedOut=c}),98);
__d("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24995145283423757"}),null);
__d("IGDComposerSavedReplySuggestionTrayQuery.graphql",["IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerSavedReplySuggestionTray_savedReplies"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplySuggestionTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray_savedReplies.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"IGDComposerSavedReplySuggestionTray_savedReplies",selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],type:"IGSavedReply",abstractKey:null};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray.react",["fbt","CometPressable.react","CometRelay","IGDComposerSavedReplyLocalStorage","IGDComposerSavedReplySettingsDialog.entrypoint","IGDComposerSavedReplySuggestionTrayQuery.graphql","IGDComposerSavedReplySuggestionTray_savedReplies.graphql","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useIGDSEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useState,h={pressableItem:{width:"xh8yej3",$$css:!0}},y=function(t,n){if(!t.trim()||n.length===0)return[];var e=t.toLowerCase();return n.filter(function(t){if(t.text){var n=t.text.trim().replace(/\s+/g," ").toLowerCase(),r=e.trim().replace(/\s+/g," ");if(n===r)return!1}if(t.shortcut&&t.shortcut.toLowerCase().trim()===e)return!0;if(t.text&&e.length>=5){var o=t.text.toLowerCase();if(o.includes(e))return!0}return!1}).sort(function(t,n){var r,o,a=t.shortcut&&t.shortcut.toLowerCase()===e,i=n.shortcut&&n.shortcut.toLowerCase()===e;return a&&!i?-1:!a&&i?1:((r=n.usage_count)!=null?r:0)-((o=t.usage_count)!=null?o:0)}).slice(0,5)},C=function(t,n){if(!n)return m.jsx("span",{className:"x1roi4f4",children:t});var e=n.toLowerCase(),r=t.toLowerCase(),o=r.indexOf(e);if(o===-1)return m.jsx("span",{className:"x1roi4f4",children:t});var a=t.substring(0,o),i=t.substring(o,o+n.length),l=t.substring(o+n.length);return m.jsxs(m.Fragment,{children:[a&&m.jsx("span",{className:"x1roi4f4",children:a}),m.jsx("span",{className:"x1qz8m4s x117nqv4",children:i}),l&&m.jsx("span",{className:"x1roi4f4",children:l})]})};function b(e){var t=o("react-compiler-runtime").c(24),n=e.currentInput,a=e.editor,i=e.matchingSavedReplies,l=e.onDismiss,u=e.onOptOut,c=e.otherUserFirstName,d=e.otherUserFullName,p;t[0]!==a||t[1]!==l||t[2]!==c||t[3]!==d?(p=function(t){if(a&&t.text){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t.text,c,d);a.update(function(){var t=o("Lexical").$createParagraphNode(),n=o("Lexical").$createTextNode(e);t.append(n);var r=o("Lexical").$getRoot();r.clear(),r.append(t),t.selectEnd(),a.focus()})}l()},t[0]=a,t[1]=l,t[2]=c,t[3]=d,t[4]=p):p=t[4];var _=p,f;t[5]!==u?(f=function(t){t.stopPropagation(),u()},t[5]=u,t[6]=f):f=t[6];var g=f;if(i.length===0)return null;var y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Saved replies"),t[7]=y):y=t[7];var b=y,v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xgf5ljw x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x1yvgwvq x13fuv20 x178xt8z x10w3d4m x78zum5 xdt5ytf xtijo5x x1o0tod x1e56ztr x1hkcv85 x1odjw0f x10l6tqk"},t[8]=v):v=t[8];var S;if(t[9]!==n||t[10]!==g||t[11]!==_||t[12]!==i||t[13]!==c||t[14]!==d){var R;t[16]!==n||t[17]!==g||t[18]!==_||t[19]!==c||t[20]!==d?(R=function(t,a){var e,i,l=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders((e=t.text)!=null?e:"",c,d),u=t.shortcut?t.shortcut+" \u2022 "+l:l,p=a===0;return m.jsx(r("CometPressable.react"),{onPress:function(){return _(t)},xstyle:h.pressableItem,children:m.jsxs("div",{className:"x1cy8zhl x1ixjvfu x1q0q8m5 xso031l x1ypdohk x78zum5 x1q0g3np x1f6kntn x1y1aw1k xwib8y2 x1g0dm76 xpdmqnj xh8yej3 x2nact x1t1lzn6",children:[m.jsxs("div",{className:"x1iyjqo2",children:[m.jsx("div",{className:"x1roi4f4 x1pg5gke xzueoph",children:b}),C(u,n)]}),p&&m.jsx("div",{className:"x6s0dn4 x1roi4f4 x1ypdohk x78zum5 x1c3i2sq xl56j7k xmzvs34 xf159sx x134bqvu x1o9uer x1de710j xbtwl55 x1k1bblp",onClick:g,role:"button",tabIndex:0,children:m.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"More options"),color:"ig-primary-text",size:20})})]})},(i=t.uuid)!=null?i:t.text)},t[16]=n,t[17]=g,t[18]=_,t[19]=c,t[20]=d,t[21]=R):R=t[21],S=i.map(R),t[9]=n,t[10]=g,t[11]=_,t[12]=i,t[13]=c,t[14]=d,t[15]=S}else S=t[15];var L;return t[22]!==S?(L=m.jsx("div",babelHelpers.extends({},v,{children:S})),t[22]=S,t[23]=L):L=t[23],L}function v(t){var a,i,l,s,d,p,_=o("react-compiler-runtime").c(22),h=t.editor,C=t.thread,v=g(""),R=v[0],L=v[1],E;_[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],_[0]=E):E=_[0];var k=g(E),I=k[0],T=k[1],D=g(!1),x=D[0],$=D[1],P=o("IGDComposerSavedReplyLocalStorage").getIsOptedOut(),N;_[1]===Symbol.for("react.memo_cache_sentinel")?(N={},_[1]=N):N=_[1];var M=r("useIGDSEntryPointDialog")(r("IGDComposerSavedReplySettingsDialog.entrypoint"),N,"button"),w=M[0],A=(c||(c=r("useReStore")))(),F=o("useContactReachabilityStatus").useOtherUser(A,C.threadKey,C.threadType),O=(a=F==null||(i=F[1])==null?void 0:i.firstName)!=null?a:null,B=(l=F==null||(s=F[1])==null?void 0:s.name)!=null?l:null,W=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("IGDComposerSavedReplySuggestionTrayQuery.graphql"),{}),q=(d=(p=W.xig_get_saved_replies)==null?void 0:p.saved_replies)!=null?d:[],U=o("CometRelay").useFragment(u!==void 0?u:u=n("IGDComposerSavedReplySuggestionTray_savedReplies.graphql"),q),V,H;_[2]!==U?(V=function(){if(U){var e=U.map(S);T(e)}},H=[U],_[2]=U,_[3]=V,_[4]=H):(V=_[3],H=_[4]),f(V,H);var G,z;_[5]!==h||_[6]!==x?(G=function(){var e=h.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){var e=o("Lexical").$getRoot(),t=e.getTextContent().trim();L(t),!t&&x&&$(!1)})});return e},z=[h,x],_[5]=h,_[6]=x,_[7]=G,_[8]=z):(G=_[7],z=_[8]),f(G,z);var j;_[9]!==w?(j=function(){$(!0),w({})},_[9]=w,_[10]=j):j=_[10];var K=j,Q;_[11]===Symbol.for("react.memo_cache_sentinel")?(Q=function(){$(!0)},_[11]=Q):Q=_[11];var X=Q,Y;_[12]!==R||_[13]!==I?(Y=y(R,I),_[12]=R,_[13]=I,_[14]=Y):Y=_[14];var J=Y;if(P||x)return null;var Z;return _[15]!==R||_[16]!==h||_[17]!==K||_[18]!==J||_[19]!==O||_[20]!==B?(Z=m.jsx(b,{currentInput:R,editor:h,matchingSavedReplies:J,onDismiss:X,onOptOut:K,otherUserFirstName:O,otherUserFullName:B}),_[15]=R,_[16]=h,_[17]=K,_[18]=J,_[19]=O,_[20]=B,_[21]=Z):Z=_[21],Z}function S(e){var t,n,r,o;return{creation_time:(t=e.creation_time)!=null?t:0,label:e.label,shortcut:(n=e.shortcut)!=null?n:"",text:(r=e.text)!=null?r:"",usage_count:(o=e.usage_count)!=null?o:0,uuid:e.uuid}}l.default=v}),226);
__d("IGDComposerThemeConfigOverride",[],(function(t,n,r,o,a,i){"use strict";var e={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"},l=e;i.default=l}),66);
__d("IGDComposerViewSendButton.react",["fbt","IGDComposerIconSendButton.react","IGDEntryPoints","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","WebStorage","qex","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useCallback,p={sendTextButton:{alignSelf:"x7fd4wk",marginBottom:"x1sfzahb",marginInlineEnd:"xnnr8r",$$css:!0}},_=(e=r("qex")._("917"))!=null?e:!1;function f(e){var t=o("react-compiler-runtime").c(14),n=e.hidden,a=e.onClick,i=r("MessengerWebUXLogger").useInteractionLogger(),l=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),c=r("useIsChatTabsDisplay")(),m=String(c),f;t[0]!==m?(f={isChatTab:m},t[0]=m,t[1]=f):f=t[1];var g;t[2]!==l||t[3]!==f?(g={eventName:"composer_send_button_rendered",extraData:f,flowInstanceId:l},t[2]=l,t[3]=f,t[4]=g):g=t[4];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g),y;t[5]!==l||t[6]!==i||t[7]!==a?(y=function(){a();var e=(u||(u=r("WebStorage"))).getSessionStorage(),t=(e==null?void 0:e.getItem("isFromBusinessChats"))==="true";i==null||i({entryPoint:t?o("IGDEntryPoints").IGDEntryPoints.BUSINESS_CHATS:o("IGDEntryPoints").IGDEntryPoints.UNKNOWN,eventName:"send_message",flowInstanceId:l}),t&&(e==null||e.removeItem("isFromBusinessChats"))},t[5]=l,t[6]=i,t[7]=a,t[8]=y):y=t[8];var C=y,b=c||_,v;return t[9]!==n||t[10]!==h||t[11]!==C||t[12]!==b?(v=b?d.jsx(r("IGDComposerIconSendButton.react"),{hidden:n,isDisabled:n===!0,onClick:C,ref:h,testid:void 0}):d.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:n,label:s._(/*BTDS*/"Send"),onClick:C,ref:h,variant:"primary_link",xstyle:p.sendTextButton}),t[9]=n,t[10]=h,t[11]=C,t[12]=b,t[13]=v):v=t[13],v}l.default=f}),226);
__d("createComposerDeferredPlugin",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){function t(t){var n=d(e.getModuleIfRequireable()),r=m(n.current!=null),o=r[0],a=r[1];if(c(function(){var t=e.onReady(function(e){n.current=e,a(!0)});return function(){return t.remove()}},[]),n.current!=null){var i=n.current;return s.jsx(i,babelHelpers.extends({},t))}return null}return s.memo(t)}l.default=p}),98);
__d("IGDMentionsComposerPlugin.react",["CometPlaceholder.react","createComposerDeferredPlugin","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("createComposerDeferredPlugin")(r("requireDeferred")("IGDMentionsPluginForLexical.react").__setRef("IGDMentionsComposerPlugin.react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.editor,a=e.isAiBotMentionsEnabled,l=e.threadKey,c;return t[0]!==n||t[1]!==a||t[2]!==l?(c=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,{editor:n,isAiBotMentionsEnabled:a,threadKey:l})}),t[0]=n,t[1]=a,t[2]=l,t[3]=c):c=t[3],c}l.default=c}),98);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n,a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),l=s.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):(n=t[0],a=t[1],i=t[2],l=t[3]);var u;return t[4]!==e?(u=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i,l]})),t[4]=e,t[5]=u):u=t[5],u}var c=s.memo(u);l.default=c}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n=e.voiceRecorder,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==i?(l={eventName:"composer_audio_button_rendered",flowInstanceId:i},t[0]=i,t[1]=l):l=t[1];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),d;t[2]!==i||t[3]!==a||t[4]!==n?(d=function(){navigator.mediaDevices&&r("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){n.start(e)})),a==null||a({eventName:"composer_record_audio",flowInstanceId:i})},t[2]=i,t[3]=a,t[4]=n,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSMicrophonePanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==m?(_=s.jsx(r("IGDSIconButton.react"),{innerRef:u,onClick:m,xstyle:c.voiceClip,children:p}),t[7]=u,t[8]=m,t[9]=_):_=t[9],_}l.default=d}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(t,n,r,o,a,i,l){"use strict";var e;l.MWChatComposerIconsGif=(e=n("cr:2809")).Gif,l.MWChatComposerIconsSticker=e.Sticker,l.MWChatComposerIconsPhoto=e.Photo,l.MWChatComposerIconsMoreActions=e.MoreActions,l.MWChatComposerIconsEmoji=e.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=r("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),_={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},f=s._(/*BTDS*/"Message").toString();function g(e){var t=e.ariaDescribedBy,n=e.contentEditableRef,a=e.editor,i=e.handlePastedFiles,l=e.placeholderText,s=e.policyProduct,c=e.surface,g=e.testId,h=r("useDeferredModuleOnReady")(p),y=o("LexicalComposerContext").createLexicalComposerContext(),C=m(function(){return[a,y]},[a,y]),b=d(function(e){var t=e==null?null:e;n.current=t},[n,a]),v=u.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({ariaDescribedBy:t,ariaLabel:f},l==null?{}:{"aria-placeholder":l,placeholder:u.jsx(r("CometLexicalPlaceholder.react"),{children:l})},{contentEditableRef:b,spellCheck:!0,tabIndex:0,webDriverTestID:g,xstyle:_.editor}));return u.jsxs("div",{className:"x1n2onr6",children:[u.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:C,children:[u.jsx(r("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:s,surface:c}),u.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:v}),u.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]}),h==null||i===void 0?null:u.jsx(h,{editor:a,handlePastedFiles:i})]})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25302342,"1531"),s=600*1e3;function u(){var t=o("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){r("QPLUserFlow").addPoint(e,o,{data:a,instanceKey:t})},endCancel:function(o,a){r("QPLUserFlow").endCancel(e,{annotations:a,cancelReason:o,instanceKey:t})},endFail:function(o,a){r("QPLUserFlow").endFailure(e,o,{annotations:a,instanceKey:t})},endSuccess:function(o){r("QPLUserFlow").endSuccess(e,{annotations:o,instanceKey:t})},start:function(o){var n=o.startInfo.isOpusRecorder;r("QPLUserFlow").start(e,{annotations:{bool:{isOpusAudioAbTestEnabled:r("gkx")("3053"),isOpusAudioEnabled:r("gkx")("3054"),isOpusAudioEnabledIgd:r("qex")._("4003"),isOpusRecorder:n}},cancelOnUnload:!0,instanceKey:t,timeoutInMs:s})}}}l.event=e,l.createVoiceRecordQpl=u}),98);
__d("IGDComposerView.react",["fbt","BaseTheme.react","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDComposerSavedReplyButton.react","IGDComposerSavedReplySuggestionTray.react","IGDComposerThemeConfigOverride","IGDComposerViewSendButton.react","IGDMentionsComposerPlugin.react","IGDSBox.react","IGDSIconButton.react","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWVoiceRecordQpl","PolarisUA","Promise","cr:19753","cr:21207","cr:213","cr:9307","deferredLoadComponent","emptyFunction","promiseDone","qex","react","react-compiler-runtime","requireDeferred","useCurrentDisplayMode","useIsChatTabsDisplay","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useCallback,p=r("deferredLoadComponent")(r("requireDeferred")("IGDAudioRecorder.react").__setRef("IGDComposerView.react")),_={chatTabComposerInnerContainer:{width:"xc5o50y",$$css:!0},composerInnerContainer:{paddingBottom:"xs9asl8",$$css:!0},mobileComposerInnerContainer:{paddingBottom:"xwib8y2",$$css:!0}},f=(e=r("qex")._("917"))!=null?e:!1;function g(e){var t,a=o("react-compiler-runtime").c(98),i=e.attachmentsSupported,l=e.editor,c=e.editorElementRef,m=e.hasStuffToSend,g=e.hideUploadPlaceholder,h=e.multiple,y=e.onAttachmentsAdded,C=e.onSendMessage,b=e.policyProduct,v=e.sendMessage,S=e.supportedFileTypes,R=e.surface,L=e.thread,E=g===void 0?!1:g,k=h===void 0?!0:h,I=(t=e.emojisSupported)!=null?t:!0,T=L.threadKey,D=L.threadSubtype,x=L.threadType,$;a[0]!==D?($=o("IGDAiAgentsUtils").isAiThread(D),a[0]=D,a[1]=$):$=a[1];var P=$,N=r("useIsChatTabsDisplay")(),M=N,w=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),A=w.hasLSThreadBitOffset,F;a[2]!==A?(F=A(56),a[2]=A,a[3]=F):F=a[3];var O=F,B;a[4]!==A?(B=A(109),a[4]=A,a[5]=B):B=a[5];var W=B,q;a[6]!==A?(q=A(43),a[6]=A,a[7]=q):q=a[7];var U=q,V;a[8]!==L.threadType?(V=o("LSMessagingThreadTypeUtil").isGroup(L.threadType),a[8]=L.threadType,a[9]=V):V=a[9];var H=V,G;a[10]!==A?(G=A(14)&&(!o("PolarisUA").isMobile()||r("qex")._("443")===!0),a[10]=A,a[11]=G):G=a[11];var z=G,j;a[12]!==i||a[13]!==A?(j=A(2)&&i===!0,a[12]=i,a[13]=A,a[14]=j):j=a[14];var K=j,Q;a[15]!==K?(Q=K&&r("qex")._("4")===!0,a[15]=K,a[16]=Q):Q=a[16];var X=Q,Y;if(a[17]===Symbol.for("react.memo_cache_sentinel")){var J;Y=!o("PolarisUA").isMobile()&&((J=r("qex")._("1358"))!=null?J:!1),a[17]=Y}else Y=a[17];var Z=Y,ee;a[18]!==i||a[19]!==A?(ee=A(4)&&A(3)&&i===!0,a[18]=i,a[19]=A,a[20]=ee):ee=a[20];var te=ee,ne;a[21]===Symbol.for("react.memo_cache_sentinel")?(ne={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},a[21]=ne):ne=a[21];var re=n("cr:19753").useVoiceRecorder(ne),oe=re.state.stage!=="Unopen",ae;a[22]!==C||a[23]!==re?(ae=function(){return r("promiseDone")(re.getVoiceClip().then(function(e){return re.reset(),C(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip"),(u||(u=n("Promise"))).resolve()}))},a[22]=C,a[23]=re,a[24]=ae):ae=a[24];var ie=ae,le=r("useCurrentDisplayMode")(),se=le==="dark"?"var(--always-white)":"var(--chat-composer-button-color)",ue=se,ce;a[25]!==v?(ce=function(){return v()},a[25]=v,a[26]=ce):ce=a[26];var de=ce,me=r("useShouldShowTextOnlyComposerForInvite")(T,x),pe;a[27]!==l||a[28]!==L?(pe=Z&&d.jsx(r("IGDComposerSavedReplySuggestionTray.react"),{editor:l,thread:L}),a[27]=l,a[28]=L,a[29]=pe):pe=a[29];var _e;a[30]!==M?(_e={0:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq"},1:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq x25sj25"}}[!!M<<0],a[30]=M,a[31]=_e):_e=a[31];var fe;a[32]!==E||a[33]!==M||a[34]!==X||a[35]!==k||a[36]!==S||a[37]!==L?(fe=d.jsx(r("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:E,isStacking:M,metaMediaCloudEnabled:X,multiple:k,supportedFileTypes:S,thread:L}),a[32]=E,a[33]=M,a[34]=X,a[35]=k,a[36]=S,a[37]=L,a[38]=fe):fe=a[38];var ge;a[39]!==l||a[40]!==H||a[41]!==U||a[42]!==T?(ge=U&&H?d.jsx(r("IGDMentionsComposerPlugin.react"),{editor:l,threadKey:T}):null,a[39]=l,a[40]=H,a[41]=U,a[42]=T,a[43]=ge):ge=a[43];var he;a[44]!==m||a[45]!==N||a[46]!==oe?(he={0:{className:"x6s0dn4 x78zum5 x1gg8mnh xv54qhq x1iwz3mf"},1:{className:"x6s0dn4 x78zum5 x1gg8mnh x1iwz3mf x11lfxj5"}}[!!((m||oe)&&(N||f))<<0],a[44]=m,a[45]=N,a[46]=oe,a[47]=he):he=a[47];var ye;a[48]!==l||a[49]!==I||a[50]!==oe?(ye=I&&!oe?d.jsx("div",{className:"xpvyfi4 xzueoph x1v0swvf",children:d.jsx(r("IGDComposerEmojiButton.react"),{editor:l})}):null,a[48]=l,a[49]=I,a[50]=oe,a[51]=ye):ye=a[51];var Ce;a[52]!==ue||a[53]!==l||a[54]!==c||a[55]!==N||a[56]!==oe||a[57]!==y||a[58]!==ie||a[59]!==b||a[60]!==me||a[61]!==R||a[62]!==re?(Ce=oe?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close Button"),onClick:function(){return re.reset()},children:d.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:ue,isRotated:!0,size:20})}),d.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:d.jsx(p,{voiceRecorder:re})}),d.jsx(r("IGDComposerViewSendButton.react"),{onClick:ie})]}):d.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,marginTop:2,xstyle:[N&&_.chatTabComposerInnerContainer,_.composerInnerContainer,o("PolarisUA").isMobile()&&_.mobileComposerInnerContainer],children:d.jsx(r("MWPCometComposerInner.react"),{ariaDescribedBy:s._(/*BTDS*/"Message").toString(),contentEditableRef:c,editor:l,handlePastedFiles:me?r("emptyFunction"):y,placeholderText:s._(/*BTDS*/"Message...").toString(),policyProduct:b,surface:R})}),a[52]=ue,a[53]=l,a[54]=c,a[55]=N,a[56]=oe,a[57]=y,a[58]=ie,a[59]=b,a[60]=me,a[61]=R,a[62]=re,a[63]=Ce):Ce=a[63];var be;a[64]!==l||a[65]!==z||a[66]!==O||a[67]!==m||a[68]!==W||a[69]!==P||a[70]!==N||a[71]!==oe||a[72]!==K||a[73]!==X||a[74]!==k||a[75]!==y||a[76]!==de||a[77]!==C||a[78]!==te||a[79]!==me||a[80]!==S||a[81]!==L||a[82]!==T||a[83]!==re?(be=oe?null:d.jsxs(d.Fragment,{children:[d.jsx(r("IGDComposerViewSendButton.react"),{hidden:!m,onClick:de}),d.jsxs("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5"},1:{className:"x6s0dn4 x1s85apg"}}[!!(m||me)<<0],{children:[z?d.jsx(r("IGDVoiceClipButton.react"),{thread:L,voiceRecorder:re}):null,K?d.jsx(r("IGDComposerAttachmentButton.react"),{disabled:!O,multiple:k,onAttachmentsAdded:y,supportedFileTypes:S,threadKey:T}):null,X&&n("cr:213")!=null?d.jsx(n("cr:213"),{onAttachmentsAdded:y,threadKey:T}):null,Z?d.jsx(r("IGDComposerSavedReplyButton.react"),{editor:l,thread:L}):null,n("cr:21207")&&te&&!P?d.jsx(n("cr:21207"),{threadKey:T}):null,W&&!N?n("cr:9307")&&d.jsx(n("cr:9307"),{onSendMessage:C,thread:L}):null]}))]}),a[64]=l,a[65]=z,a[66]=O,a[67]=m,a[68]=W,a[69]=P,a[70]=N,a[71]=oe,a[72]=K,a[73]=X,a[74]=k,a[75]=y,a[76]=de,a[77]=C,a[78]=te,a[79]=me,a[80]=S,a[81]=L,a[82]=T,a[83]=re,a[84]=be):be=a[84];var ve;a[85]!==he||a[86]!==ye||a[87]!==Ce||a[88]!==be?(ve=d.jsxs("div",babelHelpers.extends({},he,{children:[ye,Ce,be]})),a[85]=he,a[86]=ye,a[87]=Ce,a[88]=be,a[89]=ve):ve=a[89];var Se;a[90]!==_e||a[91]!==fe||a[92]!==ge||a[93]!==ve?(Se=d.jsxs("div",babelHelpers.extends({},_e,{children:[fe,ge,ve]})),a[90]=_e,a[91]=fe,a[92]=ge,a[93]=ve,a[94]=Se):Se=a[94];var Re;return a[95]!==pe||a[96]!==Se?(Re=d.jsxs(r("BaseTheme.react"),{config:r("IGDComposerThemeConfigOverride"),children:[pe,Se]}),a[95]=pe,a[96]=Se,a[97]=Re):Re=a[97],Re}l.default=g}),226);
__d("IGDDMModeContextProvider",["DisappearingMessagesMode","FBLogger","I64","IGDAWAdminWriteMsgTxn","IGDDisappearingMessagesStrings","Int64Hooks","MAWEphemeralConsts","MWLSThread","MWPActor.react","MessengerWebUXLogger","PolarisDirectAPI","PolarisDismissEntry","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getErrorSafe","isE2EEAttributedInstamadillo","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useCallback,_=d.useEffect,f=d.useMemo,g=d.useState,h=m({dmMode:r("DisappearingMessagesMode").OFF,lastSetTtlSec:o("MAWEphemeralConsts").oneDayInSeconds,setLastSetTtlSec:function(){},toggleDMMode:function(){}});function y(e){var t=o("react-compiler-runtime").c(6),n=g(e),r=n[0],a=n[1],i=g(e),l=i[0],s=i[1];l!==e&&(s(e),a(e));var u;t[0]!==e||t[1]!==r?(u=function(){r!==e&&a(e)},t[0]=e,t[1]=r,t[2]=u):u=t[2];var c=u,d;return t[3]!==r||t[4]!==c?(d=[r,a,c],t[3]=r,t[4]=c,t[5]=d):d=t[5],d}function C(t){var a=t.children,l=t.threadKey,u=(e||(e=r("useReStore")))(),d=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.ig_thread_info,["igDmSettingsMode","igThreadId","igDmSettingsLastSetActorId","igDmSettingsLastSetTimestampMs","igDmSettingsTtlSec"]).getKeyRange(l).map(function(e){var t=e.igDmSettingsLastSetActorId,n=e.igDmSettingsLastSetTimestampMs,r=e.igDmSettingsMode,o=e.igDmSettingsTtlSec,a=e.igThreadId;return{authoritativeDMMode:r,igDmSettingsLastSetActorId:t,igDmSettingsLastSetTimestampMs:n,igDmSettingsTtlSec:o,igThreadId:a}})},[u,l],i.id+":89"),m=f(function(){return(d==null?void 0:d.authoritativeDMMode)!=null&&(s||(s=o("I64"))).to_int32(d==null?void 0:d.authoritativeDMMode)===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").ON:r("DisappearingMessagesMode").OFF},[d]),p=f(function(){if((d==null?void 0:d.igDmSettingsTtlSec)==null)return o("MAWEphemeralConsts").oneDayInSeconds;var e=(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsTtlSec);return e>0?e:o("MAWEphemeralConsts").oneDayInSeconds},[d]),g=f(function(){return(d==null?void 0:d.igDmSettingsLastSetTimestampMs)!=null?(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsLastSetTimestampMs):void 0},[d]),C=y(m),b=C[0],v=C[1],S=C[2],R=y(p),L=R[0],E=R[1],k=R[2],I=y(g),T=I[0],D=I[1],x=I[2],$=y(d==null?void 0:d.igDmSettingsLastSetActorId),P=$[0],N=$[1],M=$[2],w=o("MWPActor.react").useActor(),A=r("MessengerWebUXLogger").useInteractionLogger(),F=o("Int64Hooks").useCallbackInt64(function(){var e=b===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").OFF:r("DisappearingMessagesMode").ON;v(e),D(new Date().getTime()),N(w),(d==null?void 0:d.igThreadId)!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(d==null?void 0:d.igThreadId,e,L);t.statusCode!==200&&(r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",t.toString()),S(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",n.message),S(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("MWLSThread").getThreadAsync(u,l);e&&(A==null||A({eventName:b===r("DisappearingMessagesMode").ON?"direct_disappearing_messages_toggle_off":"direct_disappearing_messages_toggle_on",extraData:{dm_duration:String(L)}}))})())},[w,u,b,L,A,S,M,x,v,N,D,d==null?void 0:d.igThreadId,l]),O=o("Int64Hooks").useCallbackInt64(function(e){if(e!==p){E(e),D(new Date().getTime()),N(w);var t=d!=null?d:{},a=t.authoritativeDMMode,i=t.igThreadId;i!=null&&a!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(i,b,e);t.statusCode!==200&&(r("FBLogger")("ig_web").warn("DM TTL Network Request failed",t.toString()),k(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("ig_web").warn("DM TTL Network Request failed",n.message),k(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("MWLSThread").getThreadAsync(u,l);t&&(A==null||A({eventName:"direct_disappearing_messages_ttl_changed",extraData:{new_dm_duration:String(e),old_dm_duration:String(L)}}))})())}},[u,L,A,w,b,M,x,k,N,D,E,d,l,p]);_(function(){m===r("DisappearingMessagesMode").ON&&!o("PolarisDismissEntry").isInstamadilloNuxDismissed(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE)&&r("isE2EEAttributedInstamadillo")()&&(o("PolarisDismissEntry").setInstamadilloNuxSessionTimes(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE),r("promiseDone")(u.runInTransaction(function(e){return o("IGDAWAdminWriteMsgTxn").writeAdminMessageTxn(e,{ctaType:"admin_msg_ig_dm_learn_more",senderId:w,text:o("IGDDisappearingMessagesStrings").DM_SECURITY_NOTICE.toString(),threadKey:l,timestampMs:d==null?void 0:d.igDmSettingsLastSetTimestampMs})},"readwrite",void 0,void 0,i.id+":319")))},[m,w,u,d==null?void 0:d.igDmSettingsLastSetTimestampMs,l]);var B=f(function(){return{dmMode:b,lastSetActorId:P,lastSetTimestampMs:T,lastSetTtlSec:L,setLastSetTtlSec:O,toggleDMMode:F}},[b,P,T,L,O,F]);return c.jsx(h.Provider,{value:B,children:a})}C.displayName=C.name+" [from "+i.id+"]",l.IGDDMModeContext=h,l.IGDDMModeContextProvider=C}),98);
__d("IGDOffMsysComposerReplyView_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_SlideMessage",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView_XDTUserDict.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_XDTUserDict",selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","CurrentUser","IGDOffMsysComposerReplyView_SlideMessage.graphql","IGDOffMsysComposerReplyView_XDTUserDict.graphql","IGDReplyContext.react","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","MDSTextPairing.react","isStringNullOrEmpty","react","react-compiler-runtime","react-relay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useContext,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0},container:{backgroundColor:"xvbhtw8",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",justifyContent:"x1qughib",paddingBottom:"xg8j3zb",paddingInlineEnd:"x1q3ajuy",paddingInlineStart:"x1gx403c",paddingTop:"x889kno",$$css:!0},message:{marginInlineEnd:"x1sa5p1d",$$css:!0}};function _(e,t){var n,o,a=e.content,i=e.content_type,l=!r("isStringNullOrEmpty")(a==null?void 0:a.text_body),u=a==null||(n=a.animated_media)==null?void 0:n.at(0),c=(o=u==null?void 0:u.is_sticker)!=null?o:!1;if(t)return s._(/*BTDS*/"Removed message");if(l){var m,p;return d.jsx(r("IGDSText.react"),{children:(m=(p=e.content)==null?void 0:p.text_body)!=null?m:s._(/*BTDS*/"Message").toString()})}switch(i){case"IMAGES":return s._(/*BTDS*/"Image");case"VIDEOS":return s._(/*BTDS*/"Video");case"STORE_STICKER":return s._(/*BTDS*/"Sticker");case"INSTAGRAM_MESSAGING_ANIMATED_IMAGE":return c?s._(/*BTDS*/"Sticker"):s._(/*BTDS*/"GIF");case"GIFS":return s._(/*BTDS*/"GIF");case"AUDIOS":return s._(/*BTDS*/"Voice Message");case"CLIP":case"GENERIC_XMA":case"PROFILE":case"REEL_SHARE":case"STORY_SHARE":case"MESSAGE_INLINE_SHARE":case"CUTOUT_STICKER_XMA":case"XMA":return s._(/*BTDS*/"Attachment \ud83d\udcce");default:return s._(/*BTDS*/"Message")}}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t,n=r("CurrentUser").getEIMU(),o=e==null?void 0:e.interop_messaging_user_fbid;if(n===o)return s._(/*BTDS*/"Replying to yourself");var a=(t=e==null?void 0:e.full_name)!=null?t:e==null?void 0:e.username;return a==null?s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")]):s._(/*BTDS*/"Replying to {name}",[s._param("name",d.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",children:a}))])}function g(t){var a=o("react-compiler-runtime").c(21),i=t.reply,l=o("IGDReplyContext.react").useIGDReplySetterContext(),c=l.clearReply,g=m(r("CometTriggerAccessibilityAlertContext")),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=e!==void 0?e:e=n("IGDOffMsysComposerReplyView_SlideMessage.graphql"),a[0]=y):y=a[0];var C=o("react-relay").useFragment(y,i.message),b;a[1]===Symbol.for("react.memo_cache_sentinel")?(b=u!==void 0?u:u=n("IGDOffMsysComposerReplyView_XDTUserDict.graphql"),a[1]=b):b=a[1];var v=o("react-relay").useFragment(b,i.sender),S;a[2]!==v?(S=f(v),a[2]=v,a[3]=S):S=a[3];var R;a[4]!==S?(R=d.jsx(r("IGDSText.react"),{size:"body",children:S}),a[4]=S,a[5]=R):R=a[5];var L;a[6]!==C?(L=_(C,!1),a[6]=C,a[7]=L):L=a[7];var E;a[8]!==R||a[9]!==L?(E=d.jsx(r("IGDSBox.react"),{xstyle:p.message,children:d.jsx(r("MDSTextPairing.react"),{body:R,level:3,meta:L})}),a[8]=R,a[9]=L,a[10]=E):E=a[10];var k;a[11]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Cancel reply"),a[11]=k):k=a[11];var I;a[12]!==c||a[13]!==g?(I=function(){c(),g(s._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},a[12]=c,a[13]=g,a[14]=I):I=a[14];var T;a[15]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),a[15]=T):T=a[15];var D;a[16]!==I?(D=d.jsx(r("IGDSIconButton.react"),{label:k,onClick:I,xstyle:p.cancelButton,children:T}),a[16]=I,a[17]=D):D=a[17];var x;return a[18]!==D||a[19]!==E?(x=d.jsx(r("IGDSBox.react"),{"data-testid":void 0,direction:"row",xstyle:p.container,children:d.jsxs(r("CometErrorBoundary.react"),{fallback:h,children:[E,D]})}),a[18]=D,a[19]=E,a[20]=x):x=a[20],x}function h(){return d.jsx(r("IGDSText.react"),{size:"body",children:s._(/*BTDS*/"Replying to message")})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),226);
__d("IGDSupportedFileTypes",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}var l=["audio/*",".mp4",".mov",".png",".jpg",".jpeg"],s=[".png",".jpg",".jpeg"];i.getIGDSupportedFileTypes=e,i.IGD_WEB_SUPPORTED_FILE_TYPES=l,i.IGD_MOBILE_SUPPORTED_FILE_TYPES=s}),66);
__d("MAWFindFirstUrl",["getURLRanges"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getURLRanges")(e);return t.length===0?[]:t}l.findFirstUrl=e}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map,u=void 0;function c(){return Array.from(s.values()).some(function(e){return e.messageText.trim()!==""})}function d(e,t){return s.get(y(e,t))}function m(){n("cr:5710")==null||u!=null||(u=n("cr:5710").onBeforeUnload(function(){if(c())return"You have pending messages. Please wait for them to be sent before closing the window."}))}function p(e){var t=e.deleteLinkPreviewXMATableData,n=e.fetchAndWriteLinkPreviewXMA,a=e.message,i=e.subthreadParentMessageId,l=e.threadKey,c=e.threadType;if(a==null){if(s.delete(y(l,i)),s.size===0){var d;(d=u)==null||d.remove(),u=void 0}return}if(s.has(y(l,i)))_(l,a,i);else{var p=r("uuidv4")();s.set(y(l,i),{id:p,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:a})}var g=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c);g&&f(l,a,n,t,i),m()}function _(e,t,n){var o=d(e,n);if(o==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}s.set(y(e,n),babelHelpers.extends({},o,{messageText:t}))}function f(e,t,n,a,i){var l,s,u,c=d(e,i);if(c==null){r("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var m=c==null?void 0:c.linkPreviewURL,p=c==null?void 0:c.linkPreviewAbortToken,_=(l=o("MAWFindFirstUrl").findFirstUrl(t))!=null?l:[],f=o("MWHasLinksUtil").getHasLinks(t),y=f&&(s=(u=_[0])==null?void 0:u.entity.url)!=null?s:null;if(m!==y){if(y==null){a&&a({draftId:c.id}),p==null||p.abort(),g({linkPreviewURL:null,subthreadParentMessageId:i,threadKey:e}),h({linkPreviewAbortToken:null,subthreadParentMessageId:i,threadKey:e});return}g({linkPreviewURL:y,subthreadParentMessageId:i,threadKey:e});var C=n&&n({draftId:c.id,urls:_})||null;h({linkPreviewAbortToken:C,subthreadParentMessageId:i,threadKey:e})}}function g(e){var t=e.linkPreviewURL,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewURL:t}))}function h(e){var t=e.linkPreviewAbortToken,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewAbortToken:t}))}function y(t,n){return n!=null&&n!==""?n:(e||(e=o("I64"))).to_string(t)}l.getDraftMessage=d,l.updateDraftMessage=p,l.getNonEmptyDraftMessageKey=y}),98);
__d("MWDraftMessages.react",["MWPComposerDraftMessages","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useState,_=c(),f=c();function g(e){var t=e.children,n=p(new Map),r=n[0],a=n[1],i=d(function(e,t){var n=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,t);return r.has(n)?r.get(n):null},[r]),l=d(function(e,t,n){var r=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,n);a(function(e){var n=new Map(e);return t==null||t===""?n.delete(r):n.set(r,t),n})},[a]),u=_.Provider,c=f.Provider;return s.jsx(u,{value:i,children:s.jsx(c,{value:l,children:t})})}g.displayName=g.name+" [from "+i.id+"]";function h(){return m(_)}function y(){return m(f)}l.MWDraftProvider=g,l.useMWGetDraft=h,l.useMWUpdateDraft=y}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(t,n,r,o,a,i,l){"use strict";var e={getRanges:function(t){var e=[],r=0;return t.getEditorState().read(function(){var t=o("Lexical").$getRoot().getFirstChild();t instanceof o("Lexical").ElementNode&&t.getChildren().forEach(function(t){if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)){var a=t.getEntity();e.push({id:a.id,length:t.getTextContent().length,offset:r,type:o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)?t.getRangeType():"p"})}if(n("cr:11494")!=null&&t instanceof n("cr:11494").MessengerLexicalCommandNode){var i=t.getEntity();e.push({id:i.commandId,length:t.getTextContent().length,offset:r,type:t.getRangeType()})}r+=t.getTextContent().length})}),e}},s=e;l.default=s}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({});function _(e){var t=e.children,n=e.onMessageSendAttempt,r=d(p),o=r.onMessageSendAttempt,a=m(function(){return{onMessageSendAttempt:function(t){o==null||o(t),n==null||n(t)}}},[o,n]);return s.jsx(p.Provider,{value:a,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.MWV2ComposerActionsContext=p,l.MWV2ComposerActionsListener=_}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({hasContentRef:void 0});function f(e){var t=e.children,n=p(!1),r=m(function(){return{hasContentRef:n}},[n]);return s.jsx(_.Provider,{value:r,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWV2ComposerHasContentContextProvider=f,l.useComposerHasContext=g}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,o("CometLexicalEmojiNode").EmojiNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode],s=babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function u(t){var n,a,i=o("Lexical").createEditor({namespace:"MWPEditor",nodes:(n=t==null?void 0:t.nodes)!=null?n:e.filter(Boolean),onError:function(t){return r("mlcErrorHandler__INTERNAL")(t,i,function(e){r("FBLogger")("messenger_web").catching(t).mustfix("Lexical Error MWP: %s",e)})},theme:(a=t==null?void 0:t.theme)!=null?a:s});return i}l.default=u}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState;function m(){var t=d(r("isMessengerPWA")),n=t[0],o=t[1];return c(function(){if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||!matchMedia)){var t=matchMedia("(display-mode: standalone)"),n=function(t){o(t.matches)};return t.addListener(n),function(){t.removeListener(n)}}},[]),n}l.default=m}),98);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating(),t=c(!r("NetworkStatus").isOnline()&&!e),n=t[0],a=t[1];return u(function(){var e=r("NetworkStatus").onChange(function(e){var t=e.online;a(!t)});return function(){e.remove()}},[]),n}l.default=d}),98);
__d("MWChatFocusComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({focusComposer:void 0,setFocusComposer:function(){}});function f(e){var t=e.children,n=p(),r=n.current,o=m(function(){return{focusComposer:r,setFocusComposer:function(t){n.current=t}}},[r]);return s.jsx(_.Provider,{value:o,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWChatFocusComposerContextProvider=f,l.useMWChatFocusComposer=g}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1,YOU_MAY_KNOW:2}),l=e;i.default=l}),66);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("CometRouteParams").useRouteParams(),t=e.focus_target;if(t!=null){var n,a=Number(t);return(n=r("MWInboxFocusTarget").cast(a))!=null?n:0}return 0}l.default=e}),98);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","IGDReplyContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect;function m(e,t){var n,r=t.getCurrentState(),o=r.hiddenOrBackgrounded;if(!o){var a=(n=document.activeElement)==null||(n=n.attributes.getNamedItem("id"))==null?void 0:n.value;if(!(a!=null&&a.includes("prevent-composer-focus-steal")))return e.focus(function(){})}}function p(e){var t=e.editor,n=e.focusEditorDelayed,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=e.isPreviewThread,s=l===void 0?!1:l,p=e.isQuickchat,_=c(r("HiddenSubtreePassiveContext")),f=o("MWChatFocusComposerContext").useMWChatFocusComposer(),g=f.setFocusComposer,h=c(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("usePrevious")(y),b=o("IGDReplyContext.react").useIGDReplyContext(),v=r("usePrevious")(b);d(function(){((C==null?y!=null:!r("deepEquals")(C,y))||(v==null?b!=null:!r("deepEquals")(v,b)))&&(p&&n?n(t):m(t,_))},[t,y,C,n,p,_,v,b]);var S=r("useMWGetInboxFocusTargetFromRoute")(),R=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),L=S===0&&R&&!s;d(function(){L&&(p&&n?n(t):m(t,_))},[t,L,n,p,_]),d(function(){i&&(p&&n?n(t):m(t,_))},[t,i,n,p,_]),g(u(function(){p&&n?n(t):m(t,_)},[t,n,_,p]))}l.default=p}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c();function _(e){var t=e.children,n=m("");return s.jsx(p.Provider,{value:n,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}l.MWPNewMessageDraftContextProvider=_,l.useNewMessageDraftContext=f}),98);
__d("MWPreloadedText",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({text:null});l.default=u}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","getErrorSafe","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("useAsyncReStore")(),a=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e);return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=e.draftId;if(a){var l=yield t,s=yield l.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=null;return yield e.e2ee_composer_draft_link_preview.get(o).then(function(e){var n,r=JSON.parse((n=e==null?void 0:e.data)!=null?n:"{}");t=r.iframeMediaURL}),yield e.e2ee_composer_draft_link_preview.delete(o),t});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":41");if(s!=null)try{URL.revokeObjectURL(s)}catch(e){var u=r("getErrorSafe")(e);r("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",u.message)}}});return function(t){return e.apply(this,arguments)}})())}l.default=e}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=["image/png","image/jpeg","image/jpg"],c=2e3;function d(t){return new(e||(e=n("Promise")))(function(e){return r("setTimeout")(e,t)})}function m(t){return(e||(e=n("Promise"))).race([t,d(c)])}function p(e){if(e==null)return null;var t=null,n=e.find(function(e){return Object.values(S).some(function(n){var r=n.schemes,o=n.url,a=r.some(function(t){return t.test(e.entity.url)});return a&&(t=o),a})});return n==null||t==null?null:{oEmbedRequest:t+"?url="+encodeURIComponent(n.entity.url)+"&format=json",oEmbedUrl:n.entity.url}}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.fallbackUrl,a=e.qplEvent,i=e.request,l=(t=window.frames["maw-intermediate-iframe"])!=null?t:null;if(l==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}}),r("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}try{var s=yield m(o("MAWOembedIframeContainer.react").requestUrl(i,o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,l));if(s==null||s instanceof Blob){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return y({fallbackUrl:n,rawResponse:s})}catch(e){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}}),r("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a,i=t.qplEvent,l=t.xmaData;if(l==null)return(e||(e=n("Promise"))).resolve();var u=R(l.url),c=s.includes(u);if(c)return(e||(e=n("Promise"))).resolve();var d=l==null?void 0:l.thumbnail_url;if(d==null||!d)return i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}}),(e||(e=n("Promise"))).resolve();var p=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(p==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}}),r("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}var _=yield m(o("MAWOembedIframeContainer.react").requestUrl(d,o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,p));return _ instanceof Blob?_:(i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. "),(e||(e=n("Promise"))).resolve())}),h.apply(this,arguments)}function y(e){var t,n=e.fallbackUrl,o=e.rawResponse;if(o.version!=="1.0")throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(o.type==="photo"&&o.url==null)throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:o.author_name!=null?decodeURIComponent(o.author_name):void 0,height:o.height,thumbnail_height:o.thumbnail_height,thumbnail_url:o.thumbnail_url,thumbnail_width:o.thumbnail_width,title:o.title!=null?decodeURIComponent(o.title):void 0,type:o.type,url:(t=o.url)!=null?t:n,width:o.width}}function C(e){var t=v.some(function(t){return t.test(e)});return t?!0:Object.values(S).some(function(t){var n=t.url;return e.startsWith(n)})}var b=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),v=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),b],S={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function R(e){return Object.keys(S).find(function(t){return S[t].schemes.some(function(t){return t.test(e)})})}l.allowedPreviewTypes=u,l.findFirstAvailableOembedUrlAndRequestPair=p,l.getOembedResponse=_,l.getImageBlobResponse=g,l.isAllowedRequestForFbsbx=C}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["facebook.com","messenger.com","instagram.com","internalfb.com"];function s(e){if(e==null||typeof e!="object")return null;var t=e.requestURL,n=e.requestMessageType;if(typeof n!="string"||typeof t!="string"||!o("ConstUriUtils").isValidUri(t))return null;var r=c.cast(n);return r==null||r!==c.OEMBED_REQUEST_URL&&r!==c.THUMBNAIL_URL?null:[r,t]}function u(){var t=null,n=new(r("SecureMessageListener"))(window);function a(e){t=e.origin;var n=e.data,a=s(n);if(a!=null){var l=a[0],u=a[1];o("MAWExternalLinkUtil").isAllowedRequestForFbsbx(u)&&r("promiseDone")(window.fetch(u).then(function(e){switch(e.status!==200&&r("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful."),l){case c.OEMBED_REQUEST_URL:return e.json();case c.THUMBNAIL_URL:return e.blob()}}).then(function(e){i({type:l,url:u,value:e})}).catch(function(){r("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}}n.setEventHandler(a).setSupportedOrigins(e),n.beginListening();function i(e,n){var o=n!=null?n:1;if(t==null){o<=3&&window.setTimeout(function(){i(e,o+1)},250*Math.pow(2,o*o));return}r("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,e,t)}}var c=n("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);l.init=u,l.MAWOembedIFrameMessageType=c}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MAWOembedIframeContainer.react",["ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return"https://www.fbsbx.com"}var u=new Map,c=null;function d(t,a,i){var l=u.get(t);if(l!=null)return l.promise;var s=f();if(s==null)return(e||(e=n("Promise"))).resolve();r("SecurePostMessage").sendMessageToSpecificOrigin(i.contentWindow,{requestMessageType:a,requestURL:t},s);var c=new(o("WAResolvable")).Resolvable;return u.set(t,c),c.promise}function m(e){if(e==null||typeof e!="object")return null;var t=e.url,n=e.value,a=e.type;if(t==null||n==null||a==null||typeof a!="string")return null;var i=o("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof t=="string"&&i!=null){if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&n instanceof Blob)return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:t,value:n};if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof n=="object"&&n.title!=null&&n.thumbnail_url!=null){var l={author_name:typeof n.author_name=="string"?n.author_name:void 0,height:typeof n.height=="number"?n==null?void 0:n.height:150,thumbnail_height:typeof n.thumbnail_height=="number"?n.thumbnail_height:void 0,thumbnail_url:typeof n.thumbnail_url=="string"?n.thumbnail_url:void 0,thumbnail_width:typeof n.thumbnail_width=="number"?n.thumbnail_width:void 0,title:typeof n.title=="string"?n.title:void 0,type:typeof n.type=="string"?n.type:"photo",version:typeof n.version=="string"?n.version:"1.0",width:typeof n.width=="number"?n.width:200};return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:t,value:l}}}return r("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a),null}var p=function(t){var e=m(t.data);if(e!=null){var n=e.url,o=e.value,a=u.get(n);if(a==null){r("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}a.resolve(o)}};function _(){var e,t,n=(e=window.frames["maw-intermediate-iframe"])!=null?e:null,o=f();if(n!=null){var a;return(a=c)==null||a.beginListening(),c}if(o==null){r("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}var i=document.createElement("iframe");return i.style.display="none",i.className="MAWOembedIframe",i.id="maw-intermediate-iframe",i.src=o,(t=document.body)==null||t.appendChild(i),c=new(r("SecureMessageListener"))(window).setEventHandler(p).setSupportedOrigins(["fbsbx.com"]),c.beginListening(),c}function f(){var e,t;return(e=r("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(t=r("CookieConsentIFrameConfig").consent_param)!=null?t:""}).qualifyDomain(o("ConstUriUtils").getUri(s())))==null?void 0:e.toString()}l.requestUrl=d,l.createMAWOembedIframeContainer=_}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840460,"718");function s(t){var n=t.draftId,a=t.url,i=n.concat(a),l=o("MAWLoggerUtils").getInstanceKeyFromId(i),s=r("justknobx")._("2714");return r("QPLUserFlow").start(e,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:l,timeoutInMs:s}),{addAnnotations:function(n){r("QPLUserFlow").addAnnotations(e,n,{instanceKey:l})},addPoint:function(n,o){r("QPLUserFlow").addPoint(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endCancel:function(n,o){r("QPLUserFlow").endCancel(e,{annotations:n,cancelReason:o,instanceKey:l})},endFail:function(n,o){r("QPLUserFlow").endFailure(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endSuccess:function(){r("QPLUserFlow").endSuccess(e,{instanceKey:l})}}}l.startMediaPreProcessLinkPreviewQpl=s}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","asyncToGeneratorRuntime","getErrorSafe","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){var e=!1;return{abort:function(){e=!0},isAborted:function(){return e}}};function u(e){var t=e.threadKey,a=e.threadType,i=r("useAsyncReStore")(),l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),u=r("useMAWDeleteLinkPreviewXMATableData")(a),m=r("getRequestConstUri")(),_=r("useXMAPreviewsDisabledSetting")();return o("Int64Hooks").useCallbackInt64(function(e){var a=e.draftId,f=e.urls,g=s(),h=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l){var e=o("ConstUriUtils").getUri(f[0].entity.url);if(e!=null){var n=o("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:a,url:e.toString()}),s=r("isFacebookURI")(e),h=r("isFacebookURI")(m),y=s&&h;if(s&&_){c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_fb_disabled",status:r("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:t,xmaData:null}),n.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_loading_status",status:r("E2EELinkPreviewXMADataStatus").LOADING,threadKey:t,xmaData:{title:e.getDomain(),url:e.toString()}}),n.addAnnotations({bool:{should_fetch_from_og:y},string:{link_type:s?"facebook":"external"}});var C=y?yield d(e.toString(),n):yield p(f,n),b=C.dataType,v=C.xmaData;c({abortToken:g,dataType:b,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_xma_data",status:r("E2EELinkPreviewXMADataStatus").LOADED,threadKey:t,xmaData:v})}}});return function(){return e.apply(this,arguments)}})();return h(),g})}function c(t){var n=t.abortToken,a=t.dataType,l=t.dbPromise,s=t.deleteLinkPreviewXMATableData,u=t.draftId,c=t.qplEvent,d=t.qplSubspanPoint,m=t.status,p=t.xmaData;if(c.addAnnotations({int:{data_type:a}}),n.isAborted()){c.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}c.addPoint(d+"_start"),r("promiseDone")(l,function(t){return t.runInTransaction(function(t){return t.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:a!=null?(e||(e=o("I64"))).of_int32(a):void 0,draftId:u,status:(e||(e=o("I64"))).of_int32(m)})},"readwrite",void 0,void 0,i.id+":214").then(function(e){n.isAborted()&&(c.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),s({draftId:e[0]})),c.addPoint(d+"_success"),d==="write_xma_data"&&c.endSuccess()}).catch(function(e){c.endFail(d+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+e}}),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,a;t.addPoint("fetch_fb_og_data_start");var i=(n=(a=o("ConstUriUtils").getUri(e))==null?void 0:a.getDomain())!=null?n:e;try{var l,s,u;t.addPoint("http_request_start");var c=yield window.fetch(e,{credentials:"omit",referrerPolicy:"no-referrer"});if(t.addPoint("http_response_end"),!c.ok)return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(c.status),xma_data_returned:"fallback"}}),f(i,e);var d=yield c.text(),m=new DOMParser,p=m.parseFromString(d,"text/html");p.querySelector("parsererror")&&t.addPoint("html_parsererror");var _=(l=p.querySelector('meta[property="og:image"]'))==null?void 0:l.getAttribute("content"),g=(s=p.querySelector('meta[name="description"]'))==null?void 0:s.getAttribute("content"),h=(u=p.querySelector('meta[property="og:title"]'))==null?void 0:u.getAttribute("content");return _==null&&g==null&&h==null?(t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}}),f(i,e)):(t.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:g!=null?g:void 0,iframeMediaURL:_,thumbnail_url:_!=null?_:void 0,title:h!=null?h:i,url:e}})}catch(n){return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}}),f(i,e)}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a,i,l;n.addPoint("fetch_external_link_oembed_data_start");var s=o("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(e),u=e[0].entity.url,c=null;if(s!=null){u=s.oEmbedUrl;try{n.addPoint("get_oembed_response_start"),c=yield o("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:u,qplEvent:n,request:s.oEmbedRequest}),n.addPoint("get_oembed_response_success")}catch(e){var d=r("getErrorSafe")(e);n.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+d.message}}),n.addPoint("get_oembed_response_end"),r("FBLogger")("messenger_web_sharing").catching(d).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}var m=(a=o("ConstUriUtils").getUri(u))==null?void 0:a.getDomain();if(c==null)return n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}}),f(m!=null?m:u,u);n==null||n.addPoint("get_image_blob_response_start");var p=yield o("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:n,xmaData:c}),_=null;if(p!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(p.type)){var g=new File([p],"preview",{type:p.type});_=t.URL.createObjectURL(g)}return n==null||n.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:_==null}}),n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers.extends({iframeMediaURL:_},c,{title:(i=c.title)!=null?i:m,url:(l=c.url)!=null?l:u})}}),_.apply(this,arguments)}function f(e,t){return{dataType:r("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:e,url:t}}}l.default=u}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWDraftMessages.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("justknobx")._("3119");function c(e){var t=e.editor,n=e.isPreviewThread,a=e.subthreadParentMessageId,i=e.threadKey,l=e.threadType,c=o("MWDraftMessages.react").useMWUpdateDraft(),d=u,m=r("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:i,threadType:l}),p=r("useMAWDeleteLinkPreviewXMATableData")(l),_=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=s(function(e){n&&_!=null?_.current=e:(c==null||c(i,e,a),o("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:p,fetchAndWriteLinkPreviewXMA:m,message:e,subthreadParentMessageId:a,threadKey:i,threadType:l}))},[c,p,m,n,_,i,l,a]);o("Int64Hooks").useEffectInt64(function(){t.registerUpdateListener(r("CometDebounce")(function(e){var t=e.editorState,n=t.read(function(){return o("LexicalText").$rootTextContent()});if(r("isStringNullOrEmpty")(n)){f(n);return}f(n)},{wait:d}))},[d,t,f])}l.default=c}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t,n=e.editor,a=e.isPreviewThread,i=a===void 0?!1:a,l=e.isQuickchat,u=l===void 0?!1:l,c=e.subthreadParentMessageId,d=e.threadKey,m=e.threadType,p=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),_=s(r("MWPreloadedText")),f=_.text!=null?_.text:p!=null?p.current:(t=o("MWPComposerDraftMessages").getDraftMessage(d,c))==null?void 0:t.messageText;return r("useMWLSSaveDrafts")({editor:n,isPreviewThread:i,subthreadParentMessageId:c,threadKey:d,threadType:m}),r("usePrepopulateLexicalEditor")(n,u?void 0:f,!0),f}l.default=u}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef,d=250;function m(e,t){var n=c(null);u(function(){return e.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(a){var i=a;if(o("MLCKeyBindingUtil").hasCommandModifier(i)&&r("gkx")("13931")&&!r("gkx")("23402"))return!1;if(i!=null&&!i.shiftKey&&!i.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(i))){i.preventDefault();var l=n.current;return l!=null&&i.timeStamp-l<=d&&r("gkx")("15485")?(n.current=i.timeStamp,!0):(e.dispatchCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,"create"),t(),n.current=i.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[e,t])}l.default=m}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){return e.getEditorState().read(o("LexicalText").$isRootTextContentEmptyCurry(e.isComposing()))}function _(e){var t=m(function(){return!p(e)}),n=t[0],r=t[1];return c(function(){return e.registerUpdateListener(function(){r(!p(e))})},[e]),n}function f(e){"use no forget";var t=e.editor,n=e.initialValue,r=d(n);return{useHasText:u(function(){var e,n=d((e=r.current)!=null?e:!1);return c(function(){n.current=!1},[]),_(t)||n.current},[t])}}function g(e){var t,n=e.editor,r=e.initialValue,o=d(r),a=d((t=o.current)!=null?t:!1);return c(function(){a.current=!1},[]),_(n)||a.current}l.useMWXLexicalHasText_DEPRECATED=f,l.useMWXLexicalHasText=g}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var a=t!=null?t:!1;return u(function(){if(a){var t=o("Run").onUnload(function(){return e(!1)});return function(){return t.remove()}}},[a,e]),c(function(){var t={contents:!1},o=r("debounce")(function(){if(!t.contents)return e(!1)},n|0),a=r("CometThrottle")(function(){return e(!0)},3e3,{leading:!0,trailing:!1}),i=function(){e(!1),t.contents=!0},l=function(){return a(),o()};return[l,i]},[e,n])}l.useLatch=d}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=e.editor,n=e.onTypingStateChanged,r=o("MWXUseLatch").useLatch(n,!0,5e3),a=r[0],i=r[1],l=c("");return u(function(){var e=function(t){var e=t.editorState.read(function(){return o("LexicalText").$rootTextContent()});if(e!==l.current)return l.current=e,e===""?i():a()};return t.registerUpdateListener(e)},[a,i,t]),{}}l.default=d}),98);
__d("useMWPComposerEditor",["Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWDraftMessages.react","MWFBLogger","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useMemo,m=s.useRef;function p(e){}var _=n("cr:7101")==null?p:n("cr:7101").useMWComposerKeyCommandFocusRegister,f=[],g=function(t){return t.read(function(){return o("LexicalText").$rootTextContent()})};function h(e){var t=e.customizedRanges,n=e.getTextFromEditorState,a=n===void 0?g:n,i=e.isPreviewThread,l=i===void 0?!1:i,s=e.isSendDisabled,p=s===void 0?!1:s,h=e.mediaStaging,y=h===void 0?f:h,C=e.onSendMessage,b=e.onTypingStateChanged,v=e.threadKey,S=e.clearFormatAfterSend,R=e.isQuickchat,L=R===void 0?!1:R,E=e.focusEditorDelayed,k=e.editorNodes,I=e.editorTheme,T=e.threadType,D=e.composerEntrypointForLogging,x=e.subthreadParentMessageId,$=m(null),P=d(function(){return r("mwpLexicalCreateEditor")({nodes:k,theme:I})},[k,I]),N=y.length>0;r("useLexicalInitializeEditor__DEPRECATED")(P),r("useMWPLexicalClearEditor")(P,S),r("useMWPComposerAutoFocus")({editor:P,focusEditorDelayed:E,hasUnsentAttachments:N,isPreviewThread:l,isQuickchat:L});var M=r("useMWPComposerEditorDraftText")({editor:P,isPreviewThread:l,isQuickchat:L,subthreadParentMessageId:x,threadKey:v,threadType:T}),w=o("MWDraftMessages.react").useMWUpdateDraft(),A=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:P,initialValue:M!=null&&M!==""}),F=A||N,O=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),B=O.hasContentRef;c(function(){B!=null&&(B.current=A)},[A,B]),r("useMWXLexicalOnTypingChanged")({editor:P,onTypingStateChanged:b});var W=u(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),q=W.onMessageSendAttempt,U=r("useMWIsOffline")(),V=r("useIsMessengerPWA")(),H=U&&V,G=o("Int64Hooks").useCallbackInt64(function(){var e;if(!H){var n=(e=o("MWPComposerDraftMessages").getDraftMessage(v,x))==null?void 0:e.id;if(o("MWPComposerDraftMessages").updateDraftMessage({message:null,subthreadParentMessageId:x,threadKey:v}),w==null||w(v,null,x),q==null||q(F),!!F){o("MWChatMessagesOnChatTabLoadTracker").trackSendFor(v),o("MWFBLogger").MWLogger().tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var i=t!=null?t(P,o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(v,x)):r("MWV2ChatComposerGetViewContent").getRanges(P),l=P.getEditorState(),s=a(l);P.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND),C(s,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,D),P.focus()}}},[w,H,q,F,P,v,t,a,C,D,x]),z=p?r("emptyFunction"):G;return r("useMWPLexicalCommitMessageOnEnter")(P,z),_($.current),{editor:P,editorElementRef:$,hasStuffToSend:F,sendMessage:z}}l.default=h}),98);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":22");return l==null?r("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(t=l==null?void 0:l.e2eeHdMediaEnabled)!=null?t:!1}l.default=s}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext),n=r("useMWIsHDMediaEnabled")();c(function(){var r={enabled:!0,handler:function(r){return e(r,n)}};return t.current=r,function(){r.enabled=!1,r.handler=null}},[t,e,n])}l.default=d}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),c=u===1||u===15,d=o("ReQLSuspense").useArray(function(){return c&&t!=null?o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t):o("ReQL").empty()},[a,t,c],i.id+":72");if(t==null)return null;if(c){var m=d.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}).filter(function(t){return t!==(e||(e=o("I64"))).to_string(l)})[0];return m}else return(e||(e=o("I64"))).to_string(t)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3905"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3476"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function s(e,t){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,t)}function u(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function c(e,t,n){var a=e.id,i=e.isOnline,l=e.messageThreadId,s=e.position,u=e.storyIds,c=e.surface,d=e.targetType,m=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)m="one_px_impression";else return;var p={event_type:m,surface:{entry_point:c.entry_point,major_surface:c.major_surface,minor_surface:c.minor_surface},target:{ranking:{absolute_position:s!=null?s.toString():"-1"},type:d,user:{id:a}}};if(i!=null&&(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{presence:{status:i?1:0}})})),(u==null?void 0:u.firstCardId)!=null&&(u==null?void 0:u.bucketId)!=null){var _,f=atob(u.firstCardId),g=null;f!=null&&f.includes("S:_ISC:")&&(g=f.split("S:_ISC:")[1]),p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{story:{bucket_id:(_=u.bucketId)!=null?_:null,first_card_id:g!=null?g:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerInboxTrayEventFalcoEvent").log(function(){return p}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{button:n!=null?{type:n}:void 0,message_thread:l!=null?{consistent_thread_fbid:l}:void 0})}),r("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return p})):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerInboxTrayEventFalcoEvent").log(function(){return p})}l.logClickEvent=e,l.logConversionClickEvent=s,l.logImpressionEvent=u}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r=o("IGDChatTabsStateContext.react").useIGDChatTabsState();if(n==="ChatTab"){var a,i=r==null?void 0:r.openedTabs.get((e||(e=o("I64"))).to_string(t));return(a=i==null?void 0:i.source)!=null?a:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}l.default=s}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_sent_message";function u(){return r("justknobx")._("1630")}function c(){(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),s,String(Date.now()))}function d(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return Date.now()-Number(t==null?void 0:t.getItem(s))<u()}l.sentMessage=c,l.hasSentMessagesRecently=d}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=a.isCommunityEvent,l=a.isMessageRequest,s=a.source,u=a.threadType,c=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());o("MWChatInteraction").set(n,c);var d={entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(s),is_community_event:i===!0?"true":"false",is_message_request:l===!0?"true":"false",thread_type:u==null?"unknown":(e||(e=o("I64"))).to_string(u)};return Object.entries(d).forEach(function(e){var n=e[0],r=e[1];t.addMetadata(n,String(r))}),o("MessengerIntent").sentMessage(),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.logSentHeroInteraction=s}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","gkx","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){o("sendToSentQPLLogger").markSendToSentPoint(e,"received_successful_server_ack"),o("sendToSentQPLLogger").markSendToSentSuccess(e),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function c(e,t){o("sendToSentQPLLogger").markSendToSentFail(e,"send_message_server_error",r("err")("send_message_server_error")),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function d(e){o("sendToSentQPLLogger").markSendToSentPoint(e,"sending_message")}function m(t){var a=t.db,i=t.isCommunityEvent,l=t.isFirstMessage,m=l===void 0?!1:l,p=t.isMessageRequest,_=t.isWorkChat,f=_===void 0?!1:_,g=t.s2sInstanceKey,h=t.sendFirstMessageSeparately,y=h===void 0?!1:h,C=t.source,b=t.threadType,v=t.traceSendMessageAPI,S={isCommunityEvent:i,isMessageRequest:p,mwVersion:o("MWVersion").v2,source:C,threadType:b};return function(t){o("MWLSLogSend").logSentHeroInteraction(v,t,S),o("MWChatInteraction").set(o("MWChatInteraction").s2sKey(t),String(g)),o("sendToSentQPLLogger").addSendToSentAnnotations(g,{bool:{subscription_points_gk:!0},string:{entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(C),is_community_event:i===!0?"true":"false",is_first_message:m===!0?"true":"false",is_message_request:p===!0?"true":"false",offline_threading_id:f&&r("gkx")("9326")?t:null,send_first_message_separately:y===!0?"true":"false",thread_type:b==null?"unknown":(e||(e=o("I64"))).to_string(b)}});var l=!1,_=o("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(t),h=o("ReQLSubscribe").subscribeToFirst(_,function(n){n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(2))?(l=!0,u(g,t),h()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(4))?(l=!0,c(g,t),h()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(1))&&d(g)});window.setTimeout(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!l){var e=yield o("ReQL").firstAsync(_);l||o("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{status_after_10s:e?""+(s||(s=o("LSIntEnum"))).toNumber(e.sendStatusV2):"none"}})}}),1e4),window.setTimeout(function(){h()},12e4)}}l.default=m}),98);
__d("MessengerSurfaceType",[],(function(t,n,r,o,a,i){"use strict";var e="MESSENGER",l="WORK_QUIKCHAT",s="WORK_CHAT",u="WORKROOMS",c="WORKROOMS_IN_CALL",d="WORK_MEETINGS_IN_CALL",m="OTHER";i.messenger=e,i.workQuickchat=l,i.workChat=s,i.workrooms=u,i.workroomsInCall=c,i.workMeetingsInCall=d,i.other=m}),66);
__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({surface:o("MessengerSurfaceType").messenger});l.context=u}),98);
__d("useEnabledForWorkchatOnly",["MessengerSurfaceType","WorkGalahadMWChatTabContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(){var e=u(o("WorkGalahadMWChatTabContext.react").context);return c(function(){return e.surface===o("MessengerSurfaceType").workQuickchat||e.surface===o("MessengerSurfaceType").workChat||e.surface===o("MessengerSurfaceType").workMeetingsInCall},[e])}l.default=d}),98);
__d("mapSlideMessageSendStatusToLSStatusV2",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e==="OPTIMISTIC"?1:e==="AUTHORITATIVE"?2:e==="ERROR"?t===!0?5:4:e==="UNKNOWN"?2:e==null?0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}i.default=e}),66);
__d("useIGDReplyOnLS",["I64","IGDReplyContext.react","LSIntEnum","MWPReplyContext.react","mapSlideMessageSendStatusToLSStatusV2","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(){var e=o("react-compiler-runtime").c(2),t=c(o("MWPReplyContext.react").MWPReplyContext),n=t.reply,r=o("IGDReplyContext.react").useIGDReplyContext();if(n==null&&r==null)return null;if(n!=null)return n;var a;return e[0]!==r?(a=m(r),e[0]=r,e[1]=a):a=e[1],a}function m(e){var t,n,a;return e==null?null:{isReported:(t=e.message.is_reported)!=null?t:!1,messageId:e.message.message_id,offlineThreadingId:e.message.offline_threading_id,sendStatusV2:(s||(s=o("LSIntEnum"))).ofNumber(r("mapSlideMessageSendStatusToLSStatusV2")(e.message.client__send_status)),text:(n=(a=e.message.content)==null?void 0:a.text_body)!=null?n:"",threadKey:(u||(u=o("I64"))).of_string(e.message.thread_fbid),timestampMs:u.of_string(e.message.timestamp_ms)}}l.default=d}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","useLSMessagingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useLSMessagingSource")();return s(function(t){return o("MWGenAIUtils").isMetaAIThread(t)?o("LSThreadAttributionTypeUtil").getSourceWithoutReset(t,e):o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,e)},[e])}l.default=u}),98);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","asyncToGeneratorRuntime","isInstamadillo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t?u(e,t):n()}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(!r("isInstamadillo")())return{openEb:!1,pluginType:void 0};var a=yield t.messages.index("messageId").get(n.messageId);if(!o("IGDInstamadilloUtils").isInstamadilloMessage(a))return{openEb:!1,pluginType:void 0};var i=yield t.e2ee_igMessageAuxiliaryInfo.get(n.messageId),l=!!(i!=null&&i.openEb);return{openEb:l,pluginType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO)}}),c.apply(this,arguments)}l.IGDGetMessagePluginInfo=s}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function u(t,n,a,i,l,u,c,d,m,p,_,f){var g=p!=null&&(e||(e=o("LSIntEnum"))).unwrapIntEnum(p)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO,h=g?1:0;s.onReady(function(e){return e.log(t,{actor:i,additionalTags:g?["armadillo_express"]:void 0,attachmentFbids:u,attachmentType:d,backend:h,ephemeralDurationInSec:f,hasReply:m,isInstamadilloTTLC:_,offlineThreadingId:l,sendType:0,source:c,threadKey:n,threadType:a})})}l.log=u}),98);
__d("createOptimisticTextSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"You").toString();function u(t){var n=t.offlineThreadingId,r=t.optimisticMessageId,o=t.repliedToMessageId,a=t.senderFbid,i=t.text,l=t.threadFbid,s=t.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:s,content:{__isSlideMessageContent:"SlideMessageText",__typename:"SlideMessageText",text_body:i},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:e+": "+i,is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:i,thread_fbid:l,timestamp_ms:s};return u}l.default=u}),226);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","ChatGeminiDisplayContextProvider.react","CometRelay","I64","IGDGetMessagePluginInfo","IGDReplyContext.react","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","ODS","Promise","ReQL","ReQLSuspense","WATimeUtils","asyncToGeneratorRuntime","createOptimisticTextSlideMessage","gkx","isMWBumpMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(d||(d=o("react"))).useContext;function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n!=null&&r("gkx")("23995")&&(yield r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(m||(m=o("I64"))).minus_one,tags:t}))}),f.apply(this,arguments)}function g(t){var a=t.authorityLevel,l=t.disableMarkRead,d=t.ephemeralDurationInSec,f=t.onOptimisticMessageCreation,g=t.skipUrlPreviewGen,h=t.threadKey,y=t.threadType,C=o("MWPActor.react").useActor(),b=p(o("MWPReplyContext.react").MWPReplyContext),v=b.reply,S=p(o("IGDReplyContext.react").IGDReplyContext),R=o("CometRelay").useRelayEnvironment(),L=r("useLSMessagingInitiatingSource")(),E=(s||(s=r("useReStore")))(),k=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),I=k.sideChatMainMessageId,T=o("ReQLSuspense").useFirst(function(){return(v==null?void 0:v.messageId)==null?o("ReQL").empty():o("ReQL").fromTableAscending(E.tables.messages.index("messageId")).getKeyRange(v.messageId)},[v==null?void 0:v.messageId,E.tables.messages],i.id+":149"),D=r("isMWBumpMessage")(T==null?void 0:T.replyType)?T==null?void 0:T.replySourceId:v==null?void 0:v.messageId,x=S==null?void 0:S.message.message_id;return o("Int64Hooks").useCallbackInt64(function(t,i){var s=i.accessibilityLabel,p=i.afterSend,b=i.attributionAppId,E=i.dataclassParams,k=i.dataTraceId,T=i.externalAttachmentUrl,$=i.hotEmojiSize,P=i.logSendPoint,N=i.mentionData,M=i.messageText,w=i.messageTypeParams,A=i.multitabEnv,F=i.optimisticAttachmentPreview,O=i.platformToken,B=i.pluginType,W=i.profileRanges,q=i.richTextFormatType,U=i.s2sInstanceKey,V=i.setupS2SLogging,H=i.source,G=i.sticker,z=i.traceSendMessageAPI,j=i.transaction;return K(j);function K(e){return Q.apply(this,arguments)}function Q(){return Q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(i){var K=r("LSFactory")(i),Q=r("gkx")("24135");yield _(i,(m||(m=o("I64"))).to_string(h),k);var X=w.hasAttachment,Y=X===void 0?!1:X,J=w.hasGif,Z=J===void 0?!1:J,ee=w.hasHotEmoji,te=ee===void 0?!1:ee,ne=w.hasLinks,re=ne===void 0?!1:ne,oe=w.hasSticker,ae=oe===void 0?!1:oe,ie=w.hasText,le=ie===void 0?!1:ie,se=yield i.threads.get(h),ue=re?o("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(se):o("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(se),ce=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(i,v,function(){return(e||(e=n("Promise"))).resolve({openEb:ue,pluginType:ue?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):B})}),de=ce.openEb,me=ce.pluginType,pe=yield r("LSOptimisticSendMessageV2StoredProcedure")(K,{dataclassParams:E!=null?JSON.stringify(E):void 0,extraSendMessageParams:o("LSShape").ofRecord({attribution_app_id:b,calculate_denormalizations:!1,data_trace_id:k!=null?k:void 0,ephemeral_duration_in_sec:d,external_attachment_url:T,hot_emoji_size:$,initiating_source:L,is_exclusive_to_subthread:I!=null,mark_read:l===!0?!1:(m||(m=o("I64"))).ge(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),mention_data:N,multitab_env:A,openEb:de,optimistic_attachment_preview:F,platform_token:O,plugin_type:me,power_up_style:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),qpl_instance_key:U.toString(),reply_source_id:D!=null?D:x,reply_source_type:v!=null||S!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:v!=null||S!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:q,skip_url_preview_gen:g,source:H,sticker_id:G==null?void 0:G.stickerId,subthread_parent_message_id:I!=null?I:void 0,text_has_links:re&&Q}),mailboxType:u.ofNumber(r("LSMailboxType").MESSENGER),metadataDataclass:JSON.stringify({media_accessibility_metadata:{alt_text:Z?s:null}}),senderId:C,text:M,threadKey:h,threadType:y});(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","optimistic_message_created");var _e=pe[0],fe=se==null?void 0:se.consistentThreadFbid;if(se!=null&&(m||(m=o("I64"))).equal(se.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&fe==null&&(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","consistent_thread_fbid_null_for_authoritative_thread"),fe!=null&&M!=null){P("create_igd_relay_optimistic_message");var ge=o("WATimeUtils").millisTime(),he=r("createOptimisticTextSlideMessage")({offlineThreadingId:_e,optimisticMessageId:"mid.$"+_e,repliedToMessageId:x,senderFbid:(m||(m=o("I64"))).to_string(C),text:M,threadFbid:m.to_string(fe),timestampMs:ge.toString()});r("IGDWriteOptimisticRelayMessage")(R,he),(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","igd_relay_optimistic_message_created")}return P("create_optimistic_message_end"),o("MWPSendMessageLogger").log(t,h,y,C,void 0,[],H,r("MessagingAttachmentType").NONE,v!=null||S!=null,me,ue,d),(!Y||Z||ae||te)&&(V(_e),z.addAnnotationBoolean("is_instamadillo_ttlc",ue&&de===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(U,{bool:{is_instamadillo_ttlc:ue&&de===!0}})),f!=null&&f({TAG:0,hasHotEmoji:te,hasLink:re,hasMention:W!=null&&W.length>0,isGIF:Z,isReply:!!(v&&v.messageId!==""),isSticker:ae,isText:le,offlineThreadingId:pe[0]}),p!=null&&(yield p(j)),pe}),Q.apply(this,arguments)}},[h,v,d,L,I,l,a,D,x,S,g,C,y,f,R])}l.default=g}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.disableMarkRead,n=e.ephemeralDurationInSec,o=e.onOptimisticMessageCreation,a=e.skipUrlPreviewGen,i=e.thread;return r("useMWV2SendOpenMessageImplShared")({authorityLevel:i.authorityLevel,disableMarkRead:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:o,skipUrlPreviewGen:a,threadKey:i.threadKey,threadType:i.threadType})}l.default=e}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case r("MessagingAttachmentType").NONE:return 1;case r("MessagingAttachmentType").STICKER:return 4;case r("MessagingAttachmentType").IMAGE:return 8;case r("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case r("MessagingAttachmentType").VIDEO:return 10;case r("MessagingAttachmentType").AUDIO:return 11;case r("MessagingAttachmentType").FILE:return 9;case r("MessagingAttachmentType").XMA:return 13;case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case r("MessagingAttachmentType").SELFIE_STICKER:return 22;case r("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}l.convertI64ToAttachmentType=s}),98);
__d("createOptimisticImageSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.image,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageImageContent",__typename:"SlideMessageImageContent",attachments:[{__isSlideMessagingMediaAttachment:"XFBSlideAttachment",__typename:"XFBSlideAttachment",attachment_cdn_fallback_url:t.url,attachment_cdn_url:t.url,attachment_fbid:null,attachment_type:2,preview_cdn_fallback_url:t.url,preview_cdn_url:t.url,preview_height:t.height,preview_width:t.width}]},content_type:"IMAGES",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a photo").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticVideoSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.offlineThreadingId,n=e.optimisticMessageId,r=e.repliedToMessageId,o=e.senderFbid,a=e.threadFbid,i=e.timestampMs,l=e.video,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:i,content:{__isSlideMessageContent:"SlideMessageVideosContent",__typename:"SlideMessageVideosContent",videos:[{__typename:"XFBSlideVideoAttachment",attachment_cdn_url:l.url,attachment_fbid:null,attachment_type:4,preview_cdn_url:l.url,preview_height:l.height,preview_width:l.width}]},content_type:"VIDEOS",id:n,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a video").toString(),is_reported:!1,message_id:n,offline_threading_id:t,reactions:[],replied_to_message:null,replied_to_message_id:r,sender_fbid:o,text_body:"",thread_fbid:a,timestamp_ms:i};return u}l.default=e}),226);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(e||(e=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(o("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK)})}function c(t,n,a,i){return u(t,n).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:n,syncChannel:(e||(e=o("I64"))).neg_one,tags:e.to_string(a)+","+e.to_string(i)})})}l.logMediaSendStart=c}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){t!=null&&(yield o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(s||(s=o("I64"))).of_int32(r)))}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n!=null&&r("gkx")("23995")&&(yield r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(s||(s=o("I64"))).minus_one,tags:t}))}),m.apply(this,arguments)}function p(e,t,n,r,o){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,c){var m=r("LSGenerateTraceId")(),p=c[0],_=o("MessagingLoggingUtils").convertI64ToAttachmentType(p.attachmentType);yield u(t,m,(s||(s=o("I64"))).of_int32(l.length),_);var f=0,g=l.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){yield r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:e.attachment_type,inMessageIndex:(s||(s=o("I64"))).of_int32(n),isSecure:!1,offlineAttachmentId:e.attachment_fbid,offlineThreadingId:i,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}),yield o("MWPOpenComposerUtils").updateMediaStaging(t,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})});var l=c.find(function(t){return t.offlineAttachmentId===e.offline_attachment_id});if(l!=null){var u=l.fbid;u!=null&&(yield r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:u,offlineAttachmentId:e.attachment_fbid}),yield o("MWPOpenComposerUtils").deleteMediaStaging(t,e.attachment_fbid),yield o("MWPOpenComposerUtils").updateAttachment(t,a,i,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{attachmentFbid:(s||(s=o("I64"))).to_string(u)})}),f++)}r("gkx")("24136")&&(yield o("MWPOpenComposerUtils").updateAttachment(t,a,i,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{previewHeight:void 0,previewWidth:void 0})}))});return function(t,n){return e.apply(this,arguments)}})());return yield(e||(e=n("Promise"))).allSettled(g),yield o("MWPOpenComposerUtils").resumeSendJob(r("LSFactory")(t),i,m),yield d(t,s.to_string(a),m),yield r("updateAndFlushLSDataTrace")(t,m),{sentWithAllFilesUploaded:f===l.length}}),_.apply(this,arguments)}l.default=p}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){r("promiseDone")(r("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:i}));var l=a.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("MWPOpenComposerUtils").updateMediaStaging(t,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})})});return function(t){return e.apply(this,arguments)}})());yield(e||(e=n("Promise"))).allSettled(l)}),u.apply(this,arguments)}l.default=s}),98);
__d("useMWV2SendOpenStagedMedia",["CometRelay","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMsgMediaTypeLogUtils","MWPActor.react","MWPComposerMediaUploadUtil","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","Promise","WATimeUtils","asyncToGeneratorRuntime","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,i,l){var c=o("CometRelay").useRelayEnvironment(),m=o("MWPActor.react").useActor(),p=r("useIGDReplyOnLS")(),_=r("useLSMessagingInitiatingSource")(),f=o("LSThreadBitOffset").has(40,i),g=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64((function(){var h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(h,y){var C=y.isFirstMessage,b=C===void 0?!1:C,v=y.isFirstMessageText,S=y.mediaStagings,R=y.metadataDataclass,L=y.pluginType,E=y.s2sInstanceKey,k=y.sendFirstMessageSeparately,I=k===void 0?!1:k,T=y.setupS2SLogging,D=y.source,x=y.traceSendMessageAPI,$=y.transaction;if(S.length!==0){var P=!1;if(S.length===1){var N=S[0];(u||(u=o("I64"))).to_int32(N.attachmentType)===r("MessagingAttachmentType").IMAGE?P=o("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(i):(u||(u=o("I64"))).to_int32(N.attachmentType)===r("MessagingAttachmentType").VIDEO&&(P=o("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(i))}for(var M=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo($,p,function(){return(e||(e=n("Promise"))).resolve({openEb:P,pluginType:P?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):L})}),w=M.openEb,A=M.pluginType,F=S[0],O=o("MessagingLoggingUtils").convertI64ToAttachmentType(F.attachmentType),B=o("MWPComposerMediaUploadUtil").createPartitionedAttachments(S,f,l),W=!0,q=0;q<B.length;q++)if(!b||!I||q===0&&b&&!v){var U=B[q],V=yield r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(r("LSFactory")($),{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray(U.map(o("LSShape").ofRecord)),ephemeral_duration_in_sec:t,external_attachment_url:void 0,initiating_source:_,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:A,reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:D}),senderId:m,threadKey:i.threadKey,threadType:i.threadType}),H=V[0],G=i==null?void 0:i.consistentThreadFbid;if(G!=null)for(var z of U){var j=null,K=o("WATimeUtils").millisTime(),Q=(s||(s=o("LSIntEnum"))).unwrapIntEnum(z.attachment_type),X={offlineThreadingId:H,optimisticMessageId:"mid.$"+H,repliedToMessageId:p==null?void 0:p.messageId,senderFbid:(u||(u=o("I64"))).to_string(m),threadFbid:u.to_string(G),timestampMs:K.toString()};if(Q===r("MessagingAttachmentType").IMAGE){var Y,J,Z;j=r("createOptimisticImageSlideMessage")(babelHelpers.extends({},X,{image:{height:(u||(u=o("I64"))).to_float((Y=z.preview_height)!=null?Y:(u||(u=o("I64"))).zero),url:(J=z.preview_url)!=null?J:"",width:u.to_float((Z=z.preview_width)!=null?Z:(u||(u=o("I64"))).zero)}}))}else if(Q===r("MessagingAttachmentType").VIDEO){var ee,te,ne;j=r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},X,{video:{height:(u||(u=o("I64"))).to_float((ee=z.preview_height)!=null?ee:(u||(u=o("I64"))).zero),url:(te=z.preview_url)!=null?te:"",width:u.to_float((ne=z.preview_width)!=null?ne:(u||(u=o("I64"))).zero)}}))}j&&r("IGDWriteOptimisticRelayMessage")(c,j)}if(q===0&&(T(H),x.addAnnotationBoolean("is_instamadillo_ttlc",P&&w===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{is_instamadillo_ttlc:P&&w===!0}})),yield $.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:_,markThreadRead:!1,messageId:void 0,metadataDataclass:R,offlineThreadingId:H,openEb:w,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(u||(u=o("I64"))).of_string(H),threadAttributionSource:D,threadKey:i.threadKey}),a==null||a({TAG:2,attachmentType:d(U),numberOfAttachments:U.length,offlineThreadingId:H}),A!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(A)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield r("issueSendInstamadilloMediaMessage")($,U,H);else{var re=yield r("issueLSMediaSendJobs")($,i.threadKey,H,U,S);W=W&&re.sentWithAllFilesUploaded}o("MWPSendMessageLogger").log(h,i.threadKey,i.threadType,m,H,U.map(function(e){return e.attachment_fbid}),D,O,p!=null,A,P,t)}f===!1&&(g==null||g({eventName:"media_collection_message_sent"}));var oe=(u||(u=o("I64"))).to_string(i.threadKey),ae=o("LSMessagingThreadTypeUtil").isGroup(i.threadType)?[oe,null]:[null,oe],ie=ae[0],le=ae[1];r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:W?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:le,thread_fbid:ie}})}});return function(e,t){return h.apply(this,arguments)}})(),[p,f,l,i,t,_,m,a,c,g])}function d(e){if(e.length===0)return o("MWMsgMediaTypeLogUtils").AttachmentType.None;var t=e[0].playable_url_mime_type;return t==null?o("MWMsgMediaTypeLogUtils").AttachmentType.None:t.indexOf("image")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Image:t.indexOf("video")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Video:t.indexOf("application")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.File:o("MWMsgMediaTypeLogUtils").AttachmentType.None}l.default=c}),98);
__d("createOptimisticAudioSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.audioAttachment,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageAudiosContent",__typename:"SlideMessageAudiosContent",audio_attachments:[{attachment_cdn_url:URL.createObjectURL(t.file),attachment_fbid:null,playable_duration_ms:t.playableDurationMs,waveform_data:t.waveformData}]},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a voice message").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPAttachmentUploadQplFlow","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","QE2Logger","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){if(e!=null&&e.startsWith("blob:")){var a={contents:function(){}};a.contents=o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(r).subscribe(function(n,r){if(r.operation==="put"){var o=r.value;if(o.attachmentFbid!==t.toString())return;var i=o.playableUrl;i!=null&&!i.startsWith("blob:")&&(a.contents(),URL.revokeObjectURL(e))}})}}function u(e,t,n,r,o,a,i,l,s,u,d,m){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,l,u,c,d,m,p,_,f,g,h){yield r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:m.attachment_type,inMessageIndex:(e||(e=o("I64"))).zero,isSecure:!1,offlineAttachmentId:c,offlineThreadingId:d,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});var y=function(l,p){if(!(p==null||p.length===0)){var t=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield r("LSDatabaseSingletonLazyWrapper")();return t.runInTransaction((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var i=r("LSFactory")(n);yield r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(p),offlineAttachmentId:c}),yield o("MWPOpenComposerUtils").resumeSendJob(i,d,u),s(m.playable_url,p,t,a)});return function(e){return i.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":102")});return function(){return t.apply(this,arguments)}})();r("promiseDone")(t(),function(){f==null||f(l)})}},C=function(t,n){var e;g==null||g((e=n.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",t)},b=h==="IGDComposer"?o("MWPAttachmentUploadQplFlow").createAttachmentUploadIdToQplFlowMap([{attachmentType:"audio",entryPoint:h,fileSize:p.file.size,platform:"igd",uploadId:c}]):null;o("QE2Logger").logExposureForIGUser("igd_opus_audio"),yield o("MWPComposerMediaUploadUtil").startUpload(_,void 0,y,C,!0,[p.file],[c],void 0,void 0,p.waveformData,void 0,e.to_string(l),b)}),c.apply(this,arguments)}l.default=u}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MessagingLoggingUtils","OfflineThreadingId","Promise","RelayHooks","WATimeUtils","asyncToGeneratorRuntime","createOptimisticAudioSlideMessage","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n,r){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){t!=null&&(yield o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(u||(u=o("I64"))).of_int32(r)))}),d.apply(this,arguments)}function m(t){var a=t.entryPoint,i=t.ephemeralDurationInSec,l=t.onOptimisticMessageCreation,d=t.onUploadFailure,m=t.onUploadStart,p=t.onUploadSuccess,_=t.sendMessageLogger,f=t.skipUrlPreviewGen,g=t.threadKey,h=t.threadType,y=o("MWPActor.react").useActor(),C=r("useLSMessagingInitiatingSource")(),b=o("RelayHooks").useRelayEnvironment(),v=r("useIGDReplyOnLS")();return o("Int64Hooks").useCallbackInt64((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,S){var R=S.dataTraceId,L=S.pluginType,E=S.s2sInstanceKey,k=S.setupS2SLogging,I=S.source,T=S.traceSendMessageAPI,D=S.transaction,x=S.voiceClip,$=r("LSFactory")(D),P=o("OfflineThreadingId").createOfflineThreadingID(),N=o("MWPComposerMediaUploadUtil").getAudioAttachment(P,x.file,x.duration,x.waveformData);yield c(D,R,(u||(u=o("I64"))).one,2);var M=yield D.threads.get(g),w=o("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(M),A=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(D,v,function(){return(e||(e=n("Promise"))).resolve({openEb:w,pluginType:w?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):L})}),F=A.openEb,O=A.pluginType,B=yield r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")($,{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray([o("LSShape").ofRecord(N)]),ephemeral_duration_in_sec:i,external_attachment_url:void 0,initiating_source:C,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:O,reply_source_id:v==null?void 0:v.messageId,reply_source_type:v!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:v!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:I}),senderId:y,threadKey:g,threadType:h}),W=B[0],q=M==null?void 0:M.consistentThreadFbid;if(q!=null){var U=o("WATimeUtils").millisTime(),V=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:x.file,playableDurationMs:x.duration*1e3,waveformData:[].concat(x.waveformData.amplitudes)},offlineThreadingId:W,optimisticMessageId:"mid.$"+W,repliedToMessageId:v==null?void 0:v.messageId,senderFbid:(u||(u=o("I64"))).to_string(y),threadFbid:u.to_string(q),timestampMs:U.toString()});r("IGDWriteOptimisticRelayMessage")(b,V)}k(W),T.addAnnotationBoolean("is_instamadillo_ttlc",w&&F===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{is_instamadillo_ttlc:w&&F===!0}}),yield D.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:C,markThreadRead:!1,messageId:void 0,offlineThreadingId:W,openEb:F,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:f,taskId:u.of_string(W),threadAttributionSource:I,threadKey:g}),l!=null&&l({TAG:1,offlineThreadingId:W}),O!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(O)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield r("issueSendInstamadilloMediaMessage")(D,[N],W):yield r("issueLSAudioMediaSendJob")(D,g,y,R,P,W,N,x,m,p,d,a),_(t,{actor:y,attachmentFbids:[N.attachment_fbid],attachmentType:o("MessagingLoggingUtils").convertI64ToAttachmentType(N.attachment_type),hasReply:v!=null,isInstamadilloTTLC:F,key:g,offlineThreadingId:W,pluginType:O,source:I,type:h})});return function(e,n){return t.apply(this,arguments)}})(),[g,v,i,C,y,h,f,l,_,b,m,p,d,a])}l.default=m}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.entryPoint,n=e.ephemeralDurationInSec,a=e.onOptimisticMessageCreation,i=e.onUploadFailure,l=e.onUploadStart,s=e.onUploadSuccess,u=e.skipUrlPreviewGen,c=e.thread,d=o("Int64Hooks").useCallbackInt64(function(e,t){var r=t.actor,a=t.attachmentFbids,i=t.attachmentType,l=t.hasReply,s=t.isInstamadilloTTLC,u=t.key,c=t.offlineThreadingId,d=t.pluginType,m=t.source,p=t.type;r!=null&&o("MWPSendMessageLogger").log(e,u,p,r,c,a,m,i,l,d,s,n)},[n]);return r("useMWV2SendOpenVoiceClipImplShared")({entryPoint:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:a,onUploadFailure:i,onUploadStart:l,onUploadSuccess:s,sendMessageLogger:d,skipUrlPreviewGen:u,threadKey:c.threadKey,threadType:c.threadType})}l.default=e}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useEnabledForWorkchatOnly","useIGDReplyOnLS","useIsMessengerPWA","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e){var t=e.disableMarkRead,a=e.entryPoint,l=e.ephemeralDurationInSec,d=e.isIGDW,m=e.onOptimisticMessageCreation,p=e.onUploadFailure,_=e.onUploadStart,f=e.onUploadSuccess,g=e.pluginType,h=e.skipUrlPreviewGen,y=e.thread,C=r("useAsyncReStore")(),b=r("useIsMessengerPWA")(),v=r("useIGDReplyOnLS")(),S=r("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),R=r("useMWV2SendOpenVoiceClip")({entryPoint:a,ephemeralDurationInSec:l,onOptimisticMessageCreation:m,onUploadFailure:p,onUploadStart:_,onUploadSuccess:f,skipUrlPreviewGen:h,thread:y}),L=r("useMWV2SendOpenStagedMedia")(l,m,y,d),E=r("useMWV2SendOpenMessageImpl")({disableMarkRead:t!=null?t:!1,ephemeralDurationInSec:l,onOptimisticMessageCreation:m,skipUrlPreviewGen:h,thread:y}),k=o("LSMessagingThreadTypeUtil").isMessageRequest(y),I=r("useEnabledForWorkchatOnly")(),T=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),D=T.onMessageSendAttempt;return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,l,c,d,m,p,_,f,h,T,x,$,P,N,M,w,A,F){h===void 0&&(h=!1),T===void 0&&(T=!1);var O=!1;D==null||D(!0);function B(e){x.addMarkerPoint(e,"AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint($,e)}var W=S(y.threadKey),q=r("LSGenerateTraceId")(),U={contents:1},V=y.eventStartTimestampMs!=null,H=y.threadType,G=yield C,z=r("MWV2SetupS2SLoggingShared")({db:G,isCommunityEvent:V,isFirstMessage:T,isMessageRequest:k,isWorkChat:I,s2sInstanceKey:$,sendFirstMessageSeparately:h,source:(s||(s=o("LSIntEnum"))).unwrapIntEnum(W),threadType:H,traceSendMessageAPI:x}),j=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(G.tables.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,y.threadKey)})),K=o("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({externalAttachmentUrl:d,hotEmojiSize:l,mediaStagings:j,messageText:e,sticker:a,threadType:y.threadType,voiceClip:p},v!=null?{reply:v}:{})),Q=yield o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:K,isPwa:b,source:s.unwrapIntEnum(W),thread:y}),X=yield o("MultipleTabsLogger").hasMultipleTabs();return G.runInTransaction((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){if(o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(x,K,y),o("sendToSentQPLLogger").addSendToSentAnnotations($,Q),p!=null){(h===!1||T===!0)&&(yield R(G,{dataTraceId:q,pluginType:g,s2sInstanceKey:$,setupS2SLogging:z,source:W,traceSendMessageAPI:x,transaction:n,voiceClip:p}));return}var r=K.hasGif,i=r===void 0?!1:r,s=K.hasHotEmoji,C=s===void 0?!1:s,b=K.hasSticker,v=b===void 0?!1:b,S=K.hasText,k=S===void 0?!1:S;v||C?U.contents=4:i&&(U.contents=6);var I=t!=null?o("LSShape").ofRecord({mention_ids:t.map(function(e){return e.id}).join(","),mention_lengths:t.map(function(e){return String(e.length)}).join(","),mention_offsets:t.map(function(e){return String(e.offset)}).join(","),mention_types:t.length!==0?t.map(function(e){return e.type}).join(","):void 0}):void 0;if(B("create_optimistic_message_start"),k||v||C||i){if(O=!0,(h===!1||T===!0)&&(B("send_message_impl"),yield E(G,{accessibilityLabel:F,afterSend:f,attributionAppId:c,dataclassParams:A,dataTraceId:q,externalAttachmentUrl:d,hotEmojiSize:l,logSendPoint:B,mentionData:I,messageText:e,messageTypeParams:K,multitabEnv:X,optimisticAttachmentPreview:m,platformToken:_,pluginType:g,profileRanges:t,richTextFormatType:N,s2sInstanceKey:$,setupS2SLogging:z,source:W,sticker:a,traceSendMessageAPI:x,transaction:n}),h===!0)){B("send_first_message_separately_return");return}}else f!=null&&(yield f(n));!v&&!i&&!C&&(yield L(G,{isFirstMessage:T,isFirstMessageText:O,mediaStagings:yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,y.threadKey)})),pluginType:g,s2sInstanceKey:$,sendFirstMessageSeparately:h,setupS2SLogging:z,source:W,traceSendMessageAPI:x,transaction:n}))});return function(e){return r.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":250")});return function(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b){return e.apply(this,arguments)}})(),[D,S,y,C,k,I,v,b,R,g,E,L])}l.default=d}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDReplyContext.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useCometRouteTracePolicy","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useContext,m=c.useMemo;function p(e){var t=e.afterSendMessage,a=e.checkWAStorageForLogging,i=e.disableMarkRead,l=e.entryPoint,c=e.ephemeralDurationInSec,p=e.isIGDW,_=e.onOptimisticMessageCreation,f=e.onUploadFailure,g=e.onUploadStart,h=e.onUploadSuccess,y=e.pluginType,C=e.skipUrlPreviewGen,b=e.thread,v=o("MWPActor.react").useActor(),S=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(b.threadKey,b.threadType),R=d(o("MWPReplyContext.react").MWPReplyContext),L=R.clearReply,E=d(o("IGDReplyContext.react").IGDReplySetterContext),k=E.clearReply,I=b.threadSubtype,T=m(function(){return{is_community_event:(b.eventStartTimestampMs!=null).toString(),is_cutover:"false",is_secure:"false",thread_id:(s||(s=o("I64"))).to_string(b.threadKey),thread_subtype:I!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(I)?(s||(s=o("I64"))).to_string(I):"",thread_type:s.to_string(b.threadType)}},[b,I]),D=r("useMWLSAcceptMessageRequest")(b.threadKey),x=r("useCometInteractionTracing")(r("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,T),$=r("useMWV2SendOpenMessage")({disableMarkRead:i,entryPoint:l,ephemeralDurationInSec:c,isIGDW:p,onOptimisticMessageCreation:_,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,pluginType:y,skipUrlPreviewGen:C,thread:b}),P=r("MessengerWebUXLogger").useInteractionLogger(),N=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),M=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=r("useIGDChatTabsMessagingSource.react")(b.threadKey),A=r("useCometRouteTracePolicy")();return o("Int64Hooks").useCallbackInt64(function(e,i,l,c,d,m,_,f,g,h,y,C,R,E,F,O,B,W){y===void 0&&(y=!1),C===void 0&&(C=!1);var q=o("LSMessagingThreadTypeUtil").isMessageRequest(b);if(p===!0){var U={displayContext:M!=null?M:"UNKNOWN",isMessageRequest:String(q),thread_type:(s||(s=o("I64"))).to_string(b.threadType),threadSubtype:I!=null?(s||(s=o("I64"))).to_string(I):"UNKNOWN",tracePolicy:A},V=M==="ChatTab"&&w!=null?babelHelpers.extends({},U,{messaging_source:String(w)}):babelHelpers.extends({},U);P==null||P({eventName:"send_message",extraData:V,flowInstanceId:N})}x(function(p){var R=o("sendToSentQPLLogger").markSendToSentStart(a);o("sendToSentQPLLogger").addSendToSentAnnotations(R,{string:T}),r("promiseDone")($(e,i,l,c,d,m,_,f,g,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;if(h==null||h(),!!o("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)){var n=(t=yield o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.participants,[]).getKeyRange(b.threadKey),o("ReQL").fromTableAscending(e.contacts)).filter(function(e){var t=e[0],n=e[1];return!(s||(s=o("I64"))).equal(n.id,v)})))==null?void 0:t[1];n!=null&&!(s||(s=o("I64"))).to_float(n.contactViewerRelationship)!==r("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield e.contacts.put(babelHelpers.extends({},n,{contactViewerRelationship:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))}});return function(t){return e.apply(this,arguments)}})(),y,C,p,R,void 0,E,F,O,B,W),function(){var e=o("LSContactListConversionAttributionStore").getAttribution(S);e!=null&&(e.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(e):e.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(e),o("LSContactListConversionAttributionStore").resetAttribution(S)),t(),L(b.threadKey,!1),k(),q&&(D(),o("MessageRequestsLog").logActionConfirmed(b,1))})})},[p,b,x,M,I,A,w,P,N,a,T,$,v,S,t,L,k,D])}l.default=p}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=["typing","_",t.i64.to_string(e[0])].join(""),t.sequence([function(e){return t.forEach(t.filter(t.db.table(5).fetch(),function(e){return r[0]===e.queueName}),function(e){return e.delete()})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[7]=n.syncGroup,t.i64.neq(r[7],void 0)?r[6]=r[7]:r[6]=t.i64.cast([0,1]),r[1]=r[6])})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[3]=void 0:(t=o.item,r[3]=t.threadType)})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("is_group_thread",e[1]),r[5].set("is_typing",e[2]),r[5].set("attribution",t.i64.cast([0,0])),r[5].set("sync_group",r[1]),r[5].set("thread_type",r[3]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),r[0],t.i64.cast([0,3]),r[6])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure",e.__tables__=["threads","pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSendTypingIndicator"),a.threadKey,a.isGroupThread,a.isTyping);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSTypingIndicatorSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i){if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(1))&&!(u||(u=o("I64"))).equal(t,i)){var l=yield(s||(s=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["typingIndicatorDisabled"]).getKeyRange(t)),o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(t),o("ReQL").fromTableAscending(e.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(e){var t=e[0],n=e[1];return!(u||(u=o("I64"))).equal(t.contactId,i)}))]),d=l[0],m=l[1],p=d==null?void 0:d.typingIndicatorDisabled,_=p!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSTypingIndicatorSettingState").DISABLED),p):!1;return m!=null&&!_}else return!r("mwCMIsAnyCMThread")(a)}),m.apply(this,arguments)}function p(t){var n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64(function(e){(u||(u=o("I64"))).ge(t.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(d(n,t.threadKey,t.threadType,a).then(function(a){if(a)return l==null||l({eventName:"send_typing_indicators",threadKey:t.threadKey,threadType:t.threadType}),n.runInTransaction(function(n){return r("LSSendTypingIndicatorStoredProcedure")(r("LSFactory")(n),{isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(t.threadType),isTyping:e,threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":134")}))},[t.authorityLevel,t.threadKey,t.threadType,n,a,l])}l.default=p}),98);
__d("IGDComposer.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDChatTabsStateContext.react","IGDComposerEditContainer.react","IGDComposerEditContainerOffMsys.react","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEditMessageContext.react","IGDEqualityUtils","IGDInstamadilloUtils","IGDOffMsysComposerReplyView.react","IGDReplyContext.react","IGDSupportedFileTypes","IGDThreadlineContext","LSIntEnum","LSPendingTasksPluginType","MAWEditMessageContext.react","MWMediaManager","MWPReplyContext.react","PolarisUA","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast","useIsChatTabsDisplay","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=m.useMemo;function g(e){var t=o("react-compiler-runtime").c(64),n=e.onSendMessage,a=e.thread,i=_(o("MWPReplyContext.react").MWPReplyContext),l=i.clearReply,c=i.reply,m=o("IGDReplyContext.react").useIGDReplyContext(),p=o("IGDReplyContext.react").useIGDReplySetterContext(),f=p.clearReply,g=o("IGDEditMessageContext.react").useIGDEditContext(),y=o("IGDEditMessageContext.react").useIGDEditSetterContext(),C=y.clearEditMessageData,b=_(o("MAWEditMessageContext.react").Context),v=b.editMessageData,S=b.setEditMessageData,R=_(o("IGDThreadlineContext").ThreadlineIsComposerFocusedContext),L=R.isThreadlineComposerFocused,E=r("useIGDMediaMangerUploadFailedToast")(),k;t[0]!==E||t[1]!==a?(k={showUploadFailureToast:E,thread:a},t[0]=E,t[1]=a,t[2]=k):k=t[2];var I=o("MWMediaManager").useMediaManager(k),T=I.handleFileSelect,D=r("useOnTypingStateChanged")(a),x=a.threadSubtype,$;t[3]!==x?($=o("IGDAiAgentsUtils").isAiThread(x),t[3]=x,t[4]=$):$=t[4];var P=$;r("useMWV2FileDropzoneRegisterHandler")(T);var N;t[5]!==I.mediaStaging||t[6]!==n||t[7]!==D||t[8]!==a.threadKey?(N={composerEntrypointForLogging:"IGDOpenComposer",isPreviewThread:!1,mediaStaging:I.mediaStaging,onSendMessage:n,onTypingStateChanged:D,threadKey:a.threadKey},t[5]=I.mediaStaging,t[6]=n,t[7]=D,t[8]=a.threadKey,t[9]=N):N=t[9];var M=r("useMWPComposerEditor")(N),w=M.editor,A=M.editorElementRef,F=M.hasStuffToSend,O=M.sendMessage,B;t[10]!==w||t[11]!==n?(B=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t;n.apply(void 0,o),w.focus(h)},t[10]=w,t[11]=n,t[12]=B):B=t[12];var W=B,q=a.threadKey,U=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),V=r("useIsChatTabsDisplay")(),H;t[13]!==C||t[14]!==l||t[15]!==f||t[16]!==U||t[17]!==v||t[18]!==g||t[19]!==V||t[20]!==c||t[21]!==m||t[22]!==S||t[23]!==q?(H=function(){if(!(c||m)&&!(v||g))if(V)U==null||U({threadKey:(u||(u=o("I64"))).to_string(q),type:"close_tab"});else return;v||g?(S(null),C()):(c||m)&&(l(q,!0),f())},t[13]=C,t[14]=l,t[15]=f,t[16]=U,t[17]=v,t[18]=g,t[19]=V,t[20]=c,t[21]=m,t[22]=S,t[23]=q,t[24]=H):H=t[24];var G=H,z;t[25]===Symbol.for("react.memo_cache_sentinel")?(z={key:r("CometKeys").ESCAPE},t[25]=z):z=t[25];var j;t[26]!==v||t[27]!==g||t[28]!==V||t[29]!==c||t[30]!==m?(j=!(c||m)&&V&&s._(/*BTDS*/"Close chat tab")||(c||m)&&s._(/*BTDS*/"Cancel reply")||(v||g)&&s._(/*BTDS*/"Cancel edit")||"",t[26]=v,t[27]=g,t[28]=V,t[29]=c,t[30]=m,t[31]=j):j=t[31];var K;t[32]!==G||t[33]!==j?(K=[{command:z,description:j,handler:G,triggerFromInputs:!0}],t[32]=G,t[33]=j,t[34]=K):K=t[34];var Q=K,X;t[35]!==L||t[36]!==c||t[37]!==a?(X=c!=null&&!L?d.jsx(r("IGDComposerReplyView.react"),{messageId:c.messageId,messageTimestamp:c.timestampMs,thread:a}):null,t[35]=L,t[36]=c,t[37]=a,t[38]=X):X=t[38];var Y;t[39]!==L||t[40]!==m?(Y=m!=null&&!L?d.jsx(r("IGDOffMsysComposerReplyView.react"),{reply:m}):null,t[39]=L,t[40]=m,t[41]=Y):Y=t[41];var J;t[42]!==v?(J=v!=null&&d.jsx(r("IGDComposerEditContainer.react"),{editMessageData:v}),t[42]=v,t[43]=J):J=t[43];var Z;t[44]!==g?(Z=g!=null?d.jsx(r("IGDComposerEditContainerOffMsys.react"),{editMessageData:g}):null,t[44]=g,t[45]=Z):Z=t[45];var ee;t[46]!==v||t[47]!==g||t[48]!==w||t[49]!==A||t[50]!==F||t[51]!==P||t[52]!==T||t[53]!==W||t[54]!==O||t[55]!==a?(ee=v==null&&g==null?d.jsx(r("IGDComposerView.react"),{attachmentsSupported:!0,editor:w,editorElementRef:A,emojisSupported:!o("PolarisUA").isMobile()&&!P,hasStuffToSend:F,onAttachmentsAdded:T,onSendMessage:W,policyProduct:"messaging_lightswitch",sendMessage:O,supportedFileTypes:o("IGDSupportedFileTypes").getIGDSupportedFileTypes(o("PolarisUA").isMobile()),surface:"mwp_igd_composer",thread:a}):null,t[46]=v,t[47]=g,t[48]=w,t[49]=A,t[50]=F,t[51]=P,t[52]=T,t[53]=W,t[54]=O,t[55]=a,t[56]=ee):ee=t[56];var te;return t[57]!==Q||t[58]!==J||t[59]!==Z||t[60]!==ee||t[61]!==X||t[62]!==Y?(te=d.jsx("div",{children:d.jsxs(r("CometComponentWithKeyCommands.react"),{commandConfigs:Q,children:[X,Y,J,Z,ee]})}),t[57]=Q,t[58]=J,t[59]=Z,t[60]=ee,t[61]=X,t[62]=Y,t[63]=te):te=t[63],te}function h(){}function y(e){var t=o("react-compiler-runtime").c(19),n=e.afterSendMessage,a=e.thread,i=_(o("IGDDMModeContextProvider").IGDDMModeContext),l=i.dmMode,s=i.lastSetTtlSec,m;t[0]!==a?(m=o("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a)?(c||(c=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,t[0]=a,t[1]=m):m=t[1];var p=m,f;t[2]!==l||t[3]!==s?(f=l===r("DisappearingMessagesMode").ON&&s!=null?(u||(u=o("I64"))).of_int32(s):void 0,t[2]=l,t[3]=s,t[4]=f):f=t[4];var h=C(a,n,p,f),y;t[5]!==a.authorityLevel||t[6]!==a.capabilities||t[7]!==a.capabilities2||t[8]!==a.capabilities3||t[9]!==a.capabilities4||t[10]!==a.capabilities5||t[11]!==a.consistentThreadFbid||t[12]!==a.threadKey||t[13]!==a.threadSubtype||t[14]!==a.threadType?(y={authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,consistentThreadFbid:a.consistentThreadFbid,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},t[5]=a.authorityLevel,t[6]=a.capabilities,t[7]=a.capabilities2,t[8]=a.capabilities3,t[9]=a.capabilities4,t[10]=a.capabilities5,t[11]=a.consistentThreadFbid,t[12]=a.threadKey,t[13]=a.threadSubtype,t[14]=a.threadType,t[15]=y):y=t[15];var b=o("useStableValue").useStableValue(y,o("IGDEqualityUtils").shallowEqualI64),v;return t[16]!==h||t[17]!==b?(v=d.jsx(g,{onSendMessage:h,thread:b}),t[16]=h,t[17]=b,t[18]=v):v=t[18],v}function C(e,t,n,a){var i=o("react-compiler-runtime").c(5),l;i[0]!==t||i[1]!==a||i[2]!==n||i[3]!==e?(l={afterSendMessage:t,entryPoint:"IGDComposer",ephemeralDurationInSec:a,isIGDW:!0,pluginType:n,skipUrlPreviewGen:!1,thread:e},i[0]=t,i[1]=a,i[2]=n,i[3]=e,i[4]=l):l=i[4];var s=r("useMWV2OnSendOpenMessage")(l);return r("useStableCallback")(s)}l.default=y}),226);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","IGDInviteModelUtils","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n,a=o("react-compiler-runtime").c(13),l=t.loggingEventName,c=t.threadKey,m=(e||(e=r("useReStore")))(),p=o("MWPActor.react").useActor(),_=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(m.tables.participants).getKeyRange(c).filter(function(e){var t=e.contactId;return!(u||(u=o("I64"))).equal(t,p)}),o("ReQL").fromTableAscending(m.tables.contacts))},[m.tables.contacts,m.tables.participants,c,p],i.id+":36"))!=null?n:[null,null],f=_[1],g;a[0]!==l?(g={eventName:l},a[0]=l,a[1]=g):g=a[1];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g);if(f==null)return r("FBLogger")("igd_web").mustfix("Contact data is null in IGDReachableInviteBanner"),null;var y;if(a[2]===Symbol.for("react.memo_cache_sentinel")){var C;y=(C=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null||(C=C.setProtocol("https"))==null?void 0:C.toString(),a[2]=y}else y=a[2];var b=y,v;a[3]!==f.name||a[4]!==f.secondaryName?(v=s._(/*BTDS*/"Invite {name} ({secondaryName}) to chat",[s._param("name",f.name),s._param("secondaryName",f.secondaryName)]),a[3]=f.name,a[4]=f.secondaryName,a[5]=v):v=a[5];var S=v,R;a[6]!==b?(R=s._(/*BTDS*/"You can only send one message in this invite. Remember to follow our {link} and be respectful when messaging others for the first time.",[s._param("link",d.jsx(r("Link.react"),{href:b,children:"Community Standards"}))]),a[6]=b,a[7]=R):R=a[7];var L=R,E;a[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"You can send one message in this request. Once they accept, you can send more messages."),a[8]=E):E=a[8];var k=E,I=o("IGDInviteModelUtils").shouldUseInviteModelV2(),T=I?k:L,D=I?void 0:S,x;return a[9]!==h||a[10]!==T||a[11]!==D?(x=d.jsx(r("MWXComposerBanner.react"),{bodyText:T,headerText:D,ref:h}),a[9]=h,a[10]=T,a[11]=D,a[12]=x):x=a[12],x}l.default=m}),226);
__d("LSNullstateCTAType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});i.default=e}),66);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){return u.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno",children:u.jsx(r("MDSTextPairing.react"),{headline:s._(/*BTDS*/"Something isn't working."),headlineColor:"secondary",level:4,meta:u.jsx(r("MWXText.react"),{numberOfLines:2,type:"meta3",children:s._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=!1;function c(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],s(d,t)}function d(){u||(u=!0,r("URLMatcher").compilePermissiveHostPathMatcher())}l.default=c}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","IGDComposer.react","IGDInviteModelUtils","IGDReachableInviteBanner.react","JSResourceForInteraction","LSContactBitOffset","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","MWV2ErrorComposer.react","ReQL","ReQLSuspense","WebUXLoggingSurfaceContextProvider","lazyLoadComponent","react","react-compiler-runtime","useContactReachabilityStatus","usePrecompileURLMatcher","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function _(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.showReachableInviteBanner,l=e.thread,s;t[0]!==a||t[1]!==l?(s=a&&d.jsx(r("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:l.threadKey}),t[0]=a,t[1]=l,t[2]=s):s=t[2];var u;t[3]!==n||t[4]!==l?(u=d.jsx(r("IGDComposer.react"),{afterSendMessage:n,thread:l}),t[3]=n,t[4]=l,t[5]=u):u=t[5];var c;return t[6]!==s||t[7]!==u?(c=d.jsx(r("CometErrorBoundary.react"),{fallback:f,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[s,u]})})}),t[6]=s,t[7]=u,t[8]=c):c=t[8],c}function f(){return d.jsx(r("MWV2ErrorComposer.react"),{})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(3),n=e.afterSendMessage,r=e.thread,a;return t[0]!==n||t[1]!==r?(a=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:!1,thread:r}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.otherUser,i=e.thread,l=o("LSContactBitOffset").has(0,a),s=o("LSContactBitOffset").has(1,a),f=!l||!s,g=a.blockedSinceTimestampMs!=null?!1:f,h=a.contactReachabilityStatusType,y;t[0]!==h?(y=o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(h),t[0]=h,t[1]=y):y=t[1];var C=y,b=o("IGDInviteModelUtils").shouldShowBlockComposer(h),v=o("IGDInviteModelUtils").shouldShowTextOnlyComposer(h),S=h!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").REACHABLE),h)||C||v||b:!0;if(S)if(g){var R;return t[2]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(m,{}),t[2]=R):R=t[2],R}else if(b&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel())){var L;return t[3]===Symbol.for("react.memo_cache_sentinel")?(L=d.jsx(p,{loggingEventName:"igd_invite_model_invite_sent"}),t[3]=L):L=t[3],L}else{var E;return t[4]!==n||t[5]!==C||t[6]!==i?(E=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:C,thread:i}),t[4]=n,t[5]=C,t[6]=i,t[7]=E):E=t[7],E}else{var k;return t[8]===Symbol.for("react.memo_cache_sentinel")?(k=d.jsx(m,{}),t[8]=k):k=t[8],k}}function y(t){var n=o("react-compiler-runtime").c(16),a=t.afterSendMessage,l=t.hasActivity,s=t.thread,m=(e||(e=r("useReStore")))(),p;n[0]!==m.tables.thread_nullstate||n[1]!==s.threadKey?(p=function(){return o("ReQL").fromTableAscending(m.tables.thread_nullstate).getKeyRange(s.threadKey)},n[0]=m.tables.thread_nullstate,n[1]=s.threadKey,n[2]=p):p=n[2];var _;n[3]!==m||n[4]!==s.threadKey?(_=[m,s.threadKey],n[3]=m,n[4]=s.threadKey,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":270"),y;n[6]!==f?(y=f!=null?(u||(u=o("I64"))).equal(f.ctaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED)):!1,n[6]=f,n[7]=y):y=n[7];var C=y,b=l,v=o("useContactReachabilityStatus").useOtherUser(m,s.threadKey,s.threadType),S;n[8]!==a||n[9]!==C||n[10]!==b||n[11]!==v||n[12]!==s?(S=C&&!b?null:o("LSMessagingThreadTypeUtil").isOneToOne(s.threadType)?v!=null?d.jsx(h,{afterSendMessage:a,otherUser:v[1],thread:s}):r("FBLogger")("igd_web").mustfix("Missing contact row"):d.jsx(g,{afterSendMessage:a,thread:s}),n[8]=a,n[9]=C,n[10]=b,n[11]=v,n[12]=s,n[13]=S):S=n[13];var R;return n[14]!==S?(R=d.jsx(d.Fragment,{children:S}),n[14]=S,n[15]=R):R=n[15],R}function C(t){var n=o("react-compiler-runtime").c(12),a=t.afterSendMessage,l=t.thread,s=(e||(e=r("useReStore")))();r("usePrecompileURLMatcher")();var c;n[0]!==s.tables.threads||n[1]!==l.threadKey?(c=function(){return o("ReQL").fromTableAscending(s.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(v)},n[0]=s.tables.threads,n[1]=l.threadKey,n[2]=c):c=n[2];var m;n[3]!==s||n[4]!==l.threadKey?(m=[s,l.threadKey],n[3]=s,n[4]=l.threadKey,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(c,m,i.id+":343"),_;n[6]!==p?(_=p!=null?!(u||(u=o("I64"))).equal(p,(u||(u=o("I64"))).zero):!0,n[6]=p,n[7]=_):_=n[7];var f=_,g;return n[8]!==a||n[9]!==f||n[10]!==l?(g=d.jsx(r("CometErrorBoundary.react"),{fallback:b,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(y,{afterSendMessage:a,hasActivity:f,thread:l})})}),n[8]=a,n[9]=f,n[10]=l,n[11]=g):g=n[11],g}function b(){return d.jsx(r("MWV2ErrorComposer.react"),{})}b.displayName=b.name+" [from "+i.id+"]";function v(e){return e.lastActivityTimestampMs}l.default=C}),98);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(25),n=e.messageRequestAccept,a=e.messageRequestBlockLeave,i=e.messageRequestDelete,l=e.messageRequestFootnote,c=e.messageRequestHeader,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x5ur3kl x13fuv20 x178xt8z"},t[0]=d):d=t[0];var m;t[1]!==c?(m=s.jsx(r("CometColumnItem.react"),{align:"center",children:c}),t[1]=c,t[2]=m):m=t[2];var p;t[3]!==l?(p=s.jsx(r("CometColumnItem.react"),{align:"center",paddingTop:12,children:l}),t[3]=l,t[4]=p):p=t[4];var _;t[5]!==m||t[6]!==p?(_=s.jsxs(r("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:u.header,children:[m,p]}),t[5]=m,t[6]=p,t[7]=_):_=t[7];var f,g;t[8]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 xyamay9 xv54qhq x1l90r2v xf7dkkf"},g={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[8]=f,t[9]=g):(f=t[8],g=t[9]);var h;t[10]!==a?(h=s.jsx("li",babelHelpers.extends({},g,{children:a})),t[10]=a,t[11]=h):h=t[11];var y,C;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),C={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[12]=y,t[13]=C):(y=t[12],C=t[13]);var b;t[14]!==i?(b=s.jsx("li",babelHelpers.extends({},C,{children:i})),t[14]=i,t[15]=b):b=t[15];var v;t[16]!==n?(v=n!=null?s.jsxs(s.Fragment,{children:[s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),s.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8",children:n})]}):null,t[16]=n,t[17]=v):v=t[17];var S;t[18]!==b||t[19]!==v||t[20]!==h?(S=s.jsxs("ul",babelHelpers.extends({},f,{children:[h,y,b,v]})),t[18]=b,t[19]=v,t[20]=h,t[21]=S):S=t[21];var R;return t[22]!==S||t[23]!==_?(R=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:s.jsxs("div",babelHelpers.extends({},d,{children:[_,S]}))}),t[22]=S,t[23]=_,t[24]=R):R=t[24],R}l.default=c}),98);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){var n;t=s.jsx(r("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:s.jsx(n=r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmerButton}),messageRequestBlockLeave:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestDelete:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestFootnote:s.jsx(n,{index:1,xstyle:u.glimmerFootnote}),messageRequestHeader:s.jsx(n,{index:1,xstyle:u.glimmerHeader})}),e[0]=t}else t=e[0];return t}l.default=c}),98);
__d("IGDComposerMsys.react",["CometPlaceholder.react","IGDComposerCommon.react","IGDMessageRequestComposerBannerLoading.react","LSMessagingThreadTypeUtil","MessengerWebUXLogger","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDComposerMsys.react"));function c(e){var t=o("react-compiler-runtime").c(15),n=e.afterSendMessage,a=e.thread,l=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),c;t[0]!==a.threadKey||t[1]!==a.threadType?(c={eventName:"composer_rendered",threadKey:a.threadKey,threadType:a.threadType},t[0]=a.threadKey,t[1]=a.threadType,t[2]=c):c=t[2];var d=r("MessengerWebUXLogger").useImpressionLoggerRef(c);if(l){var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(r("IGDMessageRequestComposerBannerLoading.react"),{}),t[3]=m):m=t[3];var p;t[4]!==a?(p=s.jsx(r("CometPlaceholder.react"),{fallback:m,name:i.id,children:s.jsx(u,{thread:a})}),t[4]=a,t[5]=p):p=t[5];var _;return t[6]!==d||t[7]!==p?(_=s.jsx("div",{ref:d,children:p}),t[6]=d,t[7]=p,t[8]=_):_=t[8],_}var f;t[9]!==n||t[10]!==a?(f=s.jsx(r("IGDComposerCommon.react"),{afterSendMessage:n,thread:a}),t[9]=n,t[10]=a,t[11]=f):f=t[11];var g;return t[12]!==d||t[13]!==f?(g=s.jsx("div",{ref:d,children:f}),t[12]=d,t[13]=f,t[14]=g):g=t[14],g}l.default=c}),98);
__d("IGDConfirmDeleteOpenMessageRequestLogger",["DirectRequestsDeclineButtonConfirmFalcoEventDeferred","I64","LSIntEnum","MWPIsThreadUnread"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){o("DirectRequestsDeclineButtonConfirmFalcoEventDeferred").logDirectRequestsDeclineButtonConfirmFalcoEvent({all_used:!1,e_counter_channel:"",is_interop:!1,is_spam:(e||(e=o("I64"))).equal(t.parentThreadKey,(s||(s=o("LSIntEnum"))).ofNumber(-3)),is_unread:o("MWPIsThreadUnread").isThreadUnread(t),num_requests_visible:"1",num_selected:"1",thread_id:e.to_string(t.threadKey)})}l.logConfirmDeleteOpenMessageRequest=u}),98);
__d("IGDNullStateHeader.react",["IGDInboxHeaderOffMsysContainer.react","IGDNavigateBackToChatTabsButton.react","IGDSBox.react","react","react-compiler-runtime","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(){var e=o("react-compiler-runtime").c(1),t=r("useRoutePassthroughProps")(),n=t!=null&&t.entryPoint==="igdChatTabsThreadList";if(n){var a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("IGDInboxHeaderOffMsysContainer.react"),{children:s.jsx(r("IGDSBox.react"),{direction:"row",flex:"grow",justifyContent:"end",children:s.jsx(r("IGDNavigateBackToChatTabsButton.react"),{"data-testid":void 0,source:"thread_list"})})}),e[0]=a):a=e[0],a}}l.default=u}),98);
__d("IGDDefaultNullState.react",["fbt","CometTransientDialogProvider.react","IGDBaseNullState.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDEntryPoints","IGDEntrypointProvider.react","IGDNullStateHeader.react","IGDSButton.react","IGDSDialogPlaceholder.react","JSResourceForInteraction","react","react-compiler-runtime","useIGDSLazyDialog","useIsChatTabsDisplay","useOpenOrCreateThreadFromIGDCandidate","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(){var e=o("react-compiler-runtime").c(12),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDDefaultNullState.react"),e[0]=t):t=e[0];var n=t,a=r("useOpenOrCreateThreadFromIGDCandidate")(),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Your messages"),e[1]=i):i=e[1];var l=i,c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"Send a message to start a chat."),e[2]=c):c=e[2];var d=c,p=r("useIGDSLazyDialog")(n,m),_=p[0],f=r("useIsChatTabsDisplay")(),g=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),h;e[3]!==g||e[4]!==f||e[5]!==a||e[6]!==_?(h=function(){if(f){g==null||g({type:"reset_state"}),g==null||g({type:"open_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsOmnipickerView});return}var e=r("uuidv4")();_({flowInstanceId:e,onSubmit:a})},e[3]=g,e[4]=f,e[5]=a,e[6]=_,e[7]=h):h=e[7];var y=h,C=o("IGDEntryPoints").IGDEntryPoints.PRIMARY_FOLDER_NULL_STATE,b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(r("IGDNullStateHeader.react"),{}),e[8]=b):b=e[8];var v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Send message"),e[9]=v):v=e[9];var S;return e[10]!==y?(S=u.jsxs(u.Fragment,{children:[b,u.jsx(r("IGDBaseNullState.react"),{descriptionText:d,titleText:l,children:u.jsx(o("IGDEntrypointProvider.react").IGDEntrypointProvider,{entrypoint:C,children:u.jsx(r("IGDSButton.react"),{display:"block",label:v,onClick:y})})})]}),e[10]=y,e[11]=S):S=e[11],S}function m(e){return u.jsx(r("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:e,size:"large"})}m.displayName=m.name+" [from "+i.id+"]";function p(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("CometTransientDialogProvider.react"),{children:u.jsx(d,{})}),e[0]=t):t=e[0],t}l.default=p}),226);
__d("IGDDeleteOpenThread",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return t.runInTransaction(function(t){return r("LSOptimisticRemoveThreadStoredProcedure")(r("LSFactory")(t),{removeType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRemoveType").DELETE_THREAD),threadKey:n})},"readwrite",void 0,void 0,i.id+":29")}l.deleteOpenThread=s}),98);
__d("IGDDeleteThreadComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(9),n=e.onDelete,a=e.thread,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=r("JSResourceForInteraction")("IGDChatSettingsDeleteThreadDialog.react").__setRef("IGDDeleteThreadComposerBannerButton.react"),t[0]=i):i=t[0];var l=r("useIGDSLazyDialog")(i),c=l[0],d;t[1]!==n||t[2]!==e.onClick||t[3]!==c||t[4]!==a?(d=function(){var t,r=(t=e.onClick)!=null?t:p;return c({onDelete:n,thread:a},m),r()},t[1]=n,t[2]=e.onClick,t[3]=c,t[4]=a,t[5]=d):d=t[5];var _=d,f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Delete"),t[6]=f):f=t[6];var g;return t[7]!==_?(g=u.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:f,onClick:_,role:"button",variant:"destructive_link_deprecated"}),t[7]=_,t[8]=g):g=t[8],g}function m(){}function p(){}l.default=d}),226);
__d("IGDOpenDeleteOpenMessageRequestDialogLogger",["DirectRequestsThreadDeclineFalcoEventDeferred","MWPIsThreadUnread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){o("DirectRequestsThreadDeclineFalcoEventDeferred").logDirectRequestsThreadDeclineFalcoEvent({e_counter_channel:"",is_interop:!1,is_unread:o("MWPIsThreadUnread").isThreadUnread(e)})}l.logOpenDeleteOpenMessageRequestDialog=e}),98);
__d("useIGDDeleteOpenThread",["IGDBroadcastChannelQPL","IGDDeleteOpenThread","Int64Hooks","emptyFunction","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(5),a=(e||(e=r("useReStore")))(),i=o("IGDBroadcastChannelQPL").useLogDeleteChannelFail(t),l,s;return n[0]!==a||n[1]!==i||n[2]!==t?(l=function(){r("promiseDone")(o("IGDDeleteOpenThread").deleteOpenThread(a,t),r("emptyFunction"),i)},s=[a,i,t],n[0]=a,n[1]=i,n[2]=t,n[3]=l,n[4]=s):(l=n[3],s=n[4]),o("Int64Hooks").useCallbackInt64(l,s)}l.default=s}),98);
__d("IGDDeleteOpenThreadComposerBannerButton.react",["FBLogger","IGDConfirmDeleteOpenMessageRequestLogger","IGDDeleteThreadComposerBannerButton.react","IGDOpenDeleteOpenMessageRequestDialogLogger","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MWLSThread","MWPBumpEntityKey","MessengerWebUXLogger","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useAsyncReStore","useIGDDeleteOpenThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(21),a=e.thread,i;t[0]!==a?(i=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),t[0]=a,t[1]=i):i=t[1];var l=i,u=r("useIGDDeleteOpenThread")(a.threadKey),c=r("useAsyncReStore")(),d=r("MessengerWebUXLogger").useInteractionLogger(),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p,_;t[2]!==c||t[3]!==m||t[4]!==l||t[5]!==d||t[6]!==a.threadKey?(p=function(){r("promiseDone")(c.then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","delete_thread");var t=yield o("MWLSThread").getThreadAsync(e,a.threadKey);t?o("IGDOpenDeleteOpenMessageRequestDialogLogger").logOpenDeleteOpenMessageRequestDialog(t):r("FBLogger")("igd_web").warn("thread is empty to log"),d==null||d({eventName:"thread_delete_attempt",extraData:{is_request:String(l)},flowInstanceId:m})});return function(t){return e.apply(this,arguments)}})()))},_=[c,a.threadKey,d,l,m],t[2]=c,t[3]=m,t[4]=l,t[5]=d,t[6]=a.threadKey,t[7]=p,t[8]=_):(p=t[7],_=t[8]);var f=o("Int64Hooks").useCallbackInt64(p,_),g,h;t[9]!==c||t[10]!==u||t[11]!==m||t[12]!==l||t[13]!==d||t[14]!==a.threadKey?(g=function(){r("promiseDone")(c.then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){u();var t=yield o("MWLSThread").getThreadAsync(e,a.threadKey);t?o("IGDConfirmDeleteOpenMessageRequestLogger").logConfirmDeleteOpenMessageRequest(t):r("FBLogger")("igd_web").warn("thread is empty to log")});return function(t){return e.apply(this,arguments)}})())),d==null||d({eventName:"thread_delete_confirmed",extraData:{is_request:String(l)},flowInstanceId:m})},h=[c,u,m,l,d,a.threadKey],t[9]=c,t[10]=u,t[11]=m,t[12]=l,t[13]=d,t[14]=a.threadKey,t[15]=g,t[16]=h):(g=t[15],h=t[16]);var y=o("Int64Hooks").useCallbackInt64(g,h),C;return t[17]!==f||t[18]!==y||t[19]!==a?(C=s.jsx(r("IGDDeleteThreadComposerBannerButton.react"),{onClick:f,onDelete:y,thread:a}),t[17]=f,t[18]=y,t[19]=a,t[20]=C):C=t[20],C}l.default=u}),98);
__d("IGDEmojiButtonEntryPointPopoverTrigger.react",["fbt","CometEmojiCategories","IGDEmojiPicker.entrypoint","IGDEmojiPickerPopoverFallback.react","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSFace2OutlineIcon.react","IGDSIconButton.react","compactMap","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={button:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonContainer:{alignSelf:"xpvyfi4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(14),n=e.align,a=e.closeAfterSelect,i=e.iconButtonTriggerOverride,l=e.logClickEvent,d=e.logImpressionEventRef,p=e.onSelect,_=a===void 0?!1:a,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Choose an emoji").toString(),t[0]=f):f=t[0];var g=f,h=r("useIsChatTabsDisplay")(),y=n!=null?n:h?"end":"middle",C,b;t[1]===Symbol.for("react.memo_cache_sentinel")?(C={categoryIDs:r("compactMap")(o("CometEmojiCategories").ORDERED_CATEGORIES,m)},b=u.jsx(r("IGDEmojiPickerPopoverFallback.react"),{}),t[1]=C,t[2]=b):(C=t[1],b=t[2]);var v;t[3]!==_||t[4]!==p?(v={closeAfterSelect:_,onSelect:p},t[3]=_,t[4]=p,t[5]=v):v=t[5];var S;t[6]!==i||t[7]!==l||t[8]!==d?(S=function(t,n,o,a,s,m){return u.jsx(r("IGDSBox.react"),{containerRef:d,xstyle:c.buttonContainer,children:u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:t,onClick:function(){n(),l()},onHoverEnd:s,onHoverStart:a,onPressStart:m,xstyle:c.button,children:i||u.jsx(r("IGDSFace2OutlineIcon.react"),{alt:g,color:"ig-primary-text"})})})},t[6]=i,t[7]=l,t[8]=d,t[9]=S):S=t[9];var R;return t[10]!==y||t[11]!==v||t[12]!==S?(R=u.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:y,entryPointParams:C,fallback:b,otherProps:v,popoverEntryPoint:r("IGDEmojiPicker.entrypoint"),position:"above",preloadTrigger:"button",children:S}),t[10]=y,t[11]=v,t[12]=S,t[13]=R):R=t[13],R}function m(e){return e.id!==o("CometEmojiCategories").RECENTS_CATEGORY_ID?e.id:null}l.default=d}),226);
__d("IGDHiddenMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSEyeOffOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Hidden requests"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"These are message requests that may be offensive or unwanted."),e[1]=a):a=e[1];var i=a,l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDBaseNullState.react"),{descriptionText:i,icon:u.jsx("div",{className:"xskfcea x15l7z82 x1rx6pd xc5vvuh x1u0suui xlekzc6 x1tovxde x1tk7qwc x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x9f619 xjp8j0k x1qim8zg x13oubkp xz7312c",children:u.jsx(r("IGDSEyeOffOutlineIcon.react"),{alt:"",color:"ig-primary-text",size:48})}),titleText:n}),e[2]=l):l=e[2],l}l.default=c}),226);
__d("IGDInboxErrorSection.react",["fbt","IGDSBox.react","IGDSErrorOutlineIcon.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Something went wrong"),d=s._(/*BTDS*/"There is an issue on our end. Please try again later."),m={section:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function p(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"column",flex:"grow",justifyContent:"center",rowGap:5,xstyle:m.section,children:[u.jsx(r("IGDSErrorOutlineIcon.react"),{alt:d,size:64}),u.jsx(r("IGDSText.react"),{size:"headline1",children:c}),u.jsx(r("IGDSText.react"),{size:"body",children:d})]}),e[0]=t):t=e[0],t}l.default=p}),226);
__d("IGDLeaveGroupComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","MWPBumpEntityKey","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(7),n=e.thread,a=n,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=r("JSResourceForInteraction")("IGDChatSettingsLeaveThreadDialog.react").__setRef("IGDLeaveGroupComposerBannerButton.react"),t[0]=i):i=t[0];var l=r("useIGDSLazyDialog")(i),c=l[0],d;t[1]!==c||t[2]!==a?(d=function(){return c({thread:a},m),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","leave_chat")},t[1]=c,t[2]=a,t[3]=d):d=t[3];var p=d,_;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Leave"),t[4]=_):_=t[4];var f;return t[5]!==p?(f=u.jsx(r("IGDSButton.react"),{display:"block",fullWidth:!0,label:_,onClick:p,role:"button",variant:"destructive_link_deprecated"}),t[5]=p,t[6]=f):f=t[6],f}function m(){}l.default=d}),226);
__d("IGDProAcceptMessageRequestComposerBannerButton.react",["fbt","I64","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=r("JSResourceForInteraction")("IGDProAcceptThreadDialog.react").__setRef("IGDProAcceptMessageRequestComposerBannerButton.react");function m(e){var t=o("react-compiler-runtime").c(10),n=e.thread,a=e.username,i=r("useIGDSLazyDialog")(d),l=i[0],m=r("MessengerWebUXLogger").useInteractionLogger(),p=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),_,f;t[0]!==p||t[1]!==m||t[2]!==l||t[3]!==n||t[4]!==a?(_=function(){l({threadKey:n.threadKey,username:a});var e=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(n);m==null||m({eventName:"accept_chat_request",extraData:{is_request:String(e),target_id:(u||(u=o("I64"))).to_string(n.threadKey)},flowInstanceId:p})},f=[p,m,l,n,a],t[0]=p,t[1]=m,t[2]=l,t[3]=n,t[4]=a,t[5]=_,t[6]=f):(_=t[5],f=t[6]);var g=o("Int64Hooks").useCallbackInt64(_,f),h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"Accept"),t[7]=h):h=t[7];var y;return t[8]!==g?(y=c.jsx(r("IGDSButton.react"),{display:"block",label:h,onClick:g,role:"button",variant:"secondary_link"}),t[8]=g,t[9]=y):y=t[9],y}l.default=m}),226);
__d("IGDMessageRequestComposerBanner.react",["fbt","CometPlaceholder.react","I64","IGDAcceptOpenMessageRequestComposerBannerButton.react","IGDBlockUserComposerBannerButton.react","IGDComposerCommonPlaceholder.react","IGDDeleteOpenThreadComposerBannerButton.react","IGDLeaveGroupComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDProAcceptMessageRequestComposerBannerButton.react","IGDSGlimmer.react","IGDSText.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useJSON","usePolarisViewer","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDBlockedUserComposer.react").__setRef("IGDMessageRequestComposerBanner.react")),_=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDHiddenChatComposer.react").__setRef("IGDMessageRequestComposerBanner.react")),f=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDComposerRestricted.react").__setRef("IGDMessageRequestComposerBanner.react")),g={displayNameGlimmer:{display:"x1rg5ohu",height:"x1ta3ar0",width:"x1pju0fl",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(9),n=e.displayName,a=e.username,i=a!=null?"("+a+")":"",l;if(t[0]!==n||t[1]!==i){var u;t[3]!==n?(u=n!=null?m.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",children:n}):m.jsx(r("IGDSGlimmer.react"),{index:1,xstyle:g.displayNameGlimmer}),t[3]=n,t[4]=u):u=t[4];var c;t[5]!==i?(c=m.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",children:i}),t[5]=i,t[6]=c):c=t[6],l=s._(/*BTDS*/"Accept message request from {IG Name} {IG Username}?",[s._param("IG Name",u),s._param("IG Username",c)]),t[0]=n,t[1]=i,t[2]=l}else l=t[2];var d;return t[7]!==l?(d=m.jsx(r("IGDSText.react"),{size:"body",testid:void 0,textAlign:"center",weight:"normal",children:l}),t[7]=l,t[8]=d):d=t[8],d}function y(e){var t=o("react-compiler-runtime").c(4),n=e.isGroup,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"If you accept, they will also be able to call you and see info such as your activity status and when you've read messages."),t[0]=a):a=t[0];var i=a,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"If you accept, you and other members will be able to call you and see info such as your activity status and when you've read messages."),t[1]=l):l=t[1];var u=l,c=n?u:i,d;return t[2]!==c?(d=m.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:c}),t[2]=c,t[3]=d):d=t[3],d}function C(t){var n=o("react-compiler-runtime").c(42),a=t.thread,l=a.inviterId,s=a.metadata,d=a.snippetSenderContactId,g=a.threadKey,C=a.threadType,v=r("useJSON")(s!=null?s:"{}"),S=(e||(e=r("useReStore")))(),R=o("MWPActor.react").useActor(),L;n[0]!==C?(L=o("LSMessagingThreadTypeUtil").isGroup(C),n[0]=C,n[1]=L):L=n[1];var E=L,k;n[2]!==C?(k=o("LSMessagingThreadTypeUtil").isOneToOne(C),n[2]=C,n[3]=k):k=n[3];var I=k,T,D;n[4]!==R||n[5]!==S||n[6]!==l||n[7]!==I||n[8]!==d||n[9]!==g?(T=function(){if(I)return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(S.tables.participants).getKeyRange(g),o("ReQL").fromTableAscending(S.tables.contacts)).filter(function(e){var t=e[1];return!(u||(u=o("I64"))).equal(t.id,R)}).map(b);var e=l!=null?l:d;return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(S.tables.contacts).bounds({gte:o("ReQL").key(e),lte:o("ReQL").key(e)})},D=[S,I,g,l,d,R],n[4]=R,n[5]=S,n[6]=l,n[7]=I,n[8]=d,n[9]=g,n[10]=T,n[11]=D):(T=n[10],D=n[11]);var x=o("ReQLSuspense").useFirst(T,D,i.id+":150"),$="Instagram User",P,N=!1,M=!1;if(x!=null){var w=x.name;$=w,P=x.secondaryName,N=!(u||(u=o("I64"))).equal(x.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)),M=!E&&o("LSContactBitOffset").has(66,x)}var A=r("usePolarisViewer")(),F=A==null?!1:A.isProfessionalAccount===!0;if(N&&I){var O;return n[12]!==x||n[13]!==a?(O=x!=null?m.jsx(r("CometPlaceholder.react"),{fallback:m.jsx(r("IGDComposerCommonPlaceholder.react"),{height:189}),name:i.id,children:m.jsx(p,{contact:x,thread:a})}):null,n[12]=x,n[13]=a,n[14]=O):O=n[14],O}if(M&&I){var B;return n[15]!==x||n[16]!==a?(B=x!=null?m.jsx(r("CometPlaceholder.react"),{fallback:m.jsx(r("IGDComposerCommonPlaceholder.react"),{height:189}),name:i.id,children:m.jsx(f,{contact:x,thread:a})}):null,n[15]=x,n[16]=a,n[17]=B):B=n[17],B}if(E){var W,q=(W=v.is_hidden_in_spam_folder)!=null?W:!1;if(q){var U;n[18]===Symbol.for("react.memo_cache_sentinel")?(U=m.jsx(r("IGDComposerCommonPlaceholder.react"),{height:189}),n[18]=U):U=n[18];var V;return n[19]!==a?(V=m.jsx(r("CometPlaceholder.react"),{fallback:U,name:i.id,children:m.jsx(_,{thread:a})}),n[19]=a,n[20]=V):V=n[20],V}}var H;n[21]!==F||n[22]!==x||n[23]!==a?(H=F&&x!=null?m.jsx(r("IGDProAcceptMessageRequestComposerBannerButton.react"),{thread:a,username:x.name}):m.jsx(r("IGDAcceptOpenMessageRequestComposerBannerButton.react"),{thread:a}),n[21]=F,n[22]=x,n[23]=a,n[24]=H):H=n[24];var G;n[25]!==E||n[26]!==x||n[27]!==a?(G=E?m.jsx(r("IGDLeaveGroupComposerBannerButton.react"),{thread:a}):x!=null?m.jsx(r("IGDBlockUserComposerBannerButton.react"),{contact:x,thread:a}):null,n[25]=E,n[26]=x,n[27]=a,n[28]=G):G=n[28];var z;n[29]!==a?(z=m.jsx(r("IGDDeleteOpenThreadComposerBannerButton.react"),{thread:a}),n[29]=a,n[30]=z):z=n[30];var j;n[31]!==E?(j=m.jsx(y,{isGroup:E}),n[31]=E,n[32]=j):j=n[32];var K;n[33]!==$||n[34]!==P?(K=m.jsx(h,{displayName:$,username:P}),n[33]=$,n[34]=P,n[35]=K):K=n[35];var Q;return n[36]!==H||n[37]!==G||n[38]!==z||n[39]!==j||n[40]!==K?(Q=m.jsx(r("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:H,messageRequestBlockLeave:G,messageRequestDelete:z,messageRequestFootnote:j,messageRequestHeader:K}),n[36]=H,n[37]=G,n[38]=z,n[39]=j,n[40]=K,n[41]=Q):Q=n[41],Q}function b(e){var t=e[1];return t}l.default=C}),226);
__d("IGDSUserRequestedPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M15.507 12.752a4.5 4.5 0 1 0-4.501-4.5 4.505 4.505 0 0 0 4.5 4.5Zm0-7a2.5 2.5 0 1 1-2.501 2.5 2.502 2.502 0 0 1 2.5-2.5Zm2.444 8.252h-4.907a5.054 5.054 0 0 0-5.049 5.049v.447a1 1 0 0 0 2 0v-.447a3.053 3.053 0 0 1 3.049-3.05h4.907a3.053 3.053 0 0 1 3.05 3.05v.447a1 1 0 0 0 2 0v-.447a5.055 5.055 0 0 0-5.05-5.05Zm-8.286-2.392a.88.88 0 0 0 0-1.224c-.009-.008-.012-.02-.02-.03L6.685 7.4a.907.907 0 0 0-1.283 1.284l1.41 1.409h-4.81a.907.907 0 1 0 0 1.814h4.81l-1.41 1.41a.907.907 0 0 0 1.284 1.284l2.959-2.96c.008-.008.011-.02.02-.03Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSUserRequestedPanoOutline24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Message requests"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"These messages are from people you've restricted or don't follow. They won't know you viewed their request until you allow them to message you."),e[1]=a):a=e[1];var i=a,l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDBaseNullState.react"),{descriptionText:i,icon:u.jsx("div",{className:"xskfcea x15l7z82 x1rx6pd xc5vvuh x1u0suui xlekzc6 x1tovxde x1tk7qwc x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x9f619 xjp8j0k x106a9eq x1qim8zg x13oubkp",children:u.jsx(r("IGDSUserRequestedPanoOutline24Icon.react"),{alt:"",color:"ig-primary-text",size:48})}),titleText:n}),e[2]=l):l=e[2],l}l.default=c}),226);
__d("IGDMusicStickerAudioContext.react",["IGDMusicStickerAudioStateManager.react","VideoAutoplayLocalScopeProvider.react","VideoAutoplayManagerX.react","VideoPlayerAutoplayRulesProvider","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("igd_music_sticker"),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(o("IGDMusicStickerAudioStateManager.react").IGDMusicStickerAudioStateManagerProvider,{children:s.jsx(r("VideoAutoplayManagerX.react"),{children:s.jsx(r("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:a,children:n})})}),t[1]=n,t[2]=i):i=t[2],i}l.IGDMusicStickerAudioContext=u}),98);
__d("MWPNewMessageAnnouncementHeader.react",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=e.message,n=e.outgoing,r=o("MWPForwardedContent").useTitle(t,n);return s._(/*BTDS*/"{forward title}",[s._param("forward title",r)])}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t,n,a=e.message,i=e.participant,l=e.sender,p=o("MWPActor.react").useActor(),_=(u||(u=o("I64"))).equal(l.id,p),f=a.replySourceTypeV2!=null&&(u||(u=o("I64"))).equal(a.replySourceTypeV2,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)),g=(t=(n=i==null?void 0:i.nickname)!=null?n:l.firstName)!=null?t:l.name;if(f)return d.jsx(m,{message:a,outgoing:_});var h=a.replySnippet;return h!=null?s._(/*BTDS*/"{reply snippet}",[s._param("reply snippet",h)]):_?s._(/*BTDS*/"You sent,"):s._(/*BTDS*/"{name of sender} sent,",[s._param("name of sender",g)])}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("useMWPAnnounceMessageForScreenReader",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","ServerTime","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef;function m(t,a){var i=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),c=d(o("ServerTime").getMillis()),m=a.threadKey;o("Int64Hooks").useEffectInt64(function(){return o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(m).subscribe(function(a,l){if(l.operation==="add"){var s=l.value;(u||(u=o("I64"))).to_float(s.timestampMs)>c.current&&(c.current=(u||(u=o("I64"))).to_float(s.timestampMs),r("promiseDone")((e||(e=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.contacts).getKeyRange(s.senderId)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.participants).getKeyRange(s.threadKey,s.senderId))]),function(e){var n=e[0],r=e[1];if(n!=null)return t(s,n,r)}))}})},[i,l,t,m])}l.default=m}),98);
__d("IGDNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","LSAuthorityLevel","LSIntEnum","MWPAttachmentDataContext","MWPNewMessageAnnouncementHeader.react","clearTimeout","filterNulls","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","react","react-compiler-runtime","setTimeout","useMWPAnnounceMessageForScreenReader"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState,g=s._(/*BTDS*/"One message");function h(e){var t,n=o("react-compiler-runtime").c(12),a=e.message,i=e.participant,l=e.sender,s=f(!1),u=s[0],c=s[1],m,p;if(n[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=r("setTimeout")(function(){return c(!0)},100);return(function(){r("clearTimeout")(e)})},p=[],n[0]=m,n[1]=p):(m=n[0],p=n[1]),_(m,p),!u)return null;var h=(t=a.text)!=null?t:g,C;n[2]!==a||n[3]!==i||n[4]!==l?(C=d.jsx(r("MWPNewMessageAnnouncementHeader.react"),{message:a,participant:i,sender:l}),n[2]=a,n[3]=i,n[4]=l,n[5]=C):C=n[5];var b=h!=null?h:null,v;n[6]!==a?(v=r("mwpMessageHasAttachment")(a)?d.jsx(y,{message:a}):null,n[6]=a,n[7]=v):v=n[7];var S;return n[8]!==C||n[9]!==b||n[10]!==v?(S=d.jsxs(r("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[C,b,v]}),n[8]=C,n[9]=b,n[10]=v,n[11]=S):S=n[11],S}function y(e){var t=o("react-compiler-runtime").c(2),n=e.message,a=o("MWPAttachmentDataContext").useMWPGetAttachments(n),i;return t[0]!==a?(i=r("getMWPAttachmentMessageAnnouncement")(a),t[0]=a,t[1]=i):i=t[1],i}function C(e){var t=o("react-compiler-runtime").c(4),n=e.thread,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];var i=f(a),l=i[0],s=i[1],m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=function(t,n,a){if((u||(u=o("I64"))).equal(t.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return s(function(e){return r("filterNulls")([].concat(e,[d.jsx(h,{message:t,participant:a,sender:n},t.messageId)]))})},t[1]=m):m=t[1];var p=m;r("useMWPAnnounceMessageForScreenReader")(p,n);var _;return t[2]!==l?(_=d.jsx(r("CometErrorBoundary.react"),{fallback:void 0,children:d.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"IGDNewMessageAnnouncementForScreenReaders",children:l})}),t[2]=l,t[3]=_):_=t[3],_}l.default=C}),226);
__d("IGDPartnershipInboxNullStateQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9558114010941686"}),null);
__d("IGDPartnershipInboxNullStateQuery.graphql",["IGDPartnershipInboxNullStateQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"XIGIGCreatorMarketplacePartnershipInbox",kind:"LinkedField",name:"xig_partnership_inbox",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_brand_onboarded",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDPartnershipInboxNullStateQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDPartnershipInboxNullStateQuery",selections:e},params:{id:n("IGDPartnershipInboxNullStateQuery_instagramRelayOperation"),metadata:{},name:"IGDPartnershipInboxNullStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("IGDPartnershipInboxStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e?s._(/*BTDS*/"Send message"):s._(/*BTDS*/"Get started")}function u(e){return e?s._(/*BTDS*/"Start a conversation with a creator in your partnership inbox to help manage your conversations more effectively. Creators are more likely to see these and reply."):s._(/*BTDS*/"Send creators a prioritized message about partnering for ad campaigns.")}function c(e){return e?s._(/*BTDS*/"Partnership messages"):s._(/*BTDS*/"Sign up for partnership messages")}l.getNullstateButtonText=e,l.getNullstateDescriptionText=u,l.getNullstateTitleText=c}),226);
__d("IGDPartnershipInboxNullState.react",["fbt","IGDBaseNullState.react","IGDPartnershipInboxNullStateQuery.graphql","IGDPartnershipInboxStrings","IGDSButton.react","IGDSCreatorMarketplacePanoOutline24Icon.react","IGDSDialogPlaceholder.react","IgBrandedContentEventFalcoEvent","JSResourceForInteraction","PolarisCreatorMarketplaceBrandOnboardingModal.react","RelayHooks","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useState,f=e!==void 0?e:e=n("IGDPartnershipInboxNullStateQuery.graphql");function g(){var e,t=o("react-compiler-runtime").c(28),n=o("RelayHooks").useRelayEnvironment(),a=o("RelayHooks").useLazyLoadQuery(f,{}),i=((e=a.xig_partnership_inbox)==null?void 0:e.is_brand_onboarded)===!0,l=_(!1),u=l[0],d=l[1],m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=r("JSResourceForInteraction")("IGDThreadListNewPartnershipMessageDialog.react").__setRef("IGDPartnershipInboxNullState.react"),t[0]=m):m=t[0];var g=m,y,C;t[1]!==i?(y=function(){r("IgBrandedContentEventFalcoEvent").log(function(){return{event_name:"partnership_inbox_null_state_impression",extra_data:{is_brand_onboarded:String(i)}}})},C=[i],t[1]=i,t[2]=y,t[3]=C):(y=t[2],C=t[3]),p(y,C);var b=r("useIGDSLazyDialog")(g,h),v=b[0],S;t[4]!==i||t[5]!==v?(S=function(){r("IgBrandedContentEventFalcoEvent").log(function(){return{event_name:"partnership_inbox_null_state_new_message_click",extra_data:{is_brand_onboarded:String(i)}}}),i?v({}):d(!0)},t[4]=i,t[5]=v,t[6]=S):S=t[6];var R=S,L;t[7]!==i?(L=o("IGDPartnershipInboxStrings").getNullstateDescriptionText(i),t[7]=i,t[8]=L):L=t[8];var E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E={className:"xskfcea x15l7z82 x1rx6pd xc5vvuh x1u0suui xlekzc6 x1tovxde x1tk7qwc x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x9f619 xjp8j0k x13oubkp x6s0dn4 x78zum5 xl56j7k xexx8yu xyri2b x18d9i69 x1c1uobl"},t[9]=E):E=t[9];var k;t[10]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx("div",babelHelpers.extends({},E,{children:c.jsx(r("IGDSCreatorMarketplacePanoOutline24Icon.react"),{alt:s._(/*BTDS*/"Creator marketplace icon for the partnership inbox"),color:"ig-primary-text",size:48})})),t[10]=k):k=t[10];var I;t[11]!==i?(I=o("IGDPartnershipInboxStrings").getNullstateTitleText(i),t[11]=i,t[12]=I):I=t[12];var T;t[13]!==i?(T=o("IGDPartnershipInboxStrings").getNullstateButtonText(i),t[13]=i,t[14]=T):T=t[14];var D;t[15]!==R||t[16]!==T?(D=c.jsx(r("IGDSButton.react"),{display:"block",label:T,onClick:R}),t[15]=R,t[16]=T,t[17]=D):D=t[17];var x;t[18]!==L||t[19]!==I||t[20]!==D?(x=c.jsx(r("IGDBaseNullState.react"),{descriptionText:L,icon:k,titleText:I,children:D}),t[18]=L,t[19]=I,t[20]=D,t[21]=x):x=t[21];var $;t[22]!==n||t[23]!==u?($=u&&c.jsx(o("PolarisCreatorMarketplaceBrandOnboardingModal.react").PolarisCreatorMarketplaceBrandOnboardingModal,{creatorUserId:"",entrypoint:o("PolarisCreatorMarketplaceBrandOnboardingModal.react").BrandOnboardingEntrypoint.PARTNERSHIP_INBOX_NULLSTATE,onClose:function(){return d(!1)},onDecline:function(){d(!1)},onSuccess:function(){o("RelayHooks").fetchQuery(n,f,{}).subscribe({})}}),t[22]=n,t[23]=u,t[24]=$):$=t[24];var P;return t[25]!==x||t[26]!==$?(P=c.jsxs(c.Fragment,{children:[x,$]}),t[25]=x,t[26]=$,t[27]=P):P=t[27],P}function h(e){return c.jsx(r("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:e,size:"large"})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),226);
__d("useIsCurrentRoutePartnershipInbox",["IGDEntryPoints","IGDRouteProvider.react","useCurrentRoute","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useCurrentRoute")(),t=o("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),n=r("useRoutePassthroughProps")();return e!=null&&/\/direct\/partnerships/.test(e.url)?!0:t!=null&&n!=null?n.entryPoint==="partnershipInbox"||n.entryPoint===o("IGDEntryPoints").IGDEntryPoints.IGD_PARTNERSHIP_THREADS_LIST:!1}l.default=e}),98);
__d("IGDNullState.react",["IGDDefaultNullState.react","IGDHiddenMessageRequestsNullState.react","IGDMessageRequestsNullState.react","IGDPartnershipInboxNullState.react","react","react-compiler-runtime","useIsCurrentRouteMessageHiddenRequests","useIsCurrentRouteMessageRequests","useIsCurrentRoutePartnershipInbox"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(4),t=r("useIsCurrentRouteMessageRequests")(),n=r("useIsCurrentRouteMessageHiddenRequests")(),a=r("useIsCurrentRoutePartnershipInbox")();if(n){var i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("IGDHiddenMessageRequestsNullState.react"),{}),e[0]=i):i=e[0],i}else if(t){var l;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(r("IGDMessageRequestsNullState.react"),{}),e[1]=l):l=e[1],l}else if(a){var u;return e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(r("IGDPartnershipInboxNullState.react"),{}),e[2]=u):u=e[2],u}else{var c;return e[3]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(r("IGDDefaultNullState.react"),{}),e[3]=c):c=e[3],c}}l.default=u}),98);
__d("IGDSAppMessengerOutline96Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M48 0C21.532 0 0 21.533 0 48s21.532 48 48 48 48-21.532 48-48S74.468 0 48 0Zm0 94C22.636 94 2 73.364 2 48S22.636 2 48 2s46 20.636 46 46-20.636 46-46 46Zm12.227-53.284-7.257 5.507c-.49.37-1.166.375-1.661.005l-5.373-4.031a3.453 3.453 0 0 0-4.989.921l-6.756 10.718c-.653 1.027.615 2.189 1.582 1.453l7.257-5.507a1.382 1.382 0 0 1 1.661-.005l5.373 4.031a3.453 3.453 0 0 0 4.989-.92l6.756-10.719c.653-1.027-.615-2.189-1.582-1.453ZM48 25c-12.958 0-23 9.492-23 22.31 0 6.706 2.749 12.5 7.224 16.503.375.338.602.806.62 1.31l.125 4.091a1.845 1.845 0 0 0 2.582 1.629l4.563-2.013a1.844 1.844 0 0 1 1.227-.093c2.096.579 4.331.884 6.659.884 12.958 0 23-9.491 23-22.31S60.958 25 48 25Zm0 42.621c-2.114 0-4.175-.273-6.133-.813a3.834 3.834 0 0 0-2.56.192l-4.346 1.917-.118-3.867a3.833 3.833 0 0 0-1.286-2.727C29.33 58.54 27 53.209 27 47.31 27 35.73 36.028 27 48 27s21 8.73 21 20.31-9.028 20.31-21 20.31Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 96 96",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDThreadCapabilitiesContextProvider.react",["LSThreadBitOffset","MWPThreadCapabilitiesContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.thread,a;t[0]!==r?(a=function(t){return o("LSThreadBitOffset").has(t,r)},t[0]=r,t[1]=a):a=t[1];var i=a,l;return t[2]!==n||t[3]!==i||t[4]!==r?(l=s.jsx(o("MWPThreadCapabilitiesContext").Provider,{customCapabilityCheck:i,thread:r,children:n}),t[2]=n,t[3]=i,t[4]=r,t[5]=l):l=t[5],l}l.default=c}),98);
__d("IGDThreadDetailContextWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometTransientDialogProvider.react","IGDDMModeContextProvider","IGDEditMessageContext.react","IGDInboxInfoContextProvider","IGDMediaStagingContext","IGDMusicStickerAudioContext.react","IGDNullState.react","IGDReplyContext.react","IGDThreadCapabilitiesContextProvider.react","MAWEditMessageContext.react","MWPAudioPlaybackThreadContext.react","MWPReplyContext.react","MWThreadKey.react","MWV2IsTabFocusedContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.thread,l;t[0]!==n?(l=s.jsx(o("IGDInboxInfoContextProvider").IGDInboxInfoContextProvider,{initialRoute:o("IGDInboxInfoContextProvider").IGDInboxInfoRoute.INBOX_INFO,children:n}),t[0]=n,t[1]=l):l=t[1];var u;t[2]!==l||t[3]!==a.threadKey?(u=s.jsx(o("IGDDMModeContextProvider").IGDDMModeContextProvider,{threadKey:a.threadKey,children:l}),t[2]=l,t[3]=a.threadKey,t[4]=u):u=t[4];var d;t[5]!==u||t[6]!==a?(d=s.jsx(o("IGDReplyContext.react").IGDReplyContextProvider,{children:s.jsx(o("IGDEditMessageContext.react").IGDEditMessageContextProvider,{children:s.jsx(o("IGDMediaStagingContext").IGDMediaStagingContextProvider,{children:s.jsx(o("MWPReplyContext.react").MWPReplyContextProvider,{children:s.jsx(o("MAWEditMessageContext.react").MAWEditMessageContext,{children:s.jsx(r("IGDThreadCapabilitiesContextProvider.react"),{thread:a,children:u})})})})})}),t[5]=u,t[6]=a,t[7]=d):d=t[7];var m;t[8]!==d||t[9]!==a.threadKey?(m=s.jsx(r("CometTransientDialogProvider.react"),{children:s.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,children:d})}),t[8]=d,t[9]=a.threadKey,t[10]=m):m=t[10];var p;return t[11]!==m||t[12]!==a.threadKey?(p=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(r("CometErrorBoundary.react"),{fallback:c,children:s.jsx(o("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:!0,children:s.jsx(o("IGDMusicStickerAudioContext.react").IGDMusicStickerAudioContext,{children:s.jsx(o("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:m})})})})}),t[11]=m,t[12]=a.threadKey,t[13]=p):p=t[13],p}function c(){return s.jsx(r("IGDNullState.react"),{})}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDThreadlineContainerQueryChatQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32865296956419048"}),null);
__d("IGDThreadlineOffMsysMessageListEnabled.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("qex")._("2197")===!0}};l.default=e}),98);
__d("IGDThreadlineSuggestedReelsEnabled.relayprovider",["gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("7121")||r("qex")._("2664")===!0}};l.default=e}),98);
__d("IGDThreadlineContainerQueryChatQuery.graphql",["IGDThreadlineContainerQueryChatQuery_instagramRelayOperation","IGDThreadlineSuggestedReelsEnabled.relayprovider","IGDThreadlineOffMsysMessageListEnabled.relayprovider","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"reel_message_id"},t={defaultValue:null,kind:"LocalArgument",name:"thread_fbid"},r={defaultValue:null,kind:"LocalArgument",name:"timestamp_ms"},o={kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"},a=[o],i=[{kind:"Literal",name:"first",value:1},{kind:"Variable",name:"max_timestamp_ms",variableName:"timestamp_ms"},{kind:"Literal",name:"request_media_type",value:"CLIP_SHARES"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],y={alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"secondary_text_color",plural:!1,selections:h,storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},b={alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:h,storageKey:null},v=[u,c,d,m,_,f,g,y,C,b],S={alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:v,storageKey:null},R={alias:null,args:null,concreteType:"XDTBloksRenderResponse",kind:"LinkedField",name:"bloks_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"overlay_applied_timestamp",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"sub_category",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"is_trending_in_clips",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"is_explicit",storageKey:null},q=[P],U={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},V={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r],kind:"Fragment",metadata:{catchTo:"RESULT"},name:"IGDThreadlineContainerQueryChatQuery",selections:[{args:[o,{kind:"Variable",name:"timestamp_ms",variableName:"timestamp_ms"}],kind:"FragmentSpread",name:"IGDThreadlineMainContentFragment_MediaListConnection"},{args:a,kind:"FragmentSpread",name:"IGDThreadlineMainContent_SlideThread"},{args:[{kind:"Variable",name:"reel_message_id",variableName:"reel_message_id"}],kind:"FragmentSpread",name:"IGDThreadlineMainContent_SlideMessage"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,e,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IGDThreadlineSuggestedReelsEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IGDThreadlineOffMsysMessageListEnabledrelayprovider"}],kind:"Operation",name:"IGDThreadlineContainerQueryChatQuery",selections:[{alias:null,args:a,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:i,concreteType:"XFBIGDirectViewerThreadMediaListConnectionConnection",kind:"LinkedField",name:"media_list_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThreadMediaListConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XIGDirectThreadMediaListItem",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"xma_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[s,S,R,{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:[u,c,d,m,_,f,g,y,C,b,{alias:null,args:null,kind:"ScalarField",name:"headline_text",storageKey:null}],storageKey:null},L,_,E,k,I,T,D,x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},$,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[$,P,N,M,w,A,{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},B],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},W,{alias:null,args:null,kind:"ScalarField",name:"cover_artwork_thumbnail_uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null},B],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[N,P,M],storageKey:null},W],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shared_to_fb",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shared_from_basel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,concreteType:"XDTCreativeConfigDict",kind:"LinkedField",name:"creative_config",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTEffectPreviewDict",kind:"LinkedField",name:"effect_configs",plural:!0,selections:[P,p],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[N,P],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[$,p],storageKey:null},{alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTWearablesAppAttribution",kind:"LinkedField",name:"wearable_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_cta_action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null}],storageKey:null},P,{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[C,$,{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loading_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[$,P,A,w,N,F,M],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[$,{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[S,R,{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:v,storageKey:null},L,_,E,k,I,T,D,x,s],storageKey:null},P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enable_media_notes_production",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fb_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTCrosspostMetadataDict",kind:"LinkedField",name:"crosspost_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_feedback_aggregated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_feedback_aggregated",storageKey:null}],storageKey:null},{name:"client__relayID",args:null,fragment:{kind:"InlineFragment",selections:q,type:"XDTMediaDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},U,{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fb_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved_collection_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_saved",storageKey:null},{name:"client__srcSet",args:null,fragment:{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[V,P],storageKey:null},V],type:"XDTMediaDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_repost_count",storageKey:null},{alias:null,args:null,concreteType:"XDTLazyFloatingContextItem",kind:"LinkedField",name:"floating_context_items",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTMediaNoteResponse",kind:"LinkedField",name:"media_note",plural:!1,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null}],storageKey:null}],type:"XIGDirectXMAMediaDict",abstractKey:null},{kind:"InlineFragment",selections:q,type:"XIGDirectImageMediaDict",abstractKey:null},{kind:"InlineFragment",selections:q,type:"XIGDirectRavenImageMediaDict",abstractKey:null},{kind:"InlineFragment",selections:q,type:"XIGDirectRavenVideoMediaDict",abstractKey:null},{kind:"InlineFragment",selections:q,type:"XIGDirectVideoMediaDict",abstractKey:null}],storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:i,filters:["request_media_type","max_timestamp_ms"],handle:"connection",key:"IGDThreadlineMainContent_media_list_connection",kind:"LinkedHandle",name:"media_list_connection"},P,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[P,N,M],storageKey:null},{condition:"__relay_internal__pv__IGDThreadlineOffMsysMessageListEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBIGThreadCapabilitiesBitVector",kind:"LinkedField",name:"ig_thread_capabilities",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"capabilities_0",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities_1",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reachability_status",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"viewer",plural:!1,selections:[H,P],storageKey:null},G,z]},{condition:"__relay_internal__pv__IGDThreadlineSuggestedReelsEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"viewer",plural:!1,selections:[P,H,M],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_image_url",storageKey:null},z]}],storageKey:null},P],storageKey:null},{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"reel_message_id"}],concreteType:"SlideMessage",kind:"LinkedField",name:"get_slide_message",plural:!1,selections:[P,{condition:"__relay_internal__pv__IGDThreadlineOffMsysMessageListEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user_dict",plural:!1,selections:[N,P,{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],storageKey:null}],storageKey:null},P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_reported",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:n("IGDThreadlineContainerQueryChatQuery_instagramRelayOperation"),metadata:{},name:"IGDThreadlineContainerQueryChatQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGDThreadlineSuggestedReelsEnabledrelayprovider:n("IGDThreadlineSuggestedReelsEnabled.relayprovider"),__relay_internal__pv__IGDThreadlineOffMsysMessageListEnabledrelayprovider:n("IGDThreadlineOffMsysMessageListEnabled.relayprovider")}}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("IGDThreadlineContainerQuerySuggestedQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32358248993789445"}),null);
__d("IGDThreadlineContainerQuerySuggestedQuery.graphql",["IGDThreadlineContainerQuerySuggestedQuery_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{fields:[{kind:"Literal",name:"max_id",value:null},{kind:"Literal",name:"seen_reels",value:""}],kind:"ObjectValue",name:"data"},{kind:"Literal",name:"first",value:2}],t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],m={alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"secondary_text_color",plural:!1,selections:d,storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},_={alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:d,storageKey:null},f=[r,o,a,i,s,u,c,m,p,_],g={alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:f,storageKey:null},h={alias:null,args:null,concreteType:"XDTBloksRenderResponse",kind:"LinkedField",name:"bloks_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"overlay_applied_timestamp",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"sub_category",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"is_trending_in_clips",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"is_explicit",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},O={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[A,P,F],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:{catchTo:"RESULT"},name:"IGDThreadlineContainerQuerySuggestedQuery",selections:[{args:null,kind:"FragmentSpread",name:"IGDThreadlineSuggestedReels"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDThreadlineContainerQuerySuggestedQuery",selections:[{alias:null,args:e,concreteType:"XDTClipsFeedResponseConnection",kind:"LinkedField",name:"xdt_api__v1__clips__discover__connection_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTClipsFeedResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTClipsItemDict",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[t,g,h,{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:[r,o,a,i,s,u,c,m,p,_,{alias:null,args:null,kind:"ScalarField",name:"headline_text",storageKey:null}],storageKey:null},y,s,C,b,v,S,R,L],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},E,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[E,k,I,T,D,x,{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null},$,{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},N],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},M,{alias:null,args:null,kind:"ScalarField",name:"cover_artwork_thumbnail_uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null},N],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[I,k,T],storageKey:null},M],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shared_to_fb",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shared_from_basel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,concreteType:"XDTCreativeConfigDict",kind:"LinkedField",name:"creative_config",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTEffectPreviewDict",kind:"LinkedField",name:"effect_configs",plural:!0,selections:[k,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[I,k],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[E,l],storageKey:null},{alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTWearablesAppAttribution",kind:"LinkedField",name:"wearable_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_cta_action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null}],storageKey:null},k,{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[p,E,{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loading_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[E,k,x,D,I,$,T],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[E,{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:f,storageKey:null},y,s,C,b,v,S,R,L,t],storageKey:null},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enable_media_notes_production",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fb_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTCrosspostMetadataDict",kind:"LinkedField",name:"crosspost_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_feedback_aggregated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_feedback_aggregated",storageKey:null}],storageKey:null},{name:"client__relayID",args:null,fragment:{kind:"InlineFragment",selections:[k],type:"XDTMediaDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fb_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved_collection_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_saved",storageKey:null},{name:"client__srcSet",args:null,fragment:{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[O,k],storageKey:null},O],type:"XDTMediaDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_repost_count",storageKey:null},{alias:null,args:null,concreteType:"XDTLazyFloatingContextItem",kind:"LinkedField",name:"floating_context_items",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTMediaNoteResponse",kind:"LinkedField",name:"media_note",plural:!1,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaShareableTracking",kind:"LinkedField",name:"share_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"copy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"threads",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[P,F,A],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:'xdt_api__v1__clips__discover__connection_v2(data:{"max_id":null,"seen_reels":""},first:2)'},{alias:null,args:e,filters:["data"],handle:"connection",key:"Threadline__xdt_api__v1__clips__discover__connection_v2",kind:"LinkedHandle",name:"xdt_api__v1__clips__discover__connection_v2"}]},params:{id:n("IGDThreadlineContainerQuerySuggestedQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__clips__discover__connection_v2"]},name:"IGDThreadlineContainerQuerySuggestedQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("IGDThreadlineContainerQuery",["IGDThreadlineContainerQueryChatQuery.graphql","IGDThreadlineContainerQuerySuggestedQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("IGDThreadlineContainerQueryChatQuery.graphql"),c=s!==void 0?s:s=n("IGDThreadlineContainerQuerySuggestedQuery.graphql");l.IGDThreadlineContainerChatQuery=u,l.IGDThreadlineContainerSuggestedQuery=c}),98);
__d("IGDThreadlineStylingConstants",["IGDSThemeConstantsHelpers"],(function(t,n,r,o,a,i,l){"use strict";var e=512,s=77,u=o("IGDSThemeConstantsHelpers").getNumericValue("revamp-nav-bottom-toolbar-height"),c="xz7fsl5-B",d="x1thla6t-B",m={mainContentScrollable:{scrollbarWidth:"x1rohswg",scrollPaddingTop:"xk8sdt9",scrollSnapType:"x168l2et",$$css:!0},maxWidth:{maxWidth:"x1n8psvb",$$css:!0},slideInAnimation:{animationDuration:"xxkxylk",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xx5x9a5",animationTimingFunction:"xa3vuyk",$$css:!0},slideOutAnimation:{animationDuration:"x4afe7t",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1r5rxf8",animationTimingFunction:"xa3vuyk",$$css:!0}},p=1024;l.THREADLINE_MAX_WIDTH=e,l.THREADLINE_HEADER_HEIGHT=s,l.BOTTOM_NAV_BAR_HEIGHT=u,l.threadlineStyles=m,l.threadlineSmallScreenBreakPoint=p}),98);
__d("useIGDBroadcastChannelOpenThreadLogger",["I64","IGDInboxClickedThreadContextProvider","Int64Hooks","MWCMThreadTypes.react","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useRef;function c(e){var t=o("react-compiler-runtime").c(6),n=o("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),a=r("useIGDBroadcastChannelLogger")(e.threadKey),i=u(!1),l,c;t[0]!==n||t[1]!==a||t[2]!==e.threadKey||t[3]!==e.threadSubtype?(l=function(){var t=n.getProviderData(),l=t.clickedThreadId;!i.current&&l!=null&&(s||(s=o("I64"))).equal(l,e.threadKey)&&e.threadSubtype!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(e.threadSubtype)&&(r("promiseDone")(a({action:"tap",event:"thread_open",extra:{is_admin:"True",new_bc_user:"False",previously_joined:"True"},parent_surface:"broadcast",source:"broadcast_thread_item",surface:"inbox_channels"})),i.current=!0)},c=[n,a,e.threadKey,e.threadSubtype],t[0]=n,t[1]=a,t[2]=e.threadKey,t[3]=e.threadSubtype,t[4]=l,t[5]=c):(l=t[4],c=t[5]),o("Int64Hooks").useEffectInt64(l,c)}l.default=c}),98);
__d("useIGDIsViewerAdmin",["MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),s;n[0]!==a.tables.participants||n[1]!==t||n[2]!==l?(s=function(){return o("ReQL").fromTableAscending(a.tables.participants,["isAdmin"]).getKeyRange(t,l)},n[0]=a.tables.participants,n[1]=t,n[2]=l,n[3]=s):s=n[3];var u;n[4]!==a||n[5]!==t||n[6]!==l?(u=[a,t,l],n[4]=a,n[5]=t,n[6]=l,n[7]=u):u=n[7];var c=o("ReQLSuspense").useFirst(s,u,i.id+":24");if(c==null)return!1;var d=c.isAdmin;return d!=null?d:!1}l.default=s}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){var n=t.threadKey,a=t.threadName,l=t.threadType,u=o("MWPActor.react").useActor(),c=(e||(e=r("useReStore")))(),d=o("ReQLSuspense").useArray(function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(c.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(n),o("ReQL").fromTableAscending(c.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[c,n],i.id+":37");return o("Int64Hooks").useMemoInt64(function(){var e,t=a;if(t!=null)return s._(/*BTDS*/"Conversation titled {name of conversation}",[s._param("name of conversation",t)]);var n=(e=o("MWPGetThreadTitle").computeThreadTitle(void 0,l,d,u))!=null?e:"";return s._(/*BTDS*/"Conversation with {participant list}",[s._param("participant list",n)])},[a,l,d,u])}l.default=u}),226);
