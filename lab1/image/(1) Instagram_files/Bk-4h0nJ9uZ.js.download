;/*FB_PKG_DELIM*/

__d("IGDBroadcastChannelThreadHeader.react",["fbt","BaseRelativeTimestampUtils","I64","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","PolarisBigNumber.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n,a=o("react-compiler-runtime").c(5),l=(e||(e=r("useReStore")))(),s,u;a[0]!==l.tables.contacts||a[1]!==l.tables.participants||a[2]!==t?(s=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId","isSuperAdmin"]).getKeyRange(t).filter(p),o("ReQL").fromTableAscending(l.tables.contacts,["username"]))},u=[l.tables.contacts,l.tables.participants,t],a[0]=l.tables.contacts,a[1]=l.tables.participants,a[2]=t,a[3]=s,a[4]=u):(s=a[3],u=a[4]);var c=o("ReQLSuspense").useFirst(s,u,i.id+":33");return c==null||(n=c[1])==null?void 0:n.username}function p(e){return e.isSuperAdmin===!0}function _(e){var t=o("react-compiler-runtime").c(18),n=e.isMobile,a=e.memberCount,i=e.pauseThreadTimestamp,l=e.thread,c=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),p=c.hasLSThreadBitOffset,_;t[0]!==p?(_=p(171),t[0]=p,t[1]=_):_=t[1];var f=_,g=m(l.threadKey),h;t[2]!==n?(h=!n&&d.jsx(r("MWVerticalRhythm"),{height:4}),t[2]=n,t[3]=h):h=t[3];var y;t[4]!==g?(y=g!=null?g:s._(/*BTDS*/"Channel"),t[4]=g,t[5]=y):y=t[5];var C;t[6]!==a?(C=a!==0?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSMiddleDot.react"),{color:"secondaryText"}),d.jsx(r("PolarisBigNumber.react"),{shortenNumber:!0,value:a}),d.jsx(d.Fragment,{children:" "}),s._(/*BTDS*/"_j{\"*\":\"members\",\"_1\":\"member\"}",[s._plural(a)])]}):null,t[6]=a,t[7]=C):C=t[7];var b;t[8]!==f||t[9]!==i?(b=!f&&i!=null&&(u||(u=o("I64"))).ge(i,(u||(u=o("I64"))).zero)?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSMiddleDot.react"),{color:"secondaryText"}),s._(/*BTDS*/"Ends {broadcast channel duration}",[s._param("broadcast channel duration",o("BaseRelativeTimestampUtils").getRelativeTimestampInFuture(new Date,new Date((u||(u=o("I64"))).to_int32(i)*1e3),"minimized"))])]}):null,t[8]=f,t[9]=i,t[10]=b):b=t[10];var v;t[11]!==y||t[12]!==C||t[13]!==b?(v=d.jsx(r("IGDSBox.react"),{alignSelf:"start",marginTop:1,children:d.jsxs(r("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:[y,C,b]})}),t[11]=y,t[12]=C,t[13]=b,t[14]=v):v=t[14];var S;return t[15]!==h||t[16]!==v?(S=d.jsxs(r("IGDSBox.react"),{children:[h,v]}),t[15]=h,t[16]=v,t[17]=S):S=t[17],S}l.default=_}),226);
__d("IGDLSThreadHeaderTooltipWrapper.react",["react","react-compiler-runtime","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.thread,i=r("useLSGetThreadTitle.react")(a),l=i.threadTitle,u;return t[0]!==n||t[1]!==l?(u=s.jsx("span",{title:l,children:n}),t[0]=n,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("IGDPresenceUnifiedTextForThreadWrapper.react",["IGDPresenceUnifiedTextForThread.react","IGDSBox.react","IGDSText.react","MWVerticalRhythm","react","react-compiler-runtime","usePresenceUnifiedThreadPresenceState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.isMobile,a=e.thread,i=r("usePresenceUnifiedThreadPresenceState")(a),l;t[0]!==n?(l=!n&&s.jsx(r("MWVerticalRhythm"),{height:4}),t[0]=n,t[1]=l):l=t[1];var u;t[2]!==i?(u=s.jsx(r("IGDSBox.react"),{marginTop:1,children:s.jsx(r("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:s.jsx(r("IGDPresenceUnifiedTextForThread.react"),{threadPresenceState:i})})}),t[2]=i,t[3]=u):u=t[3];var c;return t[4]!==l||t[5]!==u?(c=s.jsxs(s.Fragment,{children:[l,u]}),t[4]=l,t[5]=u,t[6]=c):c=t[6],c}l.default=u}),98);
__d("IGDProfileLinkOrFragment.react",["IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MWPThreadCapabilitiesContext","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={threadTextWidth:{display:"xjp7ctv",width:"xeq5yr9",$$css:!0}};function d(t){var n,a=o("react-compiler-runtime").c(24),l=t.children,s=t.thread,d=(e||(e=r("useReStore")))(),p=s.threadKey,_=s.threadType,f;a[0]!==d.tables.mi_act_mapping_table||a[1]!==p?(f=function(){return o("ReQL").fromTableAscending(d.tables.mi_act_mapping_table,["jid"]).getKeyRange(p).map(m)},a[0]=d.tables.mi_act_mapping_table,a[1]=p,a[2]=f):f=a[2];var g;a[3]!==d||a[4]!==p?(g=[d,p],a[3]=d,a[4]=p,a[5]=g):g=a[5];var h=o("ReQLSuspense").useFirst(f,g,i.id+":43"),y=h!=null?h:p,C;a[6]!==d.tables.contacts||a[7]!==y?(C=function(){return o("ReQL").fromTableAscending(d.tables.contacts,["secondaryName"]).getKeyRange(y)},a[6]=d.tables.contacts,a[7]=y,a[8]=C):C=a[8];var b;a[9]!==d||a[10]!==y?(b=[d,y],a[9]=d,a[10]=y,a[11]=b):b=a[11];var v=o("ReQLSuspense").useFirst(C,b,i.id+":51"),S=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),R=S.hasLSThreadBitOffset,L;a[12]!==R||a[13]!==_?(L=o("LSMessagingThreadTypeUtil").isArmadilloSecure(_)||R(41),a[12]=R,a[13]=_,a[14]=L):L=a[14];var E=L,k=(n=v==null?void 0:v.secondaryName)!=null?n:"",I;a[15]!==k?(I=o("PolarisLinkBuilder").buildUserLink(k),a[15]=k,a[16]=I):I=a[16];var T=I,D=r("MessengerWebUXLogger").useInteractionLogger(),x=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),$;return a[17]!==E||a[18]!==l||a[19]!==(v==null?void 0:v.secondaryName)||a[20]!==x||a[21]!==D||a[22]!==T?($=E&&(v==null?void 0:v.secondaryName)!=null?u.jsx(r("PolarisFastLink.react"),{canTabFocus:!0,href:T,onClick:function(){D==null||D({eventName:"open_profile",flowInstanceId:x})},xstyle:c.threadTextWidth,children:l}):u.jsx(u.Fragment,{children:l}),a[17]=E,a[18]=l,a[19]=v==null?void 0:v.secondaryName,a[20]=x,a[21]=D,a[22]=T,a[23]=$):$=a[23],$}function m(e){return e.jid}l.default=d}),98);
__d("IGDThreadHeaderGenAISubtitle.react",["fbt","IGDInboxGenAIStarIcon.react","IGDSBox.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(7),n=e.nullstateDescriptionText,a;t[0]!==n?(a=n!=null?n:s._(/*BTDS*/"AI"),t[0]=n,t[1]=a):a=t[1];var i;t[2]!==a?(i=u.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a}),t[2]=a,t[3]=i):i=t[3];var l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDInboxGenAIStarIcon.react"),{}),t[4]=l):l=t[4];var c;return t[5]!==i?(c=u.jsxs(r("IGDSBox.react"),{alignSelf:"start",direction:"row",marginTop:1,children:[i,l]}),t[5]=i,t[6]=c):c=t[6],c}l.default=c}),226);
__d("IGDThreadHeaderTooltipWrapper.react",["IGDLSThreadHeaderTooltipWrapper.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.thread,i=a.threadName;if(i==null){var l;return t[0]!==n||t[1]!==a?(l=s.jsx(r("IGDLSThreadHeaderTooltipWrapper.react"),{children:n,thread:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}var u;return t[3]!==n||t[4]!==i?(u=s.jsx("span",{title:i,children:n}),t[3]=n,t[4]=i,t[5]=u):u=t[5],u}l.default=u}),98);
__d("IGDThreadSubTitle.react",["I64","IGDBroadcastChannelThreadHeader.react","IGDPresenceUnifiedTextForThreadWrapper.react","IGDSText.react","IGDThreadHeaderGenAISubtitle.react","LSIntEnum","MWCMThreadTypes.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(11),n=e.isMobile,a=e.thread,i=a.threadSubtype!=null?o("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype):!1,l=(s||(s=o("I64"))).equal(a.threadType,(u||(u=o("LSIntEnum"))).ofNumber(201));if(i){var d;t[0]!==a.memberCount?(d=a.memberCount!=null?(s||(s=o("I64"))).to_int32(a.memberCount):0,t[0]=a.memberCount,t[1]=d):d=t[1];var m=d,p;return t[2]!==n||t[3]!==m||t[4]!==a?(p=c.jsx(r("IGDBroadcastChannelThreadHeader.react"),{isMobile:n,memberCount:m,pauseThreadTimestamp:a.pauseThreadTimestamp,thread:a}),t[2]=n,t[3]=m,t[4]=a,t[5]=p):p=t[5],p}if(l){var _;return t[6]!==a.nullstateDescriptionText1?(_=c.jsx(r("IGDThreadHeaderGenAISubtitle.react"),{nullstateDescriptionText:a.nullstateDescriptionText1}),t[6]=a.nullstateDescriptionText1,t[7]=_):_=t[7],_}var f;return t[8]!==n||t[9]!==a?(f=c.jsx(r("IGDSText.react"),{color:"secondaryText",children:c.jsx(r("IGDPresenceUnifiedTextForThreadWrapper.react"),{isMobile:n,thread:a})}),t[8]=n,t[9]=a,t[10]=f):f=t[10],f}l.default=d}),98);
__d("IGDThreadTitleAndPresence.react",["IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","IGDThreadHeaderTooltipWrapper.react","IGDThreadSubTitle.react","LSThreadTitle.react","LSVerificationBadge.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(18),n=e.isMobile,a=e.thread,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[0]=i):i=t[0];var l;t[1]!==a?(l=s.jsx(r("LSThreadTitle.react"),{thread:a,transforms:i}),t[1]=a,t[2]=l):l=t[2];var c;t[3]!==l||t[4]!==a?(c=s.jsx(r("IGDSText.react"),{color:"primaryText",elementType:"h2",maxLines:1,size:"label",weight:"semibold",children:s.jsx(r("IGDThreadHeaderTooltipWrapper.react"),{thread:a,children:l})}),t[3]=l,t[4]=a,t[5]=c):c=t[5];var d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(r("IGDSVerifiedBadge.react"),{size:"small"}),t[6]=d):d=t[6];var m;t[7]!==a.threadKey?(m=s.jsx(r("LSVerificationBadge.react"),{icon:d,threadKey:a.threadKey}),t[7]=a.threadKey,t[8]=m):m=t[8];var p;t[9]!==c||t[10]!==m?(p=s.jsxs(r("IGDSBox.react"),{alignItems:"end",direction:"row",children:[c,m]}),t[9]=c,t[10]=m,t[11]=p):p=t[11];var _;t[12]!==n||t[13]!==a?(_=s.jsx(r("IGDThreadSubTitle.react"),{isMobile:n,thread:a}),t[12]=n,t[13]=a,t[14]=_):_=t[14];var f;return t[15]!==p||t[16]!==_?(f=s.jsxs(r("IGDSBox.react"),{direction:"column",xstyle:u.threadTextWidth,children:[p,_]}),t[15]=p,t[16]=_,t[17]=f):f=t[17],f}l.default=c}),98);
__d("usePresenceUnifiedIsThreadActive",["FBLogger","I64","Int64Hooks","MWPActor.react","PresenceCommonPresenceCommonTypes","ReQL","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useState;function m(e){var t=r("useAsyncReStore")(),a=o("MWPActor.react").useActor(),i=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),l=o("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),u=d(!1),m=u[0],p=u[1],_=o("Int64Hooks").useCallbackInt64(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield t;return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.participants,["contactId"]).getKeyRange(e).filter(function(e){var t=e.contactId;return!(s||(s=o("I64"))).equal(t,a)}).map(function(e){var t=e.contactId;return(s||(s=o("I64"))).to_string(t)}))}),[a,t,e]);return c(function(){var e=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield _();l==null||l.addAdditionalContacts(e)});return function(){return e.apply(this,arguments)}})();r("promiseDone")(e())},[]),c(function(){var e=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==null){r("FBLogger")("messenger_presence_web").warn("usePresenceUnifiedIsThreadActive must have a backing PresenceUnifiedClient");return}var e=yield _(),t=e.some(function(e){var t;return((t=i.get(e))==null?void 0:t.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active});p(t)});return function(){return e.apply(this,arguments)}})();r("promiseDone")(e())},[_,l,i]),m}l.default=m}),98);