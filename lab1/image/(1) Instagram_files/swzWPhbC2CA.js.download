;/*FB_PKG_DELIM*/

__d("BadgeCheckmarkFilled12.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-98 -917)",children:s.jsx("path",{d:"m106.853 922.354-3.5 3.5a.499.499 0 0 1-.706 0l-1.5-1.5a.5.5 0 1 1 .706-.708l1.147 1.147 3.147-3.147a.5.5 0 1 1 .706.708m3.078 2.295-.589-1.149.588-1.15a.633.633 0 0 0-.219-.82l-1.085-.7-.065-1.287a.627.627 0 0 0-.6-.603l-1.29-.066-.703-1.087a.636.636 0 0 0-.82-.217l-1.148.588-1.15-.588a.631.631 0 0 0-.82.22l-.701 1.085-1.289.065a.626.626 0 0 0-.6.6l-.066 1.29-1.088.702a.634.634 0 0 0-.216.82l.588 1.149-.588 1.15a.632.632 0 0 0 .219.819l1.085.701.065 1.286c.014.33.274.59.6.604l1.29.065.703 1.088c.177.27.53.362.82.216l1.148-.588 1.15.589a.629.629 0 0 0 .82-.22l.701-1.085 1.286-.064a.627.627 0 0 0 .604-.601l.065-1.29 1.088-.703a.633.633 0 0 0 .216-.819"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("BladerunnerHandlersPresencePresenceHandlerTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("$InternalEnum"))({BuddyListPolling:1,AdditionalContactsPolling:2,Disabled:3,EnableRealtimeUpdatesOnly:4}),s=e({ThriftCompact:1,Json:2,Dasm:3}),u=e({Stream:1,Timed:2}),c=e({Full:1,Incremental:2}),d=e({AdditionalContacts:1,PollingMode:2,PresenceReporting:3,ContextualPresenceReporting:4}),m=e({AdditionalContacts:"additionalContacts",PollingModeAmendment:"pollingModeAmendment",PresenceReportingAmendment:"presenceReportingAmendment",ContextualPresenceReportingAmendment:"contextualPresenceReportingAmendment"});a.exports={LifecycleMode:u,PollingMode:l,PresenceAmendmentTypes:d,PresenceStreamAmendment$Types:m,PublishEncoding:s,PublishType:c}}),null);
__d("CometPageVerificationIcon.react",["fbt","BadgeCheckmarkFilled12.svg.react","FDSIcon.react","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={verifiedIconContainer:{display:"x3nfvp2",verticalAlign:"x11njtxf",$$css:!0}};function m(t){var n=t.isInverted,o=t.shouldMoveDown,a=t.size,i=t.verificationBadge,l=t.xstyle,u=null,m=r("BadgeCheckmarkFilled12.svg.react"),p=s._(/*BTDS*/"Verified account"),_=12;if(a==="large"?_=16:a==="xsmall"&&(_=10),n===!0)u=c.jsx(r("FDSIcon.react"),{alt:p,color:"white",icon:m,size:_});else switch(i){case"BLUE_VERIFIED":u=c.jsx(r("FDSIcon.react"),{alt:p,color:"highlight",icon:m,size:_});break;case"GRAY_VERIFIED":u=c.jsx(r("FDSIcon.react"),{alt:p,color:"secondary",icon:m,size:_});break}return u!=null?c.jsx("span",babelHelpers.extends({},(e||(e=r("stylex"))).props(l,d.verifiedIconContainer),{children:u})):null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("FDSTextWebUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null?void 0:e==="tertiary"?"tertiary":e}function l(e){return e==null?void 0:e==="tertiary"?"tertiary":e}function s(e){return e==null?void 0:e==="tertiary"?"tertiary":e}i.getFDSBodyColor=e,i.getFDSHeadlineColor=l,i.getFDSMetaColor=s}),66);
__d("IGDAiAgentsUtils",["I64","LSIntEnum","MessagingAttachmentType","MessagingThreadSubtype"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="656175869434325";function c(t){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").IG_AI_BOT_ONE_TO_ONE))}function d(t){var n=t.attachmentType,a=t.mustacheText;if(n==null||a==null)return!1;var i=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)),l=a!=null&&a!=="";return i&&l}function m(t){return t!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(u))}l.isAiThread=c,l.isGenAISticker=d,l.isMetaAiThread=m}),98);
__d("IGDComposerRichContentTray_AvatarAvailableQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25158406990458787"}),null);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://help.instagram.com/491565145294150/",u=s._(/*BTDS*/"Disappearing messages and calls are secured with end-to-end encryption.");l.LEARN_MORE_LINK=e,l.DM_SECURITY_NOTICE=u}),226);
__d("IGDInboxHeaderOffMsysContainer.react",["IGDSBox.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(2),n=e.children,a;return t[0]!==n?(a=s.jsx(r("IGDSBox.react"),{padding:o("PolarisUA").isMobile()?2:4,xstyle:u.root,children:s.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",minHeight:44,children:n})}),t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("IGDInboxInfoContextProvider",["$InternalEnum","LSSampleData","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useMemo,p=u.useState,_=n("$InternalEnum")({INBOX_INFO:"inbox_info",DISAPPEARING_MESSAGES:"disappearing_messages",ENCRYPTION_KEYS_MAIN:"encryption_keys_main",ENCRYPTIONS_KEYS_LIST:"encryption_keys_list",DEFAULT:"default"}),f=c({currentRoute:_.DEFAULT,goBack:function(){},goToRoute:function(){},routeParams:{contact:o("LSSampleData").contact,isViewer:!1},routes:[],setShouldShowInfo:function(){},shouldShowInfo:!1});function g(e){var t=o("react-compiler-runtime").c(17),n=e.children,r=e.initialRoute,a=p(r),i=a[0],l=a[1],u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[0]=u):u=t[0];var c=p(u),d=c[0],m=c[1],g;t[1]===Symbol.for("react.memo_cache_sentinel")?(g={contact:o("LSSampleData").contact,isViewer:!1},t[1]=g):g=t[1];var h=p(g),y=h[0],C=h[1],b=p(!1),v=b[0],S=b[1],R;t[2]!==i||t[3]!==d?(R=function(t,n){d.includes(t)||m([].concat(d,[i])),n&&C(n),l(t)},t[2]=i,t[3]=d,t[4]=R):R=t[4];var L=R,E;t[5]!==d?(E=function(){var e,t=[].concat(d),n=(e=t.pop())!=null?e:_.INBOX_INFO;m(t),l(n)},t[5]=d,t[6]=E):E=t[6];var k=E,I;t[7]!==i||t[8]!==k||t[9]!==L||t[10]!==y||t[11]!==d||t[12]!==v?(I={currentRoute:i,goBack:k,goToRoute:L,routeParams:y,routes:d,setShouldShowInfo:S,shouldShowInfo:v},t[7]=i,t[8]=k,t[9]=L,t[10]=y,t[11]=d,t[12]=v,t[13]=I):I=t[13];var T=I,D;return t[14]!==n||t[15]!==T?(D=s.jsx(f.Provider,{value:T,children:n}),t[14]=n,t[15]=T,t[16]=D):D=t[16],D}l.IGDInboxInfoRoute=_,l.IGDInboxInfoContext=f,l.IGDInboxInfoContextProvider=g}),98);
__d("IGDReplyContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useCallback,p=u.useContext,_=u.useMemo,f=u.useState,g=d({clearReply:r("emptyFunction"),setReply:r("emptyFunction")}),h=d();function y(e){var t=o("react-compiler-runtime").c(10),n=e.children,r=f(void 0),a=r[0],i=r[1],l;t[0]!==a?(l=function(){a!=null&&i()},t[0]=a,t[1]=l):l=t[1];var s=l,u;t[2]!==s?(u={clearReply:s,setReply:i},t[2]=s,t[3]=u):u=t[3];var d=u,m;t[4]!==n||t[5]!==d?(m=c.jsx(g.Provider,{value:d,children:n}),t[4]=n,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==a||t[8]!==m?(p=c.jsx(h.Provider,{value:a,children:m}),t[7]=a,t[8]=m,t[9]=p):p=t[9],p}function C(){return p(h)}function b(){return p(g)}l.IGDReplySetterContext=g,l.IGDReplyContext=h,l.IGDReplyContextProvider=y,l.useIGDReplyContext=C,l.useIGDReplySetterContext=b}),98);
__d("IGDSAlertOffNewPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M15.209 18.294a1 1 0 0 0-.707-.293H6.184a2.002 2.002 0 0 1-1.74-2.993l.47-.822a8.34 8.34 0 0 0 1.093-4.174c0-.159.005-.316.017-.471a1 1 0 1 0-1.994-.15 8.093 8.093 0 0 0-.023.63 6.341 6.341 0 0 1-.83 3.175l-.47.822a4.001 4.001 0 0 0 3.477 5.983h1.944a4 4 0 0 0 7.827-.382 1 1 0 0 0-.282-.86Zm-3.207 2.708a2 2 0 0 1-1.732-1.001h3.463a2.017 2.017 0 0 1-1.731 1.001Zm11.205.291-2.521-2.521a4.04 4.04 0 0 0 .976-1.629 3.957 3.957 0 0 0-.356-3.123l-.484-.853A6.358 6.358 0 0 1 20 9.997a7.953 7.953 0 0 0-4.745-7.302 3.972 3.972 0 0 0-6.51.002 8.011 8.011 0 0 0-2.438 1.697L2.707.793a1 1 0 0 0-1.414 1.414l20.5 20.5a1 1 0 0 0 1.414-1.414Zm-3.46-4.728a2.042 2.042 0 0 1-.468.8L7.72 5.805a6.004 6.004 0 0 1 2.068-1.377.998.998 0 0 0 .494-.426 1.976 1.976 0 0 1 3.439 0 1 1 0 0 0 .494.425 5.989 5.989 0 0 1 3.786 5.634 8.303 8.303 0 0 0 1.082 4.094l.483.852a1.975 1.975 0 0 1 .181 1.558Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSCircleXOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n,a,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("circle",{cx:"12",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"16.604",x2:"7.396",y1:"7.396",y2:"16.604"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"7.396",x2:"16.604",y1:"7.396",y2:"16.604"}),t[0]=n,t[1]=a,t[2]=i):(n=t[0],a=t[1],i=t[2]);var l;return t[3]!==e?(l=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i]})),t[3]=e,t[4]=l):l=t[4],l}var c=s.memo(u);l.default=c}),98);
__d("IGDSComposePanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n,a,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M12.202 3.203H5.25a3 3 0 0 0-3 3V18.75a3 3 0 0 0 3 3h12.547a3 3 0 0 0 3-3v-6.952",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("path",{d:"M10.002 17.226H6.774v-3.228L18.607 2.165a1.417 1.417 0 0 1 2.004 0l1.224 1.225a1.417 1.417 0 0 1 0 2.004Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"16.848",x2:"20.076",y1:"3.924",y2:"7.153"}),t[0]=n,t[1]=a,t[2]=i):(n=t[0],a=t[1],i=t[2]);var l;return t[3]!==e?(l=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i]})),t[3]=e,t[4]=l):l=t[4],l}var c=s.memo(u);l.default=c}),98);
__d("IGDSEmoji.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.emoji,r=e.fontSize,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a="x15yrdiy",t[0]=a):a=t[0];var i;t[1]!==r?(i=r!=null?{fontSize:r}:void 0,t[1]=r,t[2]=i):i=t[2];var l;return t[3]!==n||t[4]!==i?(l=s.jsx("span",{className:a,style:i,children:n}),t[3]=n,t[4]=i,t[5]=l):l=t[5],l}l.default=u}),98);
__d("IGDSGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M12.54 7c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3ZM8.5 23a1 1 0 0 1-.912-.59l-1.707-3.793a.992.992 0 0 0-.498-.498L1.59 16.412a1 1 0 0 1 0-1.824l3.793-1.707a.994.994 0 0 0 .498-.498L7.588 8.59a1 1 0 0 1 1.824 0l1.707 3.793a.99.99 0 0 0 .498.498l3.793 1.707a1 1 0 0 1 0 1.824l-3.793 1.707a.988.988 0 0 0-.498.498L9.412 22.41A1 1 0 0 1 8.5 23Zm13.344-9.572a1.15 1.15 0 0 1-.34-.052l-6.192-1.921a1.156 1.156 0 0 1-.441-1.95l4.76-4.402V5.1a1.157 1.157 0 0 1 1.909.594l1.432 6.323c.09.401-.04.824-.342 1.103a1.16 1.16 0 0 1-.786.306Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSectionHeader.react",["IGDSectionHeaderLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.children,r=e.endAdornment,a=e.isMobile,i=e.noBottomBorder,l=e.startAdornment,u=e.xstyle,c=i===void 0?!1:i,d;t[0]!==l?(d=l!=null?s.jsx(o("IGDSectionHeaderLayout.react").StartAdornment,{children:l}):null,t[0]=l,t[1]=d):d=t[1];var m=d,p;t[2]!==r?(p=r!=null?s.jsx(o("IGDSectionHeaderLayout.react").EndAdornment,{children:r}):null,t[2]=r,t[3]=p):p=t[3];var _=p,f;return t[4]!==n||t[5]!==_||t[6]!==a||t[7]!==c||t[8]!==m||t[9]!==u?(f=s.jsxs(o("IGDSectionHeaderLayout.react").Container,{isMobile:a,noBottomBorder:c,xstyle:u,children:[m,n,_]}),t[4]=n,t[5]=_,t[6]=a,t[7]=c,t[8]=m,t[9]=u,t[10]=f):f=t[10],f}l.default=u}),98);
__d("IGDThreadSnippetDot.react",["BaseMiddot.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.visible,a=n===void 0?!0:n,i;return t[0]!==a?(i=a?s.jsx("span",{className:"x1roi4f4 x2lah0s xdj266r x2fvf9 xat24cr xdwrcjd",children:s.jsx(r("BaseMiddot.react"),{})}):null,t[0]=a,t[1]=i):i=t[1],i}l.default=u}),98);
__d("IGDTypingIndicatorClientSubscription_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24482572748042449"}),null);
__d("IGDTypingIndicatorClientSubscription.graphql",["IGDTypingIndicatorClientSubscription_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input_data"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input_data"}],concreteType:"XDTDirectRealtimeEventResponse",kind:"LinkedField",name:"xdt_direct_realtime_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},{alias:null,args:null,concreteType:"XDTDirectRealtimeOperation",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"op",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDTypingIndicatorClientSubscription",selections:t,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDTypingIndicatorClientSubscription",selections:t},params:{id:n("IGDTypingIndicatorClientSubscription_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_direct_realtime_event"],subscriptionName:"xdt_direct_realtime_event"},name:"IGDTypingIndicatorClientSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("IGDTypingIndicatorTransformer",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,o,a=e==null||(t=e.xdt_direct_realtime_event)==null||(t=t.data)==null?void 0:t[0],i=(n=a==null?void 0:a.path)!=null?n:"",l=(o=a==null?void 0:a.value)!=null?o:"{}";try{var s=JSON.parse(l,function(e,t){if(e==="sender_id"&&typeof t=="number"){var n=/\"sender_id\":(\d+)/,r=l.match(n);return r?r[1]:null}return t}),u=/threads\/(\d+)\/activity_indicator_id/,c=i.match(u),d=c?c[1]:null,m=Math.floor(Number(s.timestamp)/1e3);if(d!=null)return{activityStatus:s.activity_status,senderIgId:s.sender_id,threadIgId:d,timestamp:m,ttl:s.ttl}}catch(e){r("FBLogger")("igd_web").catching(e instanceof Error?e:new Error(String(e))).warn("IGD typing indicator: typing event could not be parsed")}return null}l.transformIGDTypingPayload=e}),98);
__d("IGDTypingIndicatorTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({TYPING:1,STOPPED_TYPING:0}),l=1e3,s=11e3;i.IGDTypingStatus=e,i.ONE_SECOND_IN_MILLISECONDS=l,i.IGD_WEB_TYPING_INDICATOR_TTL=s}),66);
__d("IGDTypingIndicatorClient",["CometRelay","FBLogger","IGDTypingIndicatorClientSubscription.graphql","IGDTypingIndicatorTransformer","IGDTypingIndicatorTypes","clearInterval","setInterval","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("IGDTypingIndicatorClientSubscription.graphql"),u=(function(){function e(e,t){this.$3=new Map,this.$4=new Map,this.$5=new Map,this.$6=null,this.$1=e,this.$2=t}var t=e.prototype;return t.cleanup=function(){var e;(e=this.$6)==null||e.dispose(),this.$6=null;for(var t of this.$4.values())r("clearInterval")(t);this.$4.clear(),this.$3.clear(),this.$7()},t.$7=function(){for(var e of this.$5.values()){var t=e.listener,n=e.threadIgId;t(this.getTypingEvents(n))}},t.$8=function(t){for(var e of this.$5.values()){var n=e.listener,r=e.threadIgId;t===r&&n(this.getTypingEvents(r))}},t.$9=function(t,n,a){var e=this;a===void 0&&(a=o("IGDTypingIndicatorTypes").IGD_WEB_TYPING_INDICATOR_TTL),this.$10(t,n);var i=t+":"+n;this.$4.set(i,r("setInterval")(function(){e.removeTypingEvent(t,n)},a))},t.$10=function(t,n){var e=t+":"+n,o=this.$4.get(e);o!=null&&(r("clearInterval")(o),this.$4.delete(e))},t.$11=function(t){var e=t.activityStatus,n=t.senderIgId,r=t.threadIgId;e:{if(e===o("IGDTypingIndicatorTypes").IGDTypingStatus.TYPING){this.addTypingEvent(r,n,t);break e}if(e===o("IGDTypingIndicatorTypes").IGDTypingStatus.STOPPED_TYPING){this.removeTypingEvent(r,n);break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)}},t.setupRealtimeSubscription=function(){var e=this;this.$6==null&&(this.$6=o("CometRelay").requestSubscription(this.$1,{onError:function(t){r("FBLogger")("igd_web").catching(t).warn("IGD typing indicator: Error with subscription setup")},onNext:function(n){if(n!=null){var t=o("IGDTypingIndicatorTransformer").transformIGDTypingPayload(n);t!=null&&e.$11(t)}},subscription:s,variables:{input_data:{user_id:this.$2}}}))},t.getTypingEvents=function(t){var e;return(e=this.$3.get(t))!=null?e:[]},t.getTypingEventIntervals_FOR_TESTING_ONLY=function(){return Array.from(this.$4.values())},t.getTypingEventInterval_FOR_TESTING_ONLY=function(t,n){return this.$4.get(t+":"+n)},t.addTypingEvent=function(t,n,r){var e=this.getTypingEvents(t).filter(function(e){return e.senderIgId!==n});this.$3.set(t,[].concat(e,[r])),this.$9(t,n),this.$8(t)},t.removeTypingEvent=function(t,n){var e=this.getTypingEvents(t),r=e.filter(function(e){return e.senderIgId!==n});e.length!==r.length&&(this.$3.set(t,r),this.$10(t,n),this.$8(t))},t.registerListener=function(t,n){var e=this,o=r("uuidv4")();return this.$5.set(o,{listener:n,threadIgId:t}),function(){e.$5.delete(o)}},e})();l.IGDTypingIndicatorClient=u}),98);
__d("IGDTypingIndicatorClientContextProvider",["IGDTypingIndicatorClient","PolarisViewer","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useEffect,p=u.useMemo,_=c(null);function f(e){var t=o("react-compiler-runtime").c(8),n=e.children,a=o("RelayHooks").useRelayEnvironment(),i;if(t[0]!==a){var l;i=new(o("IGDTypingIndicatorClient")).IGDTypingIndicatorClient(a,(l=r("PolarisViewer").id)!=null?l:""),t[0]=a,t[1]=i}else i=t[1];var u=i,c,d;t[2]!==u?(c=function(){return u==null||u.setupRealtimeSubscription(),(function(){u==null||u.cleanup()})},d=[u],t[2]=u,t[3]=c,t[4]=d):(c=t[3],d=t[4]),m(c,d);var p;return t[5]!==n||t[6]!==u?(p=s.jsx(_.Provider,{value:u,children:n}),t[5]=n,t[6]=u,t[7]=p):p=t[7],p}function g(){return d(_)}l.IGDTypingIndicatorClientContext=_,l.IGDTypingIndicatorClientContextProvider=f,l.useIGDTypingIndicatorClientContext=g}),98);
__d("IGDWellbeingWarningStorageKey",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"__IGRestrictedUserDialog."+e+"__"}function l(e){return"__IGBlockedUserDialog."+e+"__"}i.getIGDRestrictedIGUserWarningStorageKey=e,i.getIGDBlockedIGUserWarningStorageKey=l}),66);
__d("usePresenceUnifiedClientContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d=u(null);function m(){return c(d)}l.PresenceUnifiedClientContext=d,l.usePresenceUnifiedClientContext=m}),98);
__d("usePresenceUnifiedMapContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d=u(new Map);function m(){return c(d)}l.PresenceUnifiedMapContext=d,l.usePresenceUnifiedMapContext=m}),98);
__d("IGPresenceUnifiedContext.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","deferredLoadComponent","react","requireDeferred","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m=r("deferredLoadComponent")(r("requireDeferred")("IGPresenceUnifiedSetup.react").__setRef("IGPresenceUnifiedContext.react"));function p(e){var t=e.children,n=e.client,a=e.presenceSetupQueryRef,l=d(new Map),u=l[0],p=l[1];return c(function(){return n.registerListener(function(e){p(new Map(e))})},[n]),s.jsx(o("usePresenceUnifiedClientContext").PresenceUnifiedClientContext.Provider,{value:n,children:s.jsxs(o("usePresenceUnifiedMapContext").PresenceUnifiedMapContext.Provider,{value:u,children:[s.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:s.jsx(r("CometErrorBoundary.react"),{fallback:function(){return s.jsx("span",{})},children:s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(m,{client:n,presenceSetupQueryRef:a})})})}),t]})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.contact,n=e.icon,a=e.size,i=o("LSContactBitOffset").has(23,t);return i?n!=null?s.jsx("span",{className:"xmzvs34",children:n}):a!=null?s.jsx("span",{className:"xmzvs34",children:s.jsx(r("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})}):null:null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[2]=t.i64.eq(e[2],t.i64.cast([-1,4294967295]))?t.i64.cast([0,0]):e[2],t.islc(t.filter(t.db.table(13).fetchDesc([[[e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&(t.i64.eq(n.minTimestampMs,void 0)||t.i64.le(n.minTimestampMs,e[1]))}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(o,a){var i=o.done,l=o.value;return i?r[0]=!1:(a=l.item,t.sequence([function(o){return r[5]=a.threadKey,r[6]=t.i64.cast([0,0]),r[7]=a.minTimestampMs,r[8]=a.minMessageId,t.i64.eq(r[2],t.i64.cast([0,1]))?r[3]=!a.isLoadingAfter:r[3]=!a.isLoadingBefore,r[3]?t.sequence([function(o){return t.i64.eq(r[2],t.i64.cast([0,1]))?r[9]=a.hasMoreAfter:r[9]=a.hasMoreBefore,r[9]?t.sequence([function(e){return t.i64.eq(r[2],t.i64.cast([0,1]))?t.sequence([function(e){return t.forEach(t.filter(t.db.table(13).fetch([[[r[5],r[7],r[8]]]]),function(e){return t.i64.eq(e.threadKey,r[5])&&t.i64.eq(t.i64.cast([0,0]),r[6])&&t.i64.eq(e.minTimestampMs,r[7])&&e.minMessageId===r[8]}),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!0})})},function(e){var t;return t=[a.maxTimestampMs,a.maxMessageId],r[10]=t[0],r[11]=t[1],t}]):t.sequence([function(e){return t.forEach(t.filter(t.db.table(13).fetch([[[r[5],r[7],r[8]]]]),function(e){return t.i64.eq(e.threadKey,r[5])&&t.i64.eq(t.i64.cast([0,0]),r[6])&&t.i64.eq(e.minTimestampMs,r[7])&&e.minMessageId===r[8]}),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!0})})},function(e){var t;return t=[r[7],r[8]],r[10]=t[0],r[11]=t[1],t}])},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[12]=t.i64.cast([0,1]):(n=a.item,r[19]=n.syncGroup,t.i64.neq(r[19],void 0)?r[18]=r[19]:r[18]=t.i64.cast([0,1]),r[12]=r[18])})},function(e){return t.storedProcedure(n("LSGetCursor"),r[12]).then(function(e){var t;return t=e,r[14]=t[0],t})},function(o){return r[15]=new t.Map,r[15].set("thread_key",e[0]),r[15].set("direction",r[2]),r[15].set("reference_timestamp_ms",r[10]),r[15].set("reference_message_id",r[11]),r[15].set("sync_group",r[12]),r[15].set("cursor",r[14]),r[16]=r[15].get("thread_key"),r[17]=t.toJSON(r[15]),t.storedProcedure(n("LSIssueNewTask"),"mrq.{}".split("{}").join(t.i64.to_string(r[16])),t.i64.cast([0,228]),r[17],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.resolve()},function(e){return r[4]=!0}]):t.resolve(r[4]=!1)},function(e){return r[0]=r[4]}]))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure",e.__tables__=["messages_ranges_v2__generated","threads"],a.exports=e}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueMessagesRangeQuery"),a.threadKey,a.referenceTimestampMs,a.direction);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(t,n,r,o,a,i){var e=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});i.default=e}),66);
__d("LSThreadsRangesQueryStoredProcedure",["LSSynchronousPromise","LSThreadsRangesQuery","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadsRangesQuery"),a.parentThreadKey,a.isLoadingBefore,a.isLoadingAfter,a.minThreadKey,a.maxThreadKey,a.maxLastActivityTimestampMs,a.minLastActivityTimestampMs,a.additionalPagesToFetch,a.shouldSkipE2eeThreadsRanges);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(r){return t.storedProcedure(n("LSVerifyThreadExistsV2"),e[0],e[1],e[2],e[3],e[4],!1,e[5],!1,!1)},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadExistsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(r){return t.storedProcedure(n("LSVerifyThreadExists"),e[0],e[1]==null?t.i64.cast([0,1]):e[1],"inbox",t.i64.cast([0,0]),t.i64.cast([0,40])==null?t.i64.cast([0,40]):t.i64.cast([0,40]),e[2])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadRowExistsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExists","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyThreadRowExists"),a.threadKey,a.threadType,a.syncGroup);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWChatSearchResultType",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({GROUP:"group",MESSAGE:"message",PAGE:"page",USER:"user",AI_BOT:"ai_bot"}),l=e;i.default=l}),66);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i){var l=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());return o("MWChatInteraction").set(n,l),a!=null&&((e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessagingInitiatingSource").FACEBOOK_CHAT))?t.addMetadata("entrypoint","chat"):(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&t.addMetadata("entrypoint","inbox")),t.addMetadata("mw_version",(e||(e=o("I64"))).to_string(i)),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.startHeroInteractionTrace=u}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWPContactContext.react","ReQL","ReQLSuspense","mwCMIsCMSubthread","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useMemo;function p(t){var n=t.children,a=t.contactId,l=(e||(e=r("useReStore")))(),u=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(a)},[l,a],i.id+":51"),c=m(function(){var e=void 0;return{contact:u,nickname:e}},[u]);return o("Int64Hooks").useEffectInt64(function(){r("promiseDone")(l.runInTransaction(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(e),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,i.id+":65"))},[l,a]),d.jsx(o("MWPContactContext.react").MWPContactContextProvider,{contact:c.contact,nickname:c.nickname,children:n})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.children,n=e.contact,r=e.nickname,a=m(function(){return{contact:n,nickname:r}},[n,r]);return d.jsx(o("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(t){var n,a=t.children,l=t.contactId,c=t.threadKey,m=(e||(e=r("useReStore")))(),f=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(l)},[l,m],i.id+":126"),g=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(m.tables.participants,["nickname"]).getKeyRange(c,l)},[l,m,c],i.id+":130"))==null?void 0:n.nickname,h=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(m.tables.threads,["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(c).map(function(e){var t=e.parentThreadKey,n=e.secondaryParentThreadKey,a=e.threadType,s=o("ReQLSuspense").first(o("ReQL").fromTableAscending(m.tables.contextual_profile_v1,["profileName"]).getKeyRange(l,r("mwCMIsCMSubthread")(a)&&n!=null?n:t),i.id+":155");return s==null?void 0:s.profileName})},[m,c,l],i.id+":146"),y=h!=null?h:g;return f!=null?(u||(u=o("I64"))).ge(f.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))?d.jsx(_,{contact:f,nickname:y,children:a}):d.jsx(p,{contactId:l,children:a}):d.jsx(p,{contactId:l,children:a})}f.displayName=f.name+" [from "+i.id+"]";var g=d.memo(f,function(e,t){return e!=null&&t!=null&&(u||(u=o("I64"))).equal(e.contactId,t.contactId)&&(u||(u=o("I64"))).equal(e.threadKey,t.threadKey)?e.children===t.children:!1});function h(){var e=o("MWPContactContext.react").useMWPContactStableContext(),t=e.authorName;return[t]}function y(){var e=o("MWPContactContext.react").useMWPContactFullContext(),t=e.contact,n=t!=null?t.name:void 0;return[n,t]}l.MissingContactProvider=p,l.Provider=_,l.MWPMessageAuthor=g,l.useAuthorName=h,l.useAuthorFullName=y}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useMemo,f=c.useState,g={setVisibleMessage:r("emptyFunction"),visibleMessage:void 0},h=d(g);function y(t){var n,a=t.children,l=f(),s=l[0],c=l[1],d=(e||(e=r("useReStore")))(),m=s==null?void 0:s.messageOtid,g=s==null?void 0:s.messageId,y=(n=o("ReQLSuspense").useFirst(function(){return m!=null?o("ReQL").fromTableAscending(d.tables.messages.index("optimistic")).getKeyRange(m):o("ReQL").empty()},[d,m],i.id+":65"))==null?void 0:n.messageId;p(function(){y!=null&&g==null&&c(function(e){return e==null?null:babelHelpers.extends({},e,{messageId:y})})},[c,g,y]);var C=_(function(){return{setVisibleMessage:c,visibleMessage:s}},[s,c]);return u.jsx(h.Provider,{value:C,children:a})}y.displayName=y.name+" [from "+i.id+"]";function C(){return m(h)}l.MWPVisibleMessageContext=h,l.MWPVisibleMessageContextProvider=y,l.useMWPVisibleMessageContext=C}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MDSSolidMessageBubble.react")}),98);
__d("MWXTooltip.react",["cr:8602","cr:998","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["label"],s,u=s||(s=o("react"));function c(e){return e.label!==void 0}function d(t){var r=c(t)?t.label:t.tooltip,o=t.label,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:998")!=null?u.jsx(n("cr:998"),babelHelpers.extends({label:r},a)):n("cr:8602")!=null?u.jsx(n("cr:8602"),babelHelpers.extends({},a)):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MqttBypassClientDataModelsTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Unknown:0,Timeout:1}),l=n("$InternalEnum")({ConnectRequest:"connectRequest",PublishRequest:"publishRequest",SubscribeRequest:"subscribeRequest",UnsubscribeRequest:"unsubscribeRequest"}),s=n("$InternalEnum")({PublishResponse:"publishResponse",ErrorResponse:"errorResponse"});a.exports={ErrorCode:e,RequestPayload$Types:l,ResponsePayload$Types:s}}),null);
__d("MqttBypassClientDataModelsSerializers",["MqttBypassClientDataModelsTypes","ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{sessionId:"0",clientCapabilities:"0",userAgent:"",deviceId:"",familyDeviceId:"",subscription:d()}}function u(){return{payload:Uint8Array.of(),mqttTopic:""}}function c(){return{payload:Uint8Array.of(),mqttTopic:""}}function d(){return{topics:[]}}function m(){return{topics:[]}}function p(){return{code:o("MqttBypassClientDataModelsTypes").ErrorCode.cast(0),message:""}}function _(){return{}}function f(){return{}}function g(t,n){if(n.writeStructBegin("ConnectRequest"),n.writeFieldBegin({fname:"sessionId",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.sessionId!=null)n.writeI64(BigInt(t.sessionId));else{var o="0";n.writeI64(BigInt(o))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"clientCapabilities",ftype:e.I64,fid:2}),t.clientCapabilities!=null)n.writeI64(BigInt(t.clientCapabilities));else{var a="0";n.writeI64(BigInt(a))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"userAgent",ftype:e.STRING,fid:3}),t.userAgent!=null)n.writeString(t.userAgent);else{var i="";n.writeString(i)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"deviceId",ftype:e.STRING,fid:4}),t.deviceId!=null)n.writeString(t.deviceId);else{var l="";n.writeString(l)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"familyDeviceId",ftype:e.STRING,fid:5}),t.familyDeviceId!=null)n.writeString(t.familyDeviceId);else{var s="";n.writeString(s)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"subscription",ftype:e.STRUCT,fid:6}),t.subscription!=null)C(t.subscription,n);else{var u=d();C(u,n)}if(n.writeFieldEnd(),t.appSpecificInfo!=null&&(n.writeFieldBegin({fname:"appSpecificInfo",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:7}),n.writeString(t.appSpecificInfo),n.writeFieldEnd()),t.publishes!=null){n.writeFieldBegin({fname:"publishes",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:8}),n.writeListBegin({etype:e.STRUCT,size:t.publishes.length});for(var c of t.publishes)h(c,n);n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function h(t,n){if(n.writeStructBegin("PublishRequest"),n.writeFieldBegin({fname:"payload",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.payload!=null)n.writeBinary(t.payload);else{var o=Uint8Array.of();n.writeBinary(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"mqttTopic",ftype:e.STRING,fid:2}),t.mqttTopic!=null)n.writeString(t.mqttTopic);else{var a="";n.writeString(a)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function y(t,n){if(n.writeStructBegin("PublishResponse"),n.writeFieldBegin({fname:"payload",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.payload!=null)n.writeBinary(t.payload);else{var o=Uint8Array.of();n.writeBinary(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"mqttTopic",ftype:e.STRING,fid:2}),t.mqttTopic!=null)n.writeString(t.mqttTopic);else{var a="";n.writeString(a)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("SubscribeRequest"),n.writeFieldBegin({fname:"topics",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:1}),t.topics!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:t.topics.length});for(var o of t.topics)n.writeString(o);n.writeListEnd()}else{var a=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:a.length});for(var i of a)n.writeString(i);n.writeListEnd()}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function b(t,n){if(n.writeStructBegin("UnsubscribeRequest"),n.writeFieldBegin({fname:"topics",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:1}),t.topics!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:t.topics.length});for(var o of t.topics)n.writeString(o);n.writeListEnd()}else{var a=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:a.length});for(var i of a)n.writeString(i);n.writeListEnd()}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function v(t,n){if(n.writeStructBegin("ErrorResponse"),n.writeFieldBegin({fname:"code",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),t.code!=null){var a;n.writeI32((a=t.code)!=null?a:0)}else{var i=o("MqttBypassClientDataModelsTypes").ErrorCode.cast(0);n.writeI32(i!=null?i:0)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"message",ftype:e.STRING,fid:2}),t.message!=null)n.writeString(t.message);else{var l="";n.writeString(l)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function S(t,n){if(n.writeStructBegin("RequestPayload"),t.connectRequest!=null){n.writeFieldBegin({fname:"connectRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),g(t.connectRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.publishRequest!=null){n.writeFieldBegin({fname:"publishRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),h(t.publishRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.subscribeRequest!=null){n.writeFieldBegin({fname:"subscribeRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),C(t.subscribeRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.unsubscribeRequest!=null){n.writeFieldBegin({fname:"unsubscribeRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),b(t.unsubscribeRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function R(t,n){if(n.writeStructBegin("ResponsePayload"),t.publishResponse!=null){n.writeFieldBegin({fname:"publishResponse",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),y(t.publishResponse,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.errorResponse!=null){n.writeFieldBegin({fname:"errorResponse",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),v(t.errorResponse,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function L(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.sessionId=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.clientCapabilities=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.userAgent=t.readString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).STRING?n.deviceId=t.readString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).STRING?n.familyDeviceId=t.readString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).STRUCT?n.subscription=I(t):t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).STRING?n.appSpecificInfo=t.readString():t.skip(a);break;case 8:if(a===(e||(e=r("ThriftTypes"))).LIST){n.publishes=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=E(t);n.publishes.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.sessionId===void 0&&(n.sessionId="0"),n.clientCapabilities===void 0&&(n.clientCapabilities="0"),n.userAgent===void 0&&(n.userAgent=""),n.deviceId===void 0&&(n.deviceId=""),n.familyDeviceId===void 0&&(n.familyDeviceId=""),n.subscription===void 0&&(n.subscription=d()),n}function E(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.payload=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.mqttTopic=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.payload===void 0&&(n.payload=Uint8Array.of()),n.mqttTopic===void 0&&(n.mqttTopic=""),n}function k(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.payload=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.mqttTopic=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.payload===void 0&&(n.payload=Uint8Array.of()),n.mqttTopic===void 0&&(n.mqttTopic=""),n}function I(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:if(a===(e||(e=r("ThriftTypes"))).LIST){n.topics=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readString();n.topics.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.topics===void 0&&(n.topics=[]),n}function T(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:if(a===(e||(e=r("ThriftTypes"))).LIST){n.topics=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readString();n.topics.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.topics===void 0&&(n.topics=[]),n}function D(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I32?n.code=o("MqttBypassClientDataModelsTypes").ErrorCode.cast(t.readI32()):t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.code===void 0&&(n.code=o("MqttBypassClientDataModelsTypes").ErrorCode.cast(0)),n.message===void 0&&(n.message=""),n}function x(t){var n,o={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.connectRequest=L(t),n="connectRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: connectRequest, previous deserialized field: "+n);else t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.publishRequest=E(t),n="publishRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: publishRequest, previous deserialized field: "+n);else t.skip(i);break;case 3:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.subscribeRequest=I(t),n="subscribeRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: subscribeRequest, previous deserialized field: "+n);else t.skip(i);break;case 4:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.unsubscribeRequest=T(t),n="unsubscribeRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: unsubscribeRequest, previous deserialized field: "+n);else t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),o}function $(t){var n,o={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.publishResponse=k(t),n="publishResponse";else throw new Error("more than one field have been deserialized in union type: ResponsePayload; current field: publishResponse, previous deserialized field: "+n);else t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.errorResponse=D(t),n="errorResponse";else throw new Error("more than one field have been deserialized in union type: ResponsePayload; current field: errorResponse, previous deserialized field: "+n);else t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),o}l.ConnectRequest$DefaultConstructor=s,l.PublishRequest$DefaultConstructor=u,l.PublishResponse$DefaultConstructor=c,l.SubscribeRequest$DefaultConstructor=d,l.UnsubscribeRequest$DefaultConstructor=m,l.ErrorResponse$DefaultConstructor=p,l.RequestPayload$DefaultConstructor=_,l.ResponsePayload$DefaultConstructor=f,l.serializeConnectRequest=g,l.serializePublishRequest=h,l.serializePublishResponse=y,l.serializeSubscribeRequest=C,l.serializeUnsubscribeRequest=b,l.serializeErrorResponse=v,l.serializeRequestPayload=S,l.serializeResponsePayload=R,l.deserializeConnectRequest=L,l.deserializePublishRequest=E,l.deserializePublishResponse=k,l.deserializeSubscribeRequest=I,l.deserializeUnsubscribeRequest=T,l.deserializeErrorResponse=D,l.deserializeRequestPayload=x,l.deserializeResponsePayload=$}),98);
__d("MqttBypassDGWClient",["ChannelClientID","CompactSerializer","DGWClient","DGWStream","DGWStreamGroupCallbacks","DGWStreamGroupHandler","DGWStreamHandler","LSPlatformDGWHostnameOverride","MqttBypassClientDataModelsSerializers","Promise","asyncToGeneratorRuntime","err","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=1.2,u=1e4,c=(function(){function t(){this.$4=0,this.$5="Disconnected",this.$6=new Set,this.$1=new Map,this.$1.set("/ig_send_message_response",function(e){}),this.$8()}t.getInstance=function(){return t.$7};var a=t.prototype;return a.addHook=function(t){},a.removeHook=function(t){},a.getConnectionState=function(){return this.$5},a.subscribeStateChange=function(t){var e=this;return this.$6.add(t),function(){e.$6.delete(t)}},a.$9=function(t){if(this.$5!==t){this.$5=t;for(var e of this.$6)e()}},a.subscribe=function(t,n){return this.$1.set(t,function(e){n(new TextDecoder().decode(e))}),function(){}},a.publish=function(t,n,r){return this.send(t,new TextEncoder().encode(n)).then(function(){})},a.$8=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(this.$3)return(e||(e=n("Promise"))).resolve(this.$3);this.$9("Connecting");var t=this.$2;t||(t=r("DGWClient")().createStreamGroup(this.$10(),{serviceId:"mqttbypass",streamGroupAppHeaders:{}})),this.$2=t;var a=Array.from(this.$1.keys()),i=o("MqttBypassClientDataModelsSerializers").ConnectRequest$DefaultConstructor();i.subscription={topics:a},i.deviceId=r("ChannelClientID").getID();var l={connectRequest:i},s=o("CompactSerializer").serializeNoThrow(l,o("MqttBypassClientDataModelsSerializers").serializeRequestPayload);try{var u={};o("LSPlatformDGWHostnameOverride").useHostNameOverride&&o("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(u["www-sandbox"]=o("LSPlatformDGWHostnameOverride").hostNameOverride);var c=yield t.establishStream({groupedStreamHeaders:u},this.$11(),s!=null?s:new Uint8Array(0));return this.$3=c,this.$4=0,this.$9("Connected"),(e||(e=n("Promise"))).resolve(c)}catch(e){return this.$12("failed to create stream: "+e)}});function a(){return t.apply(this,arguments)}return a})(),a.send=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){i===void 0&&(i=!0);try{var l,s=yield(e||(e=n("Promise"))).race([this.$8(),new e(function(e,t){return r("setTimeout")(function(){return t(r("err")("dgw send timeout"))},u)})]);if(s===null)return(e||(e=n("Promise"))).resolve(!1);var c=(l=o("CompactSerializer").serializeNoThrow({publishRequest:{payload:a,mqttTopic:t}},o("MqttBypassClientDataModelsSerializers").serializeRequestPayload))!=null?l:new Uint8Array(0);if(i)return s==null?void 0:s.send(c);var d;return(d=s==null?void 0:s.sendAndForget(c))!=null?d:!1}catch(t){return(e||(e=n("Promise"))).resolve(!1)}});function a(e,n,r){return t.apply(this,arguments)}return a})(),a.sendAndForget=function(t,n){var e,r,a,i=(e=o("CompactSerializer").serializeNoThrow({publishRequest:{payload:n,mqttTopic:t}},o("MqttBypassClientDataModelsSerializers").serializeRequestPayload))!=null?e:new Uint8Array(0);return(r=(a=this.$3)==null?void 0:a.sendAndForget(i))!=null?r:!1},a.$13=function(t,n){n===void 0&&(n=!0),n&&this.$12(t)},a.$12=function(o){var t,a,i=this;return(t=this.$3)==null||t.close(),(a=this.$2)==null||a.close(),this.$3=null,this.$2=null,this.$9("Disconnected"),this.$4++,new(e||(e=n("Promise")))(function(e){return r("setTimeout")(function(){return i.$8()},1e3*(i.$4*s))})},a.$10=function(){var e=this;return new(r("DGWStreamGroupHandler"))(function(t){e.$13("onStreamGroupError: "+String(t),o("DGWStreamGroupCallbacks").isRetryableError(t))},function(t){e.$13("onStreamGroupMustDrain: "+String(t))},function(){e.$13("onStreamGroupTransportClose")})},a.$11=function(){var e=this;return new(r("DGWStreamHandler"))(function(e){},function(t){var n=o("CompactSerializer").deserializeNoThrow(t,o("MqttBypassClientDataModelsSerializers").deserializeResponsePayload);if(n!=null&&n.publishResponse){var r=n==null?void 0:n.publishResponse.mqttTopic,a=n==null?void 0:n.publishResponse.payload,i=e.$1.get(r);i!=null&&i(a)}},function(t){e.$13("onError: "+String(t),o("DGWStream").isRetryableError(t))},function(t){e.$13("onServerHasFinishedSendingData")},function(t,n){e.$13("onStreamMustDrain: "+String(n))})},t})();c.$7=new c,l.default=c}),98);
__d("PresenceCapabilityBit",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("I64"))).of_float(2),u=e.of_float(8),c=e.of_float(268435456);function d(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e||(e=o("I64"))).to_string(n.reduce(function(t,n){return(e||(e=o("I64"))).or_(t,n)},e.zero))}l.VoiceIpEnabled=s,l.WebrtcEnabled=u,l.ReceivePublishWithEIMUID=c,l.combine=d}),98);
__d("PresenceCommonPresenceCommonTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Active:2,Inactive:0}),l=n("$InternalEnum")({Facebook:1,Messenger:2,Instagram:3,Threads:4}),s=n("$InternalEnum")({StreamControllerConnectionIds:"streamControllerConnectionIds"});a.exports={AppFamily:l,PresenceStatus:e,StreamControllerSessionId$Types:s}}),null);
__d("PresenceUnifiedClient",["BladerunnerHandlersPresencePresenceHandlerTypes","FBLogger","Promise","RealtimeNexusSessionDataTypes","RequestStreamCommonRequestStreamCommonTypes","asyncToGeneratorRuntime","clearInterval","debounce","getErrorSafe","gkx","promiseDone","requireDeferred","setInterval","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("TransportSelectingClientSingleton").__setRef("PresenceUnifiedClient"),u=2.5*60*1e3,c=1e3,d=(function(){function t(e){var t=this,n;this.$1=r("gkx")("9391"),this.$2=!1,this.$3=new Map,this.$8=new Map,this.$9=o("RealtimeNexusSessionDataTypes").PresenceAvailability.IDLE,this.$10=new Set,this.$20=r("debounce")(function(){return t.$18()},c),this.$4=e,this.$11=(n=e.presenceReportingRequest)==null?void 0:n.capabilities}var a=t.prototype;return a.$12=function(){this.$3.clear(),this.$13(),this.$5=null,r("clearInterval")(this.$7),this.$2=!1},a.$14=function(t){this.$1&&r("FBLogger")("rti_presence").info("Presence stream status update: %s",Number(t)),this.$6=t,t===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&r("promiseDone")(this.reportUserPresence(this.$9))},a.$15=function(t){this.$1&&r("FBLogger")("rti_presence").debug(t)},a.$16=function(t){this.$1&&r("FBLogger")("rti_presence").catching(t).info("Presence stream: stream terminated"),this.$12()},a.$17=function(t){var e=this;try{var n=JSON.parse(t);this.$1&&r("FBLogger")("rti_presence").debug("Presence stream map updated: %s",JSON.stringify(n.presenceUpdates.map(function(e){var t=e.userId,n=e.presenceStatus;return{id:t,ps:n}})).trim()),n.publishType===o("BladerunnerHandlersPresencePresenceHandlerTypes").PublishType.Full&&this.$3.clear(),n.presenceUpdates.forEach(function(t){e.$3.set(t.userId,t)}),this.$13()}catch(e){this.$1&&r("FBLogger")("rti_presence").catching(r("getErrorSafe")(e)).info("Presence stream: Presence publish could not be parsed");return}},a.$13=function(){for(var e of this.$8.values())e(this.$3)},a.startAdditionalContactsPolling=function(){var e=this;r("clearInterval")(this.$7),this.$7=r("setInterval")(function(){r("promiseDone")(e.$18())},u)},a.stopAdditionalContactsPolling=function(){r("clearInterval")(this.$7)},a.$19=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this.$5;if(t==null)return this.$1&&r("FBLogger")("rti_presence").info("Presence: stream: You cannot ammend a stream that is not open"),!1;e.presenceReportingAmendment!=null&&(e.presenceReportingAmendment.reportingArguments.capabilities=this.$11);var n={payload:babelHelpers.extends({},e)};try{return yield t.amendWithAck(JSON.stringify(n))}catch(e){return this.$1&&r("FBLogger")("rti_presence").catching(r("getErrorSafe")(e)).info("Presence: stream: Failed to amend stream with ack"),!1}});function t(t){return e.apply(this,arguments)}return t})(),a.$18=function(){var t=Array.from(this.$10);if(this.$1&&r("FBLogger")("rti_presence").info("Presence: stream: requestAdditonalContactsPresence %s",JSON.stringify(t)),t.length===0)return(e||(e=n("Promise"))).resolve(!0);var o={additionalContacts:t};return this.$19({additionalContacts:o})},a.closeStream=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{this.$5!=null&&(yield this.$5.cancel())}catch(e){this.$1&&r("FBLogger")("rti_presence").catching(r("getErrorSafe")(e)).info("Presence stream: error while closing stream")}finally{this.$12()}});function t(){return e.apply(this,arguments)}return t})(),a.startStream=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this;if(!(this.$2===!0||this.$5!=null)){var t={method:"PresenceUnifiedJSON"};this.$2=!0;var n=JSON.stringify(babelHelpers.extends({},this.$4,{publishEncoding:o("BladerunnerHandlersPresencePresenceHandlerTypes").PublishEncoding.Json}));try{var a=yield s.load();this.$5=yield a.requestStream(t,n,{onData:function(n){return e.$17(n)},onFlowStatus:function(n){return e.$14(n)},onLog:function(n){return e.$15(n)},onTermination:function(n){return e.$16(n)}})}catch(e){this.$1&&r("FBLogger")("rti_presence").catching(r("getErrorSafe")(e)).warn("Presence: stream: Failed to start presence stream")}finally{this.$2=!1}}});function t(){return e.apply(this,arguments)}return t})(),a.changeActiveStatusSetting=function(t){var e={reportingArguments:{makeUserAvailableWhenInForeground:t,mutationId:r("uuidv4")()}};return this.$19({presenceReportingAmendment:e})},a.reportUserPresence=function(a){if(this.$9=a,this.$5==null)return(e||(e=n("Promise"))).resolve(!1);this.$1&&r("FBLogger")("rti_presence").info("Presence stream: report user presence: %s",Number(a));var t={reportingArguments:{availability:a,foregrounded:a===o("RealtimeNexusSessionDataTypes").PresenceAvailability.ACTIVE,mutationId:r("uuidv4")()}};return this.$19({presenceReportingAmendment:t})},a.addAdditionalContacts=function(t){for(var e of t)this.$10.add(e);this.$20()},a.getPresenceMap=function(){return this.$3},a.registerListener=function(t){var e=this,n=r("uuidv4")();return this.$8.set(n,t),function(){e.$8.delete(n)}},t})();l.POLLING_INTERVAL_MS=u,l.REQUEST_ADDITIONAL_CONTACTS_DEBOUNCE_MS=c,l.PresenceUnifiedClient=d}),98);
__d("XInstagramHelpDotComContentControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[],force_new_ighc:!1}),void 0),s=e;l.default=s}),98);
__d("fetch",[],(function(t,n,r,o,a,i){"use strict";var e=window.fetch,l=e;i.default=l}),66);
__d("isIGDChannelThreadSubtype",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==="IGD_BC_PARTNERSHIP"||e==="IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT"||e==="IG_CREATOR_SUBSCRIBER_GROUP_THREAD"||e==="IG_SOCIAL_CHANNEL"||e==="IG_SUBSCRIBER_SOCIAL_CHANNEL"||e==="IG_DISCOVERABLE_CHAT_THREAD_V2"}i.default=e}),66);
__d("isIGDMessageRequest",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e==="PENDING"||e==="SPAM";return t}i.default=e}),66);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),n=t.setVisibleMessage,a=r("useLSMessagingInitiatingSource")(),i=r("useCometInteractionTracing")(r("qpl")._(25301087,"7779"),"fast","INTERACTION");return s(function(t,r,l,s){var u=l!=null?l:"",c=s!=null?s:[];i(function(i){return n({contextLine:u,highlights:c,messageId:t,source:e,timestamp:r}),o("MWJumpToMessageLogger").startHeroInteractionTrace(i,t,a,o("MWVersion").v2)})},[e,n,i,a])}l.default=u}),98);
__d("useMWPPreloadThread",["I64","Int64Hooks","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","ReQL","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useCometPreloader"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef;function m(t,a,i,l){var s=r("useAsyncReStore")(),u=d(!1),c=o("Int64Hooks").useMemoInt64(function(){return function(){if(l&&i&&(e||(e=r("JSScheduler"))).scheduleSpeculativeCallback(function(){l.preload()}),u.current=!0,!a){var o=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield s;return p(e,t)});return function(){return e.apply(this,arguments)}})();r("promiseDone")(o())}}},[l,i,a,s,t]);return r("useCometPreloader")("button",c,c)}function p(e,t){var n=(s||(s=o("I64"))).of_string(t);return e.runInTransaction(function(e){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages_ranges_v2__generated).getKeyRange(n)).then(function(t){if(t!=null&&t.minMessageId===t.maxMessageId)return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(e),{direction:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:t.minTimestampMs,threadKey:n})})},"readwrite",void 0,void 0,i.id+":77")}l.default=m}),98);