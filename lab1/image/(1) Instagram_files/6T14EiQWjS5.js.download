;/*FB_PKG_DELIM*/

__d("AudioContextSingleton",["FBLogger"],(function(t,n,r,o,a,i,l){var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,s=new Map,u={get:function(n){var t=n==null?void 0:n.sampleRate,o=s.get(t);if(o==null){var a=new e({sampleRate:t});return s.set(t,a),a}if(o.state==="closed"){r("FBLogger")("project").warn("AudioContext Singleton has been closed");var i=new e({sampleRate:t});return s.set(t,i),i}return o}},c=u;l.default=c}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=o("Lexical").createCommand();l.COMET_LEXICAL_ARIA_COMMAND=e}),98);
__d("CometPressableChildrenWithOverlay_DEPRECATED.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.overlay;return s.jsxs("div",{className:"x4k7w5x x1h91t0o x1fmog5m xu25z0z x140muxe xo1y3bh x1jfb8zj x1beo9mf x3igimt xarpa2k x1n2onr6 x1qrby5j",children:[t,n]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react",["CometPlaceholder.react","CometSSRSuspendOnServer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.useSuspenseDirectlyForSVG,o=n===!0?s.Suspense:r("CometPlaceholder.react");return s.jsx(o,{fallback:t,children:s.jsx(r("CometSSRSuspendOnServer.react"),{children:t})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSProfilePhotoActivityBadge.react",["CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.backgroundColor,n=t===void 0?"white":t,o=e.icon,a=e.isDecorative,i=a===void 0?!0:a,l=e.overflow,u=e.pressed,c=e.size;return s.jsx(r("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:s.jsx(r("CometPressableOverlay.react"),{offset:0,pressed:u,radius:"50%"}),children:s.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x18d9i69 xyri2b x1c1uobl xexx8yu x1n2onr6 x1ja2u2z"},4:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x18d9i69 xyri2b x1c1uobl xexx8yu x1n2onr6 x1ja2u2z x1v9usgg x6jxa94"},2:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z x17rw0jw x123j3cw x1gabggj xs9asl8 xaso8d8 x17z2i9w"},6:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z x17rw0jw x123j3cw x1gabggj xs9asl8 xaso8d8 x17z2i9w"},1:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},5:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},3:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},7:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"}}[(c===8)<<2|(c===10)<<1|(c===16)<<0],{"aria-hidden":i?"true":void 0,style:{backgroundColor:n,overflow:l},children:o}))})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSProfilePhotoAvailabilityBadge.react",["fbt","BaseView.react","CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","CometScreenReaderText.react","FDSBadge.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={availabilityBadge:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},d=s._(/*BTDS*/"Active");function m(e){var t=e.isDecorative,n=t===void 0?!1:t,o=e.pressed,a=e.size;return u.jsxs(r("BaseView.react"),{"aria-hidden":n,xstyle:c.availabilityBadge,children:[u.jsx(r("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:u.jsx(r("CometPressableOverlay.react"),{pressed:o,radius:"50%"}),children:u.jsx(r("FDSBadge.react"),{accessibilityText:s._(/*BTDS*/"Online status indicator"),color:"green",isProfileBadge:!0,size:a})}),u.jsx(r("CometScreenReaderText.react"),{text:d})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("FDSProfilePhotoActivePill.react",["CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","gkx","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={badge:{borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",boxSizing:"x9f619",display:"x78zum5",fontWeight:"x117nqv4",justifyContent:"xl56j7k",marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",$$css:!0},badgeBackground:{backgroundColor:"x4cor85",$$css:!0},badgeBackground_DEPRECATED:{backgroundColor:"xbb192p",$$css:!0}},d={"card-background":{borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",$$css:!0},"secondary-button-background-floating":{borderTopColor:"x1bmsi4x",borderInlineEndColor:"x146t3o",borderBottomColor:"x17j0sh5",borderInlineStartColor:"x18r8ynu",$$css:!0},"web-wash":{borderTopColor:"x1516sgx",borderInlineEndColor:"x1xachar",borderBottomColor:"x1khxuxv",borderInlineStartColor:"x1lkg39s",$$css:!0}};function m(t){var n=t["aria-label"],o=t.border,a=o===void 0?"card-background":o,i=t.children,l=t.pressed;return u.jsx("div",{className:"x78zum5 xl56j7k x193iq5w","aria-label":n,children:u.jsx(r("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:u.jsx(r("CometPressableOverlay.react"),{pressed:l,radius:7}),children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.badge,d[a],r("gkx")("6275")||r("gkx")("23219")?c.badgeBackground:c.badgeBackground_DEPRECATED),{children:u.jsx("span",babelHelpers.extends({},{0:{className:"x190qgfh x132q4wb xuxw1ft x6u5lvz"},1:{className:"x190qgfh x132q4wb xuxw1ft x31nisg"}}[!!(r("gkx")("6275")||r("gkx")("23219"))<<0],{children:i}))}))})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("FDSProfilePhotoLastActiveTimeBadge.react",["fbt","FDSProfilePhotoActivePill.react","FDSRelativeTimestamp.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.border,n=t===void 0?"card-background":t,o=e.pressed,a=e.time,i=s._(/*BTDS*/"Last active time:");return u.jsx(r("FDSProfilePhotoActivePill.react"),{"aria-label":i,border:n,pressed:o,children:u.jsx(r("FDSRelativeTimestamp.react"),{date:new Date(a*1e3),format:"minimized"})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("profilePhotoUtils",["MetaConfig","memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){if(t==="none")return 0;var n=t==="seen"&&r("MetaConfig")._("73");switch(e){case 24:case 32:case 36:case 40:return n?1:2;case 48:case 56:case 60:return n?1.5:3;case 132:default:return n?2:4}},function(e,t){return""+(t!=null?t:"")+String(e)}),s=r("memoizeWithArgs")(function(e,t){if(t==="availabilityBadge")switch(e){case 10:case 16:case 20:case 24:return[6,1.5];case 28:return[7,2];case 32:case 36:return[8,2];case 40:case 44:case 48:return[9,2];case 52:case 56:case 60:return[10,2];case 72:return[12,2];case 80:case 88:return[14,2];case 96:case 100:case 112:return[15,2];case 120:case 132:case 168:return[20,4];default:return[8,2]}switch(e){case 10:case 16:case 20:case 24:return[6,1.5];case 28:return[7,1.5];case 32:return[8,2];case 36:return[9,2];case 40:return[10,2];case 44:case 48:return[12,2];case 52:case 56:return[14,2];case 60:return[15,2];case 72:return[18,2];case 80:return[20,4];case 88:return[22,4];case 96:case 100:case 112:return[24,4];case 120:case 132:return[32,4];case 168:return[41,4];default:return[8,2]}},function(e,t){return String(e)+t});l.getStoryRingSize=e,l.getBadgeSizeAndStrokeWidth=s}),98);
__d("FDSProfilePhotoAddOn.react",["FDSProfilePhotoActivityBadge.react","FDSProfilePhotoAvailabilityBadge.react","FDSProfilePhotoLastActiveTimeBadge.react","profilePhotoUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.addOn,n=e.pressed,a=e.size;switch(t.type){case"availabilityBadge":{var i=o("profilePhotoUtils").getBadgeSizeAndStrokeWidth(a,t==null?void 0:t.type),l=i[0];return s.jsx(r("FDSProfilePhotoAvailabilityBadge.react"),{isDecorative:t.isDecorative,pressed:n,size:l})}case"lastActiveTimeBadge":return s.jsx(r("FDSProfilePhotoLastActiveTimeBadge.react"),{border:t.border,pressed:n,time:t.time});case"activityBadge":return s.jsx(r("FDSProfilePhotoActivityBadge.react"),{backgroundColor:t.backgroundColor,icon:t.icon,isDecorative:t.isDecorative,overflow:t.overflow,pressed:n,size:t.size});case"trigger":return t.icon;case"multipleVoicesForAction":return t.badge;default:return null}}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSProfilePhotoNotificationBadge.react",["fbt","FDSBadge.react","FDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.number,n=t>9?"9+":t;return u.jsx(r("FDSBadge.react"),{accessibilityText:s._(/*BTDS*/"_j{\"*\":\"{number} notifications\",\"_1\":\"{number} notification\"}",[s._plural(t),s._param("number",n)]),color:"red",isProfileBadge:!0,size:18,wide:t>9?"wide":"normal",children:u.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xuxw1ft xh8yej3",children:u.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:t>9?"9+":t})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("getBadgePosition",["Locale","memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){t===void 0&&(t=!1);var n=Math.sqrt(2*e*e)-e,r=Math.round(Math.sqrt(n*n/2));return t?o("Locale").isRTL()?{left:r,top:r,transform:"translate(-50%, -50%)"}:{right:r,top:r,transform:"translate(50%, -50%)"}:o("Locale").isRTL()?{bottom:r,left:r,transform:"translate(-50%, 50%)"}:{bottom:r,right:r,transform:"translate(50%, 50%)"}},function(e,t){return String(t)+String(e)});l.getBadgePosition=e}),98);
__d("FDSProfilePhotoContent.react",["BaseSvgImage.react","CometImage.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","FDSLoadingAnimation.react","FDSProfilePhotoAddOn.react","FDSProfilePhotoNotificationBadge.react","getBadgePosition","gkx","profilePhotoUtils","react","stylex","useSetAttributeRef"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOn","addOnTopEnd","alt","children","cursorDisabled","forwardRef","isOverlapped","linkProps","onHoverIn","onHoverOut","onPress","onPressIn","overlay","pressed","preview","profileVideo","shape","shouldShowCloseFriendsBadge","size","source","storyStatus","testid","testOnly_pressed"],s,u,c=u||(u=o("react")),d=u.useId,m={photo:{verticalAlign:"x3ajldb",$$css:!0},photoCircle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},photoRoundedRect:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},photoRoundedRectLarge:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",$$css:!0},storyRingBlue:{stroke:"xauuydb",$$css:!0},storyRingBlueLegacy:{stroke:"x1p5r69i",$$css:!0},storyRingGray:{stroke:"xgzcv5c",$$css:!0},storyRingGrayLegacy:{stroke:"x1tbtn3x",$$css:!0},storyRingGreen:{stroke:"x1cm6qz0",$$css:!0},storyRingRed:{stroke:"x1t6d43z",$$css:!0},storyRingSize2:{strokeWidth:"xvlca1e",$$css:!0},storyRingSize3:{strokeWidth:"xqjr0vm",$$css:!0},storyRingSize4:{strokeWidth:"x17ld789",$$css:!0}},p=function(t){return t==="circle"?"50%":t==="roundedRect"?8:t==="roundedRectLarge"?16:0};function _(t){var n,a,i,l,u,_,f=t.addOn,g=t.addOnTopEnd,h=t.alt,y=t.children,C=t.cursorDisabled,b=t.forwardRef,v=t.isOverlapped,S=t.linkProps,R=t.onHoverIn,L=t.onHoverOut,E=t.onPress,k=t.onPressIn,I=t.overlay,T=t.pressed,D=t.preview,x=t.profileVideo,$=t.shape,P=t.shouldShowCloseFriendsBadge,N=t.size,M=t.source,w=t.storyStatus,A=t.testid,F=t.testOnly_pressed,O=babelHelpers.objectWithoutPropertiesLoose(t,e),B=d(),W=r("useSetAttributeRef")("id",B),q="url(#"+B+")",U=r("useSetAttributeRef")("mask",q),V=o("profilePhotoUtils").getStoryRingSize(N,w),H=o("getBadgePosition").getBadgePosition(N/2,!0),G=o("profilePhotoUtils").getBadgeSizeAndStrokeWidth(N,f==null?void 0:f.type),z=G[0],j=G[1],K=(f==null?void 0:f.type)==="lastActiveTimeBadge"&&N>28,Q=K?{}:o("getBadgePosition").getBadgePosition(N/2,!1),X=f!=null?c.jsx("div",babelHelpers.extends({className:{0:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo",4:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl",2:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x14ihvte",6:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x14ihvte",1:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",5:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",3:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x14ihvte x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",7:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x14ihvte x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu"}[!!K<<2|(N===60&&f.type==="activityBadge")<<1|(f.type==="activityBadge"&&(x!=null||f.withBorder===!0))<<0]},r("CometVisualCompletionAttributes").IGNORE,{style:babelHelpers.extends({},Q,{borderWidth:x!=null?j:void 0}),children:c.jsx(r("FDSProfilePhotoAddOn.react"),{addOn:f,pressed:T,size:N})})):null,Y=g!=null?c.jsx("div",{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo","data-testid":void 0,style:babelHelpers.extends({},H),children:c.jsx(r("FDSProfilePhotoNotificationBadge.react"),{number:g.number})}):null,J=typeof M.uri=="string"?c.jsx(r("BaseSvgImage.react"),{src:M.uri,style:{height:N-V*4,width:N-V*4},x:2*V,y:2*V}):c.jsx(r("CometImage.react"),{alt:h,height:N-4*V,src:M.uri,testid:void 0,width:N-4*V,xstyle:[m.photo,$==="circle"&&m.photoCircle,$==="roundedRect"&&m.photoRoundedRect,$==="roundedRectLarge"&&m.photoRoundedRectLarge]}),Z=p($),ee;if(x!=null){var te=x.ProfileVideoSection,ne=x.profileVideoFragment;ee=c.jsx(te,babelHelpers.extends({image:J,linkProps:S,onHoverIn:R,onHoverOut:L,onPress:E,onPressIn:k,profileVideo:ne,ringSize:V,shape:$,size:N-V*4,thumbnailUri:M.uri},O))}var re=typeof M.uri=="string"?c.jsxs("svg",babelHelpers.extends({"aria-hidden":h==null?!0:void 0,"aria-label":h,className:"x3ajldb"},r("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{"data-testid":void 0,role:h!=null?"img":"none",style:{height:N,width:N},children:[c.jsxs("mask",{id:B,ref:W,suppressHydrationWarning:!0,children:[$==="circle"?c.jsx("circle",{cx:N/2,cy:N/2,fill:"white",r:N/2}):c.jsx("rect",{cy:N/2,fill:"white",height:N,rx:Z,ry:Z,width:N,x:0,y:0}),c.jsx(r("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{useSuspenseDirectlyForSVG:!0,children:X!=null&&(f==null?void 0:f.type)!=="trigger"&&(f==null?void 0:f.type)!=="lastActiveTimeBadge"&&(f==null?void 0:f.backgroundColor)!=="none"&&c.jsx("circle",babelHelpers.extends({cx:(n=Q.left)!=null?n:N-((a=Q.right)!=null?a:0),cy:(i=Q.top)!=null?i:N-((l=Q.bottom)!=null?l:0)},r("CometVisualCompletionAttributes").IGNORE,{fill:"black",r:Math.max((f==null?void 0:f.type)==="activityBadge"?8:0,z/2+j)}))}),Y!=null&&g!=null&&g.type==="notificationBadge"&&c.jsx("rect",{height:22,rx:11,ry:11,width:g.number<=9?22:g.number<=99?33:44,x:H.left!=null?H.left-(g.number<=9?11:g.number<=99?22:33):N-((u=H.right)!=null?u:0)-11,y:H.top!=null?H.top-11:N-((_=H.bottom)!=null?_:0)-11}),w==="uploading"&&(N===36||N===40||N===60)?c.jsx("circle",{cx:N/2,cy:N/2,fill:"transparent",r:N/2-1*V,stroke:"black",strokeWidth:V*2}):w!=="none"&&V>0&&c.jsx("circle",{cx:N/2,cy:N/2,fill:"transparent",r:N/2-1.5*V,stroke:"black",strokeWidth:V}),v===!0&&c.jsx("circle",{cx:-N/2+4,cy:N/2,fill:"black",r:N/2+2})]}),c.jsxs("g",{mask:q,ref:U,suppressHydrationWarning:!0,children:[ee!=null?ee:J,$==="circle"?c.jsx("circle",babelHelpers.extends({},{0:{className:"xbh8q5q x1pwv2dq xvlca1e"},1:{className:"x1pwv2dq xvlca1e x1tgjyoi"}}[!!T<<0],{cx:N/2,cy:N/2,r:N/2})):c.jsx("rect",babelHelpers.extends({},{0:{className:"xbh8q5q x1pwv2dq xvlca1e"},1:{className:"x1pwv2dq xvlca1e x1tgjyoi"}}[!!T<<0],{cy:N/2,fill:"white",height:N,rx:Z,ry:Z,width:N,x:0,y:0})),w==="uploading"&&(N===36||N===40||N===60)?null:w!=="none"&&V>0&&c.jsx("circle",babelHelpers.extends({},(s||(s=r("stylex"))).props(w==="unseen"&&(P===!0?m.storyRingGreen:r("gkx")("6275")?m.storyRingBlue:m.storyRingBlueLegacy),w==="seen"&&(r("gkx")("6275")?m.storyRingGray:m.storyRingGrayLegacy),w==="live"&&m.storyRingRed,V===4&&m.storyRingSize4,V===3&&m.storyRingSize3,V===2&&m.storyRingSize2),{cx:N/2,cy:N/2,fill:"transparent",r:N/2-V/2,strokeWidth:V}))]}),w==="uploading"&&(N===36||N===40||N===60)&&c.jsx("g",{style:{transform:"scale("+(N-Math.floor(N/30))/N+")"},children:c.jsx(r("FDSLoadingAnimation.react"),{size:N})})]})):J;return c.jsxs("div",{className:"x1rg5ohu x1n2onr6 x3ajldb x1ja2u2z",ref:b,children:[re,y,I,c.jsx(r("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:X}),Y]})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("FDSProfilePhoto.react",["CometPressable.react","CometTrackingNodeProvider.react","FDSProfilePhotoContent.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOn","addOnTopEnd","alt","aria-hidden","aria-pressed","children","cursorDisabled","disabled","isOverlapped","onHoverIn","onHoverOut","overlayDisabled","preview","profileVideo","ref","role","shape","shouldResizeImageOnNative","shouldShowCloseFriendsBadge","size","source","storyStatus","testid"],s=["linkProps","onPress","onPressIn","testOnly_pressed"],u,c=u||(u=o("react")),d={pressable:{color:"xzsf02u",display:"x1rg5ohu",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}},m=function(t){return t==="circle"?"50%":t==="roundedRect"?8:t==="roundedRectLarge"?16:0};function p(t){var n=t.addOn,o=t.addOnTopEnd,a=t.alt,i=t["aria-hidden"],l=t["aria-pressed"],u=t.children,p=t.cursorDisabled,_=t.disabled,f=t.isOverlapped,g=f===void 0?!1:f,h=t.onHoverIn,y=t.onHoverOut,C=t.overlayDisabled,b=C===void 0?!1:C,v=t.preview,S=t.profileVideo,R=t.ref,L=t.role,E=t.shape,k=E===void 0?"circle":E,I=t.shouldResizeImageOnNative,T=t.shouldShowCloseFriendsBadge,D=T===void 0?!1:T,x=t.size,$=t.source,P=t.storyStatus,N=P===void 0?"none":P,M=t.testid,w=babelHelpers.objectWithoutPropertiesLoose(t,e),A=w.linkProps,F=w.onPress,O=w.onPressIn,B=w.testOnly_pressed,W=babelHelpers.objectWithoutPropertiesLoose(w,s),q={addOn:n,addOnTopEnd:o,alt:a,"aria-hidden":i,"aria-pressed":l,isOverlapped:g,onHoverIn:h,onHoverOut:y,preview:v,profileVideo:S,role:L,shape:k,shouldShowCloseFriendsBadge:D,size:x,source:$,storyStatus:N,testid:M};if(!F&&!A&&B!==!0)return c.jsx(r("FDSProfilePhotoContent.react"),babelHelpers.extends({},q,{forwardRef:R,isOverlapped:g,pressed:!1,shape:k,shouldShowCloseFriendsBadge:D,storyStatus:N,children:u}));var U=m(k);return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:3,children:c.jsx(r("CometPressable.react"),babelHelpers.extends({},W,{cursorDisabled:p,disabled:_,linkProps:A,onHoverIn:h,onHoverOut:y,onPress:F,onPressIn:O,overlayDisabled:b,overlayRadius:U,ref:R,testOnly_pressed:B,testid:void 0,xstyle:function(t){var e=t.pressed;return[d.pressable,e&&d.pressed]},children:function(t){var e=t.overlay,n=t.pressed;return c.jsx(r("FDSProfilePhotoContent.react"),babelHelpers.extends({},q,{forwardRef:void 0,isOverlapped:g,overlay:e,pressed:n,shape:k,shouldShowCloseFriendsBadge:D,storyStatus:N,children:u}))}}))})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(t.length===0)return!0;var n=r("remove-accents")(t).toLowerCase(),o=r("remove-accents")(e).toLowerCase();return o.split(" ").some(function(e){return e.startsWith(n)})||o.startsWith(n)}l.doesParticipantNameMatch=e}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:22360","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22360")),r("gkx")("23219"));l.default=e}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWChatComposerMentionsUtils","MWXIconGroup","gkx"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=s._(/*BTDS*/"Meta AI").toString(),m=s._(/*BTDS*/"Ask questions").toString(),p=s._(/*BTDS*/"everyone").toString(),_=r("gkx")("20836"),f={decorType:"regular",handle:d,key:"0",label:d,rawData:{image:u("405460"),subtitle:m},type:"entry"};function g(t,n,a,i,l,u,m,g){var h=t.query,y=g!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&o("LSMessagingThreadTypeUtil").isGroup(g),C=g!=null&&!o("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&o("LSMessagingThreadTypeUtil").isGroup(g),b=C&&r("gkx")("20028"),v=[],S=[];if(l===!0&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(d,h)&&v.push(f),l!==!0||u){if(n.forEach(function(t){var n=t.actualName,a=t.blockedByViewerStatus,i=t.contactId,l=t.nickname,s=t.profilePictureUrl,u=t.secondaryName;if(!(a!=null&&!(e||(e=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)))){var d=null;if(u!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(u,h)?d="secondaryName":o("MWChatComposerMentionsUtils").doesParticipantNameMatch(n,h)?d="name":l!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(l,h)&&(d="nickname"),d!=null&&s!=null){var m=u;y?m=l!=null?l:n:m==null&&(m=u!=null?u:d==="nickname"&&l!=null?l:n),v.push({decorType:"regular",handle:m,key:i+" "+d,label:n,rawData:{photoURI:s,source:d,subtitle:u!=null?u:l},type:"entry"})}}}),o("MWChatComposerMentionsUtils").doesParticipantNameMatch(p,h)&&(_||y||b)){var R=s._(/*BTDS*/"Mention everyone in this chat").toString();S.push({decorType:"regular",handle:p,key:""+a,label:p,rawData:{icon:r("MWXIconGroup"),source:"all",subtitle:R},type:"entry"})}if(_){var L=s._(/*BTDS*/"here").toString();if(o("MWChatComposerMentionsUtils").doesParticipantNameMatch(L,h)){var E=s._(/*BTDS*/"Mention everyone in this chat who is active").toString();S.push({decorType:"regular",handle:L,key:a+"-active",label:L,rawData:{icon:r("MWXIconGroup"),source:"all",subtitle:E},type:"entry"})}}}var k=y||b?[].concat(v.slice(0,m),S):[].concat(v,S).slice(0,m);return k.length<m&&i&&i(h,m-k.length),{entries:k,params:t}}function h(e){switch(e){case d:return"ai";case p:return"t";default:return"p"}}l.aiBotMentionsEntry=f,l.fetchCacheComposerMentionsTypeahead=g,l.commandToRangeType=h}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.reduce(function(e,t){return e+t.length},0)}function s(t){var n=e(t),r=new Float32Array(n);return t.reduce(function(e,t){return r.set(t,e),e+t.length},0),r}function u(t,n){var r=e([t,n]);return new Float32Array(r).map(function(e,r){var o=Math.floor(r/2);return r%2===0?t[o]:n[o]})}function c(e,t,n){n.forEach(function(n,r){var o=Math.max(-1,Math.min(1,n)),a=t+(r<<1),i=o<0?Math.abs(o)*-32768:Math.abs(o)*32767;e.setInt16(a,i,!0)})}function d(e,t,n){Array.from(n).forEach(function(r,o){var a=n.charCodeAt(o);e.setUint8(t+o,a)})}function m(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=r.length,a=o<<1,i=new ArrayBuffer(44+a),l=new DataView(i);return d(l,0,"RIFF"),l.setUint32(4,36+a,!0),d(l,8,"WAVE"),d(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,t,!0),l.setUint32(24,n,!0),l.setUint32(28,n*t*2,!0),l.setUint16(32,t*2,!0),l.setUint16(34,16,!0),d(l,36,"data"),l.setUint32(40,a,!0),c(l,44,r),l}function p(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=m({numberOfChannels:t,sampleRate:n,samples:r}),a=new Date().getTime(),i=Math.round(_({numberOfChannels:t,sampleRate:n,samples:r})*1e3);return new File([o],"audioclip-"+a+"-"+i+".wav",{type:"audio/wav"})}function _(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,a=Float32Array.BYTES_PER_ELEMENT,i=r.byteLength/a/t;return i/n%o("DateConsts").SEC_PER_MIN}function f(e,t,n){return e+(t-e)*n}function g(e,t){var n=new Array(Math.ceil(t));if(t===0||e.length===0)return n;if(t===e.length)return Array.from(e);if(e.length===1)return n.fill(e[0]);n[0]=e[0];for(var r=(e.length-1)/(t-1),o=1;o<t;o++){var a=o*r,i=Math.floor(a),l=Math.ceil(a),s=a-i;n[o]=f(e[i],e[l],s)}return t>=2&&(n[n.length-1]=e[e.length-1]),n}function h(e,t,n){var r=Math.min.apply(Math,e),o=Math.max.apply(Math,e),a=o-r,i=n-t;return e.map(function(e){return(e-r)/a*i+t})}l.getTotalBuffersLen=e,l.flattenBuffer=s,l.interleave=u,l.exportWAV=p,l.getAudioDuration=_,l.computeWaveformAmplitudes=g,l.linearConversion=h}),98);
__d("MWPAudioHighlightStylesHooks",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function c(e){return s(function(){return[u.root,e?u.outgoing:u.incoming]},[e])}l.useHighlightStyles=c}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useContext,p={threadKey:(s||(s=o("I64"))).zero},_=d(p);function f(){return m(_).threadKey}function g(e){var t=e.children,n=e.threadKey,r=o("Int64Hooks").useMemoInt64(function(){return{threadKey:n}},[n]);return u.jsx(_.Provider,{value:r,children:t})}g.displayName=g.name+" [from "+i.id+"]",l.useMWPAudioPlaybackThreadKey=f,l.MWPAudioPlaybackThreadContextProvider=g}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","FBLogger","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","WAMaybeTranscodeOggOpusToWavForPlayback","bx","emptyFunction","gkx","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=d||(d=o("react")),_=d,f=_.createContext,g=_.useCallback,h=_.useContext,y=_.useEffect,C=_.useMemo,b=_.useRef,v=_.useState,S=n("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2}),R=function(){return r("FBLogger")("wmi").tags(["audio"])};function L(t){var n=new Audio;return n.addEventListener("error",function(){var t,r,o,a;R().MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""])),(t=(r=n.error)==null?void 0:r.code)!=null?t:"null",(o=(a=n.error)==null?void 0:a.message)!=null?o:"null")}),n.preload="auto",!o("WAMaybeTranscodeOggOpusToWavForPlayback").isOggPlaybackSupported&&r("gkx")("3053")?window.fetch(t).then(function(e){return e.blob()}).then(function(e){return o("WAMaybeTranscodeOggOpusToWavForPlayback").maybeTranscodeOggOpusToWavForPlayback(e)}).then(function(e){var t=URL.createObjectURL(e);n.src=t,n.load()}).catch(function(e){R().catching(e).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to transcode Ogg to wav"])))}):(n.src=t,n.load()),n}function E(){return L(r("bx").getURL(r("bx")("577")))}function k(e){var t=Array.from(S.members()),n=t.findIndex(function(t){return t===e}),r=n+1;return t[r%t.length]}function I(e){return s._(/*BTDS*/"_j{\"*\":\"{playback rate}x\"}",[s._param("playback rate",e,[0])])}I.displayName=I.name+" [from "+i.id+"]";var T={activeAudio:null,activeMessageId:null,activeThreadKey:(m||(m=o("I64"))).zero,addMessageId:r("emptyFunction"),addNextPlayableUrl:r("emptyFunction"),clearActiveAudio:r("emptyFunction"),clearNextPlayableUrl:r("emptyFunction"),getMessageId:r("emptyFunction"),getNewOrExistingAudio:L,getNextPlayableUrl:r("emptyFunction"),maybeGetExistingAudio:r("emptyFunction"),onChangePlaybackRate:r("emptyFunction"),playbackRateLabel:I(S.NORMAL),setUseOutOfChatPlayback:r("emptyFunction")},D=f(T);function x(e,t,n,r,a){var i=h(D),l=i.activeAudio,s=i.activeThreadKey,u=i.addMessageId,c=i.addNextPlayableUrl,d=i.clearNextPlayableUrl,p=i.getNewOrExistingAudio,_=i.setUseOutOfChatPlayback,f=o("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();return o("Int64Hooks").useEffectInt64(function(){if(!(!a||(m||(m=o("I64"))).is_zero(s)||(m||(m=o("I64"))).is_zero(f)))return _(!(m||(m=o("I64"))).equal(s,f)),function(){_((m||(m=o("I64"))).equal(s,f))}},[l,s,_,a,f]),o("Int64Hooks").useMemoInt64(function(){if(e!=null&&e!==""){var o=e.concat(n!=null?n:"");if(n!=null&&u(o,n),!a)return L(e);if(t!=null&&t!==""){var i=t.concat(r!=null?r:"");c(o,i),r!=null&&u(i,r)}else d(o);return p(e,f,n)}},[u,c,d,p,n,r,t,e,a,f])}function $(){var e=h(D),t=e.onChangePlaybackRate,n=e.playbackRateLabel;return[n,t]}function P(){var e=h(D),t=e.clearActiveAudio;return t}function N(){var e=h(D),t=e.activeMessageId,n=e.clearActiveAudio;return g(function(e){t===e&&n()},[t,n])}function M(){var e=h(D),t=e.activeAudio,n=e.activeMessageId,a=e.activeThreadKey,l=e.clearActiveAudio,s=e.clearNextPlayableUrl,u=e.getMessageId,d=e.getNextPlayableUrl,m=(c||(c=r("useReStore")))(),p=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(m.tables.threads).getKeyRange(a)},[m,a],i.id+":260"),_=t==null?void 0:t.src,f=_==null?void 0:_.concat(n!=null?n:""),g=f==null?null:d(f),y=o("ReQLSuspense").useFirst(function(){var e=g==null?null:u(g);return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(m.tables.messages.index("messageId"),["isUnsent"]).getKeyRange(e).filter(function(e){return!e.isUnsent})},[m,u,g],i.id+":270");return f!=null&&g!=null&&y==null&&s(f),[t,l,p]}function w(e){var t=e.children,n=b(new Map),r=b(new Map),a=b([]),i=b(new Map);y(function(){var e=a.current;return function(){for(;e.length>0;){var t=e.pop(),n=t[0],r=t[1],o=t[2];n.removeEventListener(r,o),n.pause()}}},[]);var l=v(S.NORMAL),s=l[0],u=l[1],c=C(function(){return I(s)},[s]),d=v((m||(m=o("I64"))).zero),_=d[0],f=d[1],h=v(null),R=h[0],T=h[1],x=v(null),$=x[0],P=x[1],N=v(!1),M=N[0],w=N[1],A=($==null?void 0:$.paused)===!1,F=C(function(){return M&&A?$:null},[$,A,M]),O=g(function(e,t){i.current.set(e,t)},[]),B=g(function(e){return i.current.get(e)},[]),W=g(function(){P(function(e){return e!=null&&e.pause(),null}),T(null)},[]),q=g(function(e){r.current.delete(e)},[]),U=g(function(e,t,o){var l,u=e.concat(o!=null?o:""),c=(l=n.current.get(u))!=null?l:L(e);c.playbackRate=s;var d=function(t,n){c.addEventListener(t,n),a.current.push([c,t,n])},m=function(){var e=r.current.get(u);if(e!=null){var t=n.current.get(e),o=i.current.get(e);if(t!=null&&t.paused)return void E().play().then(function(){return P(t),T(o),t.play().catch(function(){P(null),T(null)})})}P(null),T(null)};d("ended",m);var p=function(){for(var e of n.current.values())e!==c&&e.pause();P(c),T(o),f(t)};return d("playing",p),n.current.set(u,c),c},[s]),V=g(function(e){return r.current.get(e)},[]),H=g(function(){u(function(e){var t=k(e);for(var r of n.current.values())r.playbackRate=t;return t})},[]),G=g(function(e,t){r.current.set(e,t)},[]),z=g(function(e,t){if(e!=null){var r=e.concat(t!=null?t:"");return n.current.get(r)}},[]),j=o("Int64Hooks").useMemoInt64(function(){return{activeAudio:F,activeMessageId:R,activeThreadKey:_,addMessageId:O,addNextPlayableUrl:G,clearActiveAudio:W,clearNextPlayableUrl:q,getMessageId:B,getNewOrExistingAudio:U,getNextPlayableUrl:V,maybeGetExistingAudio:z,onChangePlaybackRate:H,playbackRateLabel:c,setUseOutOfChatPlayback:w}},[F,R,O,_,G,W,q,B,U,V,H,c,z]);return p.jsx(D.Provider,{value:j,children:t})}w.displayName=w.name+" [from "+i.id+"]",l.useMWPAudioPlaybackElement=x,l.useMWPAudioPlaybackRate=$,l.useMWPClearActiveAudio=P,l.useMWPClearActiveAudioForMessage=N,l.useMWPAudioOutOfChatPlayback=M,l.MWPAudioPlaybackContextProvider=w}),226);
__d("MWPAudioPlayerSharedStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e=44,s={bar:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderStartStartRadius:"x7deyu6",borderStartEndRadius:"x16vui2w",borderEndEndRadius:"x91akzj",borderEndStartRadius:"x7lp3xy",$$css:!0},rightSideImprove:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderInlineEndColor":"x1sx9lnh","::after_borderBottomColor":"xv84cap","::after_borderInlineStartColor":"x1bbqc8r","::after_borderStartStartRadius":"x1mt5d6h","::after_borderStartEndRadius":"xrbx7q7","::after_borderEndEndRadius":"x1e5em4g","::after_borderEndStartRadius":"x1e0i30a","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"x1gnji40","::after_borderInlineEndWidth":"x1k81zwm","::after_borderBottomWidth":"x1ekxc0f","::after_borderInlineStartWidth":"x1tjn1g5","::after_bottom":"x14apmda","::after_content":"x100rkj9","::after_display":"xhkezso","::after_insetInlineEnd":"x1qngrn4","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_insetInlineStart":"x1nalm37","::after_left":null,"::after_right":null,"::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};l.styles=s}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWMediaRenderQplUtils","MWPAudioPlaybackContext.react","MWResponsiveLayoutContext.react","cancelAnimationFrame","getErrorNameFromMediaErrorCode","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useMatchViewport","useStable"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=n("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),y=d(h.PLAYER),C=r("gkx")("24145");function b(){var e=p(y);return C&&e===h.PLAYER}function v(e,t){if(t==null)return 0;var n=t.getBoundingClientRect(),r=n.left,o=n.width,a=e.clientX-r,i=o>0&&a>0?a/o:0;return S(i,0,1)}function S(e,t,n){return Math.min(Math.max(t,e),n)}function R(e){var t=e.currentTime,n=e.duration;return u.jsx("div",{"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":n,"aria-valuemin":0,"aria-valuenow":Math.floor(t!=null?t:0),role:"slider",style:{position:"absolute"},tabIndex:0})}R.displayName=R.name+" [from "+i.id+"]";function L(){var e=b();return e?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function E(e){return m(function(t){var n=e.current;if(n!=null)return t.stopPropagation(),n.updateHighlight(0)},[e])}function k(e,t,n,o,a,i){a===void 0&&(a=!1);var l=f();return _(function(){var n=function(t){var e=l.current;if(e!=null)return e.updateHighlight(t)};if(i){n(a?100:0);return}if(o){var s={contents:void 0},u,c=function(a){var o;if(t.current!=null)o=t.current.currentTime/t.current.duration;else{var i=s.contents,l=0;i!=null?l=a-i:s.contents=a,o=l/(e*1e3)}var d=Math.min(o*100,100);if(n(d),d<100){u=r("requestAnimationFrameAcrossTransitions")(c);return}};return u=r("requestAnimationFrameAcrossTransitions")(c),function(){u!=null&&r("cancelAnimationFrame")(u)}}if(t.current!=null){var d=t.current.currentTime/t.current.duration;n(d*100)}},[e,o,i,l,t,a,n]),l}var I=n("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function T(e,t,n,r,a,i,l,s){var u=b(),c=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(e,t,n,r,u);return D(c,u,a,i,l,s)}function D(e,t,n,a,i,l){var s=r("useStable")(function(){return n}),u=f(e),c=g(I.NONE),d=c[0],p=c[1],h=g(function(){var t;return(t=e==null?void 0:e.currentTime)!=null?t:0}),y=h[0],C=h[1];_(function(){if(e==null){p(I.NONE),l==null||l.addAnnotations({string:{audio_initial_state:"none"}});return}e.ended?(p(I.ENDED),l==null||l.addAnnotations({string:{audio_initial_state:"ended"}})):p(function(){return e.paused?(l==null||l.addAnnotations({string:{audio_initial_state:"paused"}}),I.PAUSED):(l==null||l.addAnnotations({string:{audio_initial_state:"playing"}}),I.PLAYING)}),C(e.currentTime),u.current=e},[e,l]),_(function(){var e=u.current;if(l==null||l.addPoint("render-audio-player-controller",{bool:{has_audio:e!=null},int:{audio_ready_state:e==null?void 0:e.readyState},string:{audio_duration_bucket:e!=null?o("MWMediaRenderQplUtils").convertDurationToStringBucket(e.duration):null}}),e!=null){var n=function(t){var e=t.currentTarget,n=e.error,o=r("getErrorNameFromMediaErrorCode")(n==null?void 0:n.code);l==null||l.endFailAfterDelay("load-audio-error",{string:{audio_error_message:n==null?void 0:n.message,audio_error_name:o}})},a=function(){l==null||l.endSuccessAfterDelay()},i=function(){p(I.PAUSED),l==null||l.addPoint("audio-paused",{int:{audio_ready_state:e.readyState}})},s=function(){p(I.PLAYING),l==null||l.addPoint("audio-played",{int:{audio_ready_state:e.readyState}})},c=function(){p(I.LOADING),l==null||l.addPoint("load-start",{int:{audio_ready_state:e.readyState}})},d=function(){u.current!=null&&C(u.current.currentTime)},m=function(){u.current!=null&&(u.current.currentTime=0,C(0)),p(I.ENDED)},_=function(){l==null||l.addPoint("audio-duration-change",{int:{audio_ready_state:e.readyState}})},f=function(){l==null||l.addPoint("loaded-metadata",{int:{audio_ready_state:e.readyState}})},g=function(){l==null||l.addPoint("loaded-data",{int:{audio_ready_state:e.readyState}})},h=function(){u.current=e,i(),l==null||l.addPoint("can-play",{int:{audio_ready_state:e.readyState}}),a()},y=function(){l==null||l.addPoint("can-play-through",{int:{audio_ready_state:e.readyState}})},b=function(){l==null||l.addPoint("audio-aborted",{int:{audio_ready_state:e.readyState}})},v=function(){l==null||l.addPoint("audio-stalled",{int:{audio_ready_state:e.readyState}})},S=function(){l==null||l.addPoint("audio-suspended",{int:{audio_ready_state:e.readyState}})},R=function(){l==null||l.addPoint("audio-emptied",{int:{audio_ready_state:e.readyState}})};return e!=null&&e.readyState>=2&&a(),e.addEventListener("loadstart",c),e.addEventListener("timeupdate",d),e.addEventListener("playing",s),e.addEventListener("pause",i),e.addEventListener("ended",m),e.addEventListener("error",n),e.addEventListener("durationchange",_),e.addEventListener("loadedmetadata",f),e.addEventListener("loadeddata",g),e.addEventListener("canplay",h),e.addEventListener("canplaythrough",y),e.addEventListener("stalled",v),e.addEventListener("suspend",S),e.addEventListener("abort",b),e.addEventListener("emptied",R),function(){e.removeEventListener("loadstart",c),e.removeEventListener("timeupdate",d),e.removeEventListener("playing",s),e.removeEventListener("pause",i),e.removeEventListener("ended",m),e.removeEventListener("error",n),e.removeEventListener("durationchange",_),e.removeEventListener("loadedmetadata",f),e.removeEventListener("loadeddata",g),e.removeEventListener("canplay",h),e.removeEventListener("canplaythrough",y),e.removeEventListener("stalled",v),e.removeEventListener("suspend",S),e.removeEventListener("abort",b),e.removeEventListener("emptied",R),!t&&e.pause()}}},[e,l,t]);var b=m(function(){var e=u.current;if(e!=null)switch(d){case I.NONE:case I.LOADING:return;case I.ENDED:case I.PAUSED:{r("promiseDone")(e.play(),function(){return p(I.PLAYING)},function(e){s(),l==null||l.addAnnotations({string:{"play-error":e.name}})}),l==null||l.addPoint("audio-play-clicked",{int:{audio_ready_state:e.readyState}});return}case I.PLAYING:{e.pause(),p(I.PAUSED),l==null||l.addPoint("audio-pause-clicked",{int:{audio_ready_state:e.readyState}});return}}},[l,s,d]),v=m(function(e){var t=u.current;t!=null&&(t.currentTime=e,C(e))},[]);return[d,y,u,b,k(i,u,y,d===I.PLAYING,a,d===I.ENDED),v]}function x(){var e=o("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),t=e[0],n=e[1],a=e[2],i=g(function(){return t==null?I.NONE:t.ended?I.ENDED:t.paused?I.PAUSED:I.PLAYING}),l=i[0],s=i[1],u=g(function(){return t!=null?t.duration-t.currentTime:0}),c=u[0],d=u[1];_(function(){if(t!=null){var e=function(){return d(t.duration-t.currentTime)},n=function(){return s(I.LOADING)},o=function(){return s(I.ENDED)};return t.addEventListener("timeupdate",e),t.addEventListener("loadstart",n),t.addEventListener("ended",o),r("promiseDone")(t.play(),function(){return s(I.PLAYING)}),function(){t.removeEventListener("timeupdate",e),t.removeEventListener("loadstart",n),t.removeEventListener("ended",o)}}},[t]);var p=m(function(){if(t!=null)switch(l){case I.NONE:case I.LOADING:return;case I.ENDED:case I.PAUSED:{r("promiseDone")(t.play(),function(){return s(I.PLAYING)});return}case I.PLAYING:{t.pause(),s(I.PAUSED);return}}},[t,l]);return[a,l===I.PLAYING,t!=null&&a!=null&&C,c,p,n]}function $(e,t){var n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=p(r("MWResponsiveLayoutContext.react")),i=a.cardsVisible,l=r("useMatchViewport")("max","width",750),s=r("useMatchViewport")("max","width",1060),u=!1;return(l&&i===2||s&&i===3)&&(u=!0),(e!=null?e:n==="Inbox")?u?180:218:n==="ChatTab"&&t===!0?148:180}function P(e){var t=b();return t&&e===h.PLAYER?70:36}l.UseCase=h,l.UseCaseContext=y,l.isEnabled=C,l.useShowNewUX=b,l.getMousePos=v,l.ScreenReaderLabel=R,l.usePlaybackButtonContainerStyle=L,l.useResetHighlightProgress=E,l.useProgressLiveUpdate=k,l.State=I,l.useControlCenter=T,l.useOutOfChatControlCenter=x,l.useCalculatePlayerWidth=$,l.useCalculatePlayerHeight=P}),226);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.outgoing,a=o("MWPAudioPlayerUtils").useShowNewUX(),i=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),l=i[0],s=i[1];if(!a)return null;var c=n?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return u.jsx(r("MWXPressable.react"),{onPress:s,overlayDisabled:!0,children:u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,o("MWPAudioPlayerSharedStyles").styles.rightSideMargin,o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:c},children:l})})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.disabled,n=e.icon,a=e.label,i=e.onHoverMove,l=e.onPress,s=o("MWPAudioPlayerUtils").useShowNewUX(),c=s?{backgroundColor:"transparent"}:{};return u.jsx(r("MWXPressable.react"),{"aria-label":a,disabled:t,onPress:l,overlayDisabled:s,overlayRadius:"50%",style:c,testid:void 0,xstyle:o("MWPAudioPlayerSharedStyles").styles.pressable,children:n})}d.displayName=d.name+" [from "+i.id+"]",l.PlaybackRateButton=c,l.AudioPlayerPlaybackButton=d}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef;function p(t){var n=t.audioEl,a=t.children,i=t.hasScrubber,l=t.mediaRenderQpl,s=t.scrubberRef,c=t.style,p=t.testid,_=t.useCase,f=o("MWPAudioPlayerUtils").useShowNewUX(),g=m(),h=function(t){var e=n.current,r=g.current;e!=null&&r!=null&&Number.isFinite(e.duration)&&(e.currentTime=o("MWPAudioPlayerUtils").getMousePos(t,r)*e.duration)},y=function(t){if(g.current!=null&&s.current!=null)return s.current.updateHighlight(o("MWPAudioPlayerUtils").getMousePos(t,g.current)*100)},C=function(){if(s.current!=null)return s.current.updateHighlight(0)},b=o("MWPAudioPlayerUtils").useCalculatePlayerHeight(_),v=babelHelpers.extends({cursor:i?"pointer":"default",height:b},c),S=i&&!f;return d(function(){l==null||l.addPoint("render-audio-player-container",{bool:{show_new_ux:f},string:{use_case:_===o("MWPAudioPlayerUtils").UseCase.PLAYER?"Player":"Recorder"}})},[l,f,_]),u.jsx(o("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:_,children:u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:S?h:void 0,onMouseLeave:i?C:void 0,onMouseMove:S?y:void 0,ref:g,style:v,children:a})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=m;function m(t){var n=t.ref,a=t.xPosition,i=t.currentTime,l=t.duration;return c.jsx("div",{"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":i,className:(e||(e=r("stylex")))(i===0?o("MWPAudioPlayerSharedStyles").styles.transparentBar:o("MWPAudioPlayerSharedStyles").styles.bar),ref:n,role:"slider",style:{left:a.toFixed(2)+"%"}})}m.displayName=m.name+" [from "+i.id+"]";var p=d;l.default=p}),226);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e=["disabled","hasEnded","isPlaying","outgoing","scrubberLeft"],s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useLayoutEffect,_=d.useMemo,f=d.useRef,g=d.useState,h=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),y=3,C=3,b=44,v=4;function S(e,t){var n=_(function(){return e==null||e===""||e==="0,0"?h:Float32Array.from(e.split(",").map(Number))},[e]);return _(function(){if(t<=0||n.length===0)return[];var e=Math.floor(t/(C*2)),r=o("MWChatRecorderUtils").linearConversion(o("MWChatRecorderUtils").computeWaveformAmplitudes(n,e),v,b);return r.map(function(e,t){var n=Math.ceil(e),r=y,o=C,a=t*C*2,i="calc(50% - "+n/2+"px)";return{height:n,rx:r,width:o,x:a,y:i}})},[t,n])}function R(t){var n=t.disabled,a=n===void 0?!1:n,i=t.hasEnded,l=i===void 0?!1:i,u=t.isPlaying,d=u===void 0?!1:u,m=t.outgoing,_=t.scrubberLeft,h=babelHelpers.objectWithoutPropertiesLoose(t,e),y=f(null),C=g("auto"),b=C[0],v=C[1];p(function(){var e=y.current;v(function(){if(a)return"var(--disabled-button-text)";var t="auto";if((l||d)&&(t=m===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)"),e==null)return t;var n=e.getBoundingClientRect(),r=n.left;return _>r?m===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":t})},[a,l,d,m,_]);var S=(s||(s=r("stylex")))(m===!0?o("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:o("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return c.jsx("rect",babelHelpers.extends({},h,{className:S,ref:y,style:{fill:b}}))}R.displayName=R.name+" [from "+i.id+"]";function L(e){var t=e.disabled,n=e.hasEnded,a=e.isListened,i=e.isPlaying,l=e.outgoing,u=e.scrubberLeft,d=e.waveformData,p=n===!0||a===!0,_=g(0),f=_[0],h=_[1],y=m(function(e){h(e.width)},[]),C=r("useResizeObserver")(y),b=S(d,f);return b.length===0?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),{ref:C})):c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),{ref:C,children:c.jsx("svg",babelHelpers.extends({"aria-hidden":!0},s.props(o("MWPAudioPlayerSharedStyles").styles.mask),{children:b.map(function(e,n){return c.createElement(R,babelHelpers.extends({},e,{disabled:t,hasEnded:p,isPlaying:i,key:n,outgoing:l,scrubberLeft:u}))})}))}))}L.displayName=L.name+" [from "+i.id+"]",l.default=L}),98);
__d("MWPAudioPlayerHighlight.react",["fbt","MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useImperativeHandle,p=d.useLayoutEffect,_=d.useRef,f=d.useState;function g(t){var n,a,i,l,u=t.audioEl,d=t.children,g=t.disabled,y=t.duration,C=t.hasEnded,b=t.isListened,v=t.isPlaying,S=v===void 0?!0:v,R=t.onUpdateScrubber,L=t.outgoing,E=t.ref,k=t.waveformData,I=t.xstyle,T=o("MWPAudioPlayerUtils").useShowNewUX(),D=_(),x=_(),$=f(0),P=$[0],N=$[1],M=f(0),w=M[0],A=M[1];p(function(){if((u==null?void 0:u.current)!=null&&x.current!=null&&y!=null&&y>0){var e=u.current.currentTime,t=x.current;A(h(t,e/y*100))}},[u,y]),m(E,function(){return{updateHighlight:function(t){var e=D.current,n=x.current;if(e!=null)if(T){if(n!=null){var r=h(n,t);A(r)}}else e.style.transform="translateX("+(t-100).toFixed(1)+"%)"}}},[T]);var F=function(t){if(D.current!=null){var e,n,r,a,i=(e=D.current)==null?void 0:e.getBoundingClientRect(),l=(n=i==null?void 0:i.left)!=null?n:0,s=t.clientX-l,u=(r=(a=D.current)==null?void 0:a.offsetWidth)!=null?r:0;if(N(s/u*100),y!=null&&y>0){var c=o("MWPAudioPlayerUtils").getMousePos(t,D.current)*y;if(R!=null&&x.current!=null){var d=x.current;R(c),A(h(d,c/y*100))}}}},O=Math.floor((n=u==null||(a=u.current)==null?void 0:a.currentTime)!=null?n:0);if(T){var B,W;return c.jsxs(c.Fragment,{children:[d,c.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,o("MWPAudioPlayerSharedStyles").styles.scrubber),{onMouseDownCapture:F,ref:D,children:[c.jsx(r("MWPAudioPlayerScrubberBar.react"),{currentTime:O,duration:(B=u==null||(W=u.current)==null?void 0:W.duration)!=null?B:0,ref:x,xPosition:P}),c.jsx(r("MWPAudioPlayerWaveform.react"),{disabled:g,hasEnded:C,isListened:b,isPlaying:S,outgoing:L,scrubberLeft:w,waveformData:k})]}))]})}return c.jsx("div",babelHelpers.extends({"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":(i=u==null||(l=u.current)==null?void 0:l.duration)!=null?i:0,"aria-valuemin":0,"aria-valuenow":O},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,I),{ref:D,role:"slider"}))}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){e.style.left=t.toFixed(2)+"%",e.style.transition="transform 1s ease-out";var n=e.getBoundingClientRect(),r=n.left;return r}function y(e){var t=e.disabled,n=e.hasScrubber,r=e.progressHighlightRef,a=e.scrubberRef,i=e.audioEl,l=e.children,s=e.currentTime,u=e.duration,d=e.hasEnded,m=e.isListened,p=e.isPlaying,_=p===void 0?!0:p,f=e.onUpdateScrubber,h=e.outgoing,y=e.waveformData,C=e.xstyle,b=o("MWPAudioPlayerUtils").useShowNewUX();return b?c.jsx(g,{audioEl:i,disabled:t,duration:u,hasEnded:d,isListened:m,isPlaying:_,onUpdateScrubber:f,outgoing:h,ref:r,waveformData:y,xstyle:C,children:l}):c.jsxs(c.Fragment,{children:[c.jsx(g,{ref:r,xstyle:C}),n?c.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:s,duration:u}):null,c.jsx(g,{ref:a,xstyle:C}),l]})}y.displayName=y.name+" [from "+i.id+"]",l.MWPAudioPlayerHighlightV1=g,l.MWPAudioPlayerHighlightV2=y}),226);
__d("MWPAudioPlayerIcons.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.color;return s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:t})})}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=e.color;return s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("rect",{fill:t,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.color;return s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:t})})}d.displayName=d.name+" [from "+i.id+"]",l.PlayIcon=u,l.StopIcon=c,l.PauseIcon=d}),98);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){return e>30?5:e>10?3:e>5?2:e>2?1:.5}function _(e){var t=e.audioEl,n=e.children,o=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime-=p(e)}},[t]),a=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime+=p(e)}},[t]),i=d(function(){t.current!=null&&(t.current.currentTime=0)},[t]),l=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime=e}},[t]),c=m(function(){var e;return[{command:{key:(e=r("CometKeys")).UP},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.DOWN},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.LEFT},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.RIGHT},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.HOME},description:s._(/*BTDS*/"Sets slider to its minimum value."),handler:i},{command:{key:e.END},description:s._(/*BTDS*/"Sets slider to its maximum value."),handler:l}]},[o,a,i,l]);return u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:c,children:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWPAudioPlayerLabels",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Play"),u=s._(/*BTDS*/"Stop recording"),c=s._(/*BTDS*/"Pause");l.playLabel=e,l.stopLabel=u,l.pauseLabel=c}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.disabled,a=n===void 0?!1:n,i=t.outgoing,l=i===void 0?!0:i,s=t.time,c=o("MWPAudioPlayerUtils").useShowNewUX(),d=c?{color:l?a?"var(--disabled-button-text)":"var(--always-white)":a?"var(--disabled-button-text)":"var(--progress-ring-neutral-foreground)"}:{color:l?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"};return u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,!c&&o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,c&&o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,role:"timer",style:d,children:r("formatDurationSeconds")(s)})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){try{var t,n=(t=navigator.mediaDevices)==null?void 0:t.getSupportedConstraints();return n}catch(t){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""])),t),null}}l.getMediaDevicesSupportedConstraints=s}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WebWorker","clearTimeout","emptyFunction","getSafeQplErrorMessage","react","setTimeout","useIsMountedRef","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useReducer,_=c.useRef;function f(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function g(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function h(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.duration;case"Recorded":case"Playing":return Math.max(e.duration-e.currentTime,0)}}function y(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.recordingTimeout;case"Recorded":case"Playing":return e.duration}}function C(e){switch(e.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return e.currentTime}}function b(e){switch(e.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function v(e){return e.stage==="Recorded"?e.currentTime===0:!1}function S(e){switch(e.stage){case"Recording":return o("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return o("MWPAudioPlayerLabels").playLabel;case"Playing":return o("MWPAudioPlayerLabels").pauseLabel}}function R(e,t){switch(e.stage){case"Recording":return u.jsx(o("MWPAudioPlayerIcons.react").StopIcon,{color:t});case"Unopen":case"Recorded":return u.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:t});case"Playing":return u.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:t})}}R.displayName=R.name+" [from "+i.id+"]";function L(e,t){switch(t.type){case"Start":return{duration:0,mediaStream:t.mediaStream,recordingTimeout:t.recordingTimeout,stage:"Recording"};case"Toggle":{switch(e.stage){case"Unopen":return e;case"Recording":return{currentTime:0,duration:e.duration,stage:"Recorded"};case"Recorded":return{currentTime:e.currentTime,duration:e.duration,stage:"Playing"};case"Playing":return{currentTime:e.currentTime,duration:e.duration,stage:"Recorded"}}break}case"UpdateDuration":{if(e.duration!=null&&t.duration<e.duration)return e;var n=t.duration;switch(e.stage){case"Unopen":return e;case"Recording":return{duration:n,mediaStream:e.mediaStream,recordingTimeout:e.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:e.currentTime,duration:n,stage:"Recorded"};case"Playing":return{currentTime:e.currentTime,duration:n,stage:"Playing"}}break}case"UpdateTime":{var r=t.currentTime;switch(e.stage){case"Unopen":case"Recording":return e;case"Recorded":{var o=e.duration;return r===o?{currentTime:0,duration:o,stage:"Recorded"}:{currentTime:r,duration:o,stage:"Recorded"}}case"Playing":{var a=e.duration;return r===a?{currentTime:0,duration:a,stage:"Recorded"}:{currentTime:r,duration:a,stage:"Playing"}}}break}case"RecordingTimeout":return{currentTime:0,duration:t.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var E={stage:"Unopen"},k=1;function I(t){var a,i=t.maxDuration,l=i===void 0?60:i,s=t.logClickStartRecording,u=s===void 0?r("emptyFunction"):s,c=t.logBrowserDenyAccess,f=c===void 0?r("emptyFunction"):c,g=t.createVoiceRecordQpl,h=((a=o("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:a.sampleRate)===!0,y=p(L,E),C=y[0],b=y[1],v=r("useIsMountedRef")(),S=_(),R=_([]),I=_([]),T=_(),D=_(),x=_(),$=_(),P=_(),N=_(r("emptyFunction")),M=d(function(e){var t=e[0],n=e[1];if(v.current){var r=URL.createObjectURL(t);x.current=r;var o=new Audio(r);o.addEventListener("canplay",function(){var e;D.current=o;var r=o.duration;b({duration:r,type:"UpdateDuration"});var a={duration:r,file:t,waveformData:n};$.current=a,N.current(a),(e=P.current)==null||e.endSuccess()}),o.addEventListener("timeupdate",function(){var e,t=(e=D.current)==null?void 0:e.currentTime;t!=null&&b({currentTime:t,type:"UpdateTime"})}),o.addEventListener("durationchange",function(){var e,t=(e=D.current)==null?void 0:e.duration;t!=null&&!Number.isNaN(t)&&b({duration:t,type:"UpdateDuration"})})}},[v]),w=d(function(){S.current==null||T.current==null||T.current.postMessage({buffersL:R.current,buffersR:k===2?I.current:null,sampleRate:S.current})},[]);m(function(){if(C.stage==="Recording"){R.current=[],I.current=[];var e=r("AudioContextSingleton").get({sampleRate:h?44100:void 0}),t=e.destination;S.current=e.sampleRate;var n=C.mediaStream,o=e.createScriptProcessor(4096,k,k),a=e.createMediaStreamSource(n);T.current=new(r("WebWorker"))(r("MWChatRecorderUtilsWorkerResource")).setMessageHandler(M).setAllowCrossPageTransition(!0).execute();var i=function(t){C.stage==="Recording"&&t instanceof AudioProcessingEvent&&R.current.push(t.inputBuffer.getChannelData(0).slice())};return o.addEventListener("audioprocess",i),a.connect(o),o.connect(t),u(),function(){n.getAudioTracks().forEach(function(e){if(e.readyState!=="ended"){e.stop();return}}),o.removeEventListener("audioprocess",i)}}},[M,u,C.stage,C.mediaStream,h]);var A=r("usePrevious")(C);m(function(){(A==null?void 0:A.stage)==="Recording"&&C.stage==="Recorded"&&w()},[A==null?void 0:A.stage,w,C.stage]),m(function(){if(C.stage==="Recording"){var e=Date.now(),t,n=function(){var o=(Date.now()-e)/1e3;if(o>=l){b({recordingTimeout:l,type:"RecordingTimeout"});return}b({duration:o,type:"UpdateDuration"}),t=r("setTimeout")(n,1e3)};return t=r("setTimeout")(n,1e3),function(){t!=null&&r("clearTimeout")(t)}}},[l,C.stage]);var F=d(function(e){var t=g==null?void 0:g();P.current=t,t==null||t.start({startInfo:{isOpusRecorder:!1}}),b({mediaStream:e,recordingTimeout:l,type:"Start"})},[l,g]),O=d(function(){var e,t;(e=P.current)==null||e.endCancel(),b({type:"Reset"}),(t=D.current)==null||t.pause(),D.current=void 0,$.current=void 0,S.current=void 0;var n=x.current;n!=null&&(URL.revokeObjectURL(n),x.current=void 0)},[]),B=d(function(){var e=function(){b({maxDuration:l,type:"Toggle"})},t=D.current;if(t==null){e();return}switch(C.stage){case"Unopen":{e();break}case"Recording":{var n;(n=P.current)==null||n.addPoint("stop-recording"),e();break}case"Recorded":{var r;(r=P.current)==null||r.addPoint("play-audio"),t.play().then(e).catch(function(e){var t;(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),f()});break}case"Playing":{var a;(a=P.current)==null||a.addPoint("pause-playing"),t.pause(),e();break}}},[f,C.stage]),W=d(function(){return new(e||(e=n("Promise")))(function(e){var t=$.current;if(t!=null)return e(t);if(N.current=e,C.stage==="Recording")return B()})},[C,B]);return{audioEl:D,getVoiceClip:W,reset:O,start:F,state:C,toggle:B}}l.showScreenReaderLabel=f,l.hasScrubber=g,l.getTimerTime=h,l.getDuration=y,l.getCurrentTime=C,l.isProgressing=b,l.isCompleted=v,l.getPlaybackLabel=S,l.getPlaybackIcon=R,l.useVoiceRecorder=I}),98);
__d("MessengerLexicalEntityTextNode",["FBLogger","Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getEntity=function(){throw r("FBLogger")("messenger_comet").mustfixThrow("CometMessengerLexicalEntityTextNode does not implement getEntity")},t})(o("Lexical").TextNode);function s(t){return t instanceof e}l.MessengerLexicalEntityTextNode=e,l.isMessengerLexicalEntityTextNode=s}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.replace(" name","");return t=t.replace(" nickname",""),t=t.replace(" secondaryName",""),t}var s=(function(t){function n(n,r){var o,a=n.id,i=n.prefix,l=i===void 0?"@":i,s=n.text;return o=t.call(this,d(s,l),r)||this,o.__contactID=e(a),o.__prefix=l,o}babelHelpers.inheritsLoose(n,t),n.getType=function(){return"actor"},n.clone=function(t){return new n({id:t.__contactID,prefix:t.__prefix,text:m(t.__text,t.__prefix)},t.__key)},n.importJSON=function(t){return u({id:t.id,prefix:t.prefix,text:t.text})};var r=n.prototype;return r.exportJSON=function(){return babelHelpers.extends({},t.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:m(this.__text,this.__prefix),type:"actor"})},r.createDOM=function(n){var e=t.prototype.createDOM.call(this,n);return e.className="xv78j7m xt0e3qv x3jgonx",e.spellcheck=!1,e},r.getEntity=function(){return{id:this.__contactID,isWeak:!1}},r.getRangeType=function(){return o("MWChatComposerTypeaheadUtil").commandToRangeType(m(this.__text,this.__prefix))},n})(o("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function u(e,t){return t===void 0&&(t="segmented"),new s(e).setMode(t).toggleDirectionless()}function c(e){return e instanceof s}function d(e,t){return e.startsWith(t)?e:""+t+e}function m(e,t){return e.startsWith(t)?e.slice(t.length):e}l.MessengerLexicalActorNode=s,l.$createMessengerLexicalActorNode=u,l.$isMessengerLexicalActorNode=c}),98);